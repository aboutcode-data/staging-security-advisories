advisory_id: CVE-2023-38686
datasource_id: vulnrichment_importer_v2/CVE-2023-38686
datasource_url: https://github.com/cisagov/vulnrichment/blob/develop/2023/38xxx/CVE-2023-38686.json
aliases: []
summary: Sydent is an identity server for the Matrix communications protocol. Prior to version
  2.5.6, if configured to send emails using TLS, Sydent does not verify SMTP servers' certificates.
  This makes  Sydent's emails vulnerable to interception via a man-in-the-middle (MITM) attack.
  Attackers with privileged access to the network can intercept room invitations and address
  confirmation emails. This is patched in Sydent 2.5.6. When patching, make sure that Sydent
  trusts the certificate of the server it is connecting to. This should happen automatically
  when using properly issued certificates. Those who use self-signed certificates should make
  sure to copy their Certification Authority certificate, or their self signed certificate if
  using only one, to the trust store of your operating system. As a workaround, one can ensure
  Sydent's emails fail to send by setting the configured SMTP server to a loopback or non-routable
  address under one's control which does not have a listening SMTP server.
impacted_packages: []
severities:
  - score: '9.3'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:A/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:N
    published_at: None
    url:
  - score: Track*
    scoring_system: ssvc
    scoring_elements: SSVCv2/E:P/A:N/T:T/P:M/B:A/M:M/D:R/2024-10-08T17:45:32Z/
    published_at: None
    url:
weaknesses:
  - CWE-295
references:
  - url: https://docs.python.org/3/library/ssl.html?highlight=ssl#security-considerations
    reference_type:
    reference_id:
  - url: https://github.com/matrix-org/sydent/commit/1cd748307c6b168b66154e6c4db715d4b9551261
    reference_type:
    reference_id:
  - url: https://github.com/matrix-org/sydent/pull/574
    reference_type:
    reference_id:
  - url: https://github.com/matrix-org/sydent/releases/tag/v2.5.6
    reference_type:
    reference_id:
  - url: https://github.com/matrix-org/sydent/security/advisories/GHSA-p6hw-wm59-3g5g
    reference_type:
    reference_id:
  - url: https://github.com/python/cpython/issues/91826
    reference_type:
    reference_id:
  - url: https://peps.python.org/pep-0476/
    reference_type:
    reference_id:
