advisory_id: CVE-2024-42268
datasource_id: vulnrichment_importer_v2/CVE-2024-42268
datasource_url: https://github.com/cisagov/vulnrichment/blob/develop/2024/42xxx/CVE-2024-42268.json
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  net/mlx5: Fix missing lock on sync reset reload

  On sync reset reload work, when remote host updates devlink on reload
  actions performed on that host, it misses taking devlink lock before
  calling devlink_remote_reload_actions_performed() which results in
  triggering lock assert like the following:

  WARNING: CPU: 4 PID: 1164 at net/devlink/core.c:261 devl_assert_locked+0x3e/0x50
  …
   CPU: 4 PID: 1164 Comm: kworker/u96:6 Tainted: G S      W          6.10.0-rc2+ #116
   Hardware name: Supermicro SYS-2028TP-DECTR/X10DRT-PT, BIOS 2.0 12/18/2015
   Workqueue: mlx5_fw_reset_events mlx5_sync_reset_reload_work [mlx5_core]
   RIP: 0010:devl_assert_locked+0x3e/0x50
  …
   Call Trace:
    <TASK>
    ? __warn+0xa4/0x210
    ? devl_assert_locked+0x3e/0x50
    ? report_bug+0x160/0x280
    ? handle_bug+0x3f/0x80
    ? exc_invalid_op+0x17/0x40
    ? asm_exc_invalid_op+0x1a/0x20
    ? devl_assert_locked+0x3e/0x50
    devlink_notify+0x88/0x2b0
    ? mlx5_attach_device+0x20c/0x230 [mlx5_core]
    ? __pfx_devlink_notify+0x10/0x10
    ? process_one_work+0x4b6/0xbb0
    process_one_work+0x4b6/0xbb0
  […]
impacted_packages: []
severities:
  - score: Track
    scoring_system: ssvc
    scoring_elements: SSVCv2/E:N/A:N/T:P/P:M/B:A/M:M/D:T/2024-09-10T16:12:21Z/
    published_at: None
    url:
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/091268f3c27a5b6d7858a3bb2a0dbcc9cd26ddb5
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/572f9caa9e7295f8c8822e4122c7ae8f1c412ff9
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/5d07d1d40aabfd61bab21115639bd4f641db6002
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/98884e89c90d077f6fe6ba18e6cf6f914642f04e
    reference_type:
    reference_id:
