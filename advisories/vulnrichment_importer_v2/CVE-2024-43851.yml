advisory_id: CVE-2024-43851
datasource_id: vulnrichment_importer_v2/CVE-2024-43851
datasource_url: https://github.com/cisagov/vulnrichment/blob/develop/2024/43xxx/CVE-2024-43851.json
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  soc: xilinx: rename cpu_number1 to dummy_cpu_number

  The per cpu variable cpu_number1 is passed to xlnx_event_handler as
  argument "dev_id", but it is not used in this function. So drop the
  initialization of this variable and rename it to dummy_cpu_number.
  This patch is to fix the following call trace when the kernel option
  CONFIG_DEBUG_ATOMIC_SLEEP is enabled:

  BUG: sleeping function called from invalid context at include/linux/sched/mm.h:274
      in_atomic(): 1, irqs_disabled(): 0, non_block: 0, pid: 1, name: swapper/0
      preempt_count: 1, expected: 0
      CPU: 0 PID: 1 Comm: swapper/0 Not tainted 6.1.0 #53
      Hardware name: Xilinx Versal vmk180 Eval board rev1.1 (QSPI) (DT)
      Call trace:
       dump_backtrace+0xd0/0xe0
       show_stack+0x18/0x40
       dump_stack_lvl+0x7c/0xa0
       dump_stack+0x18/0x34
       __might_resched+0x10c/0x140
       __might_sleep+0x4c/0xa0
       __kmem_cache_alloc_node+0xf4/0x168
       kmalloc_trace+0x28/0x38
       __request_percpu_irq+0x74/0x138
       xlnx_event_manager_probe+0xf8/0x298
       platform_probe+0x68/0xd8
impacted_packages: []
severities:
  - score: Track
    scoring_system: ssvc
    scoring_elements: SSVCv2/E:N/A:N/T:P/P:M/B:A/M:M/D:T/2024-09-10T16:07:24Z/
    published_at: None
    url:
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/4a95449dd975e2ea6629a034f3e74b46c9634916
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/a5e507fadab76393cbc12344ebd65a417a09aa46
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/a96e60a6ea6818fd37b1853283a512c49af38cf5
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/f762acdaff9e54688be16e6c832c73a61533c1df
    reference_type:
    reference_id:
