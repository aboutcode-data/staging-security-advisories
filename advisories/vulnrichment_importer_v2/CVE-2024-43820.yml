advisory_id: CVE-2024-43820
datasource_id: vulnrichment_importer_v2/CVE-2024-43820
datasource_url: https://github.com/cisagov/vulnrichment/blob/develop/2024/43xxx/CVE-2024-43820.json
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  dm-raid: Fix WARN_ON_ONCE check for sync_thread in raid_resume

  rm-raid devices will occasionally trigger the following warning when
  being resumed after a table load because DM_RECOVERY_RUNNING is set:

  WARNING: CPU: 7 PID: 5660 at drivers/md/dm-raid.c:4105 raid_resume+0xee/0x100 [dm_raid]

  The failing check is:
  WARN_ON_ONCE(test_bit(MD_RECOVERY_RUNNING, &mddev->recovery));

  This check is designed to make sure that the sync thread isn't
  registered, but md_check_recovery can set MD_RECOVERY_RUNNING without
  the sync_thread ever getting registered. Instead of checking if
  MD_RECOVERY_RUNNING is set, check if sync_thread is non-NULL.
impacted_packages: []
severities:
  - score: Track
    scoring_system: ssvc
    scoring_elements: SSVCv2/E:N/A:N/T:P/P:M/B:A/M:M/D:T/2024-09-10T16:09:03Z/
    published_at: None
    url:
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/3199a34bfaf7561410e0be1e33a61eba870768fc
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/a5c15a78c0e1631b7df822b56e8b6424e4d1ca3e
    reference_type:
    reference_id:
