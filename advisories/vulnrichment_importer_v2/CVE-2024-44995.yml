advisory_id: CVE-2024-44995
datasource_id: vulnrichment_importer_v2/CVE-2024-44995
datasource_url: https://github.com/cisagov/vulnrichment/blob/develop/2024/44xxx/CVE-2024-44995.json
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  net: hns3: fix a deadlock problem when config TC during resetting

  When config TC during the reset process, may cause a deadlock, the flow is
  as below:
                               pf reset start
                                   │
                                   ▼
                                ......
  setup tc                         │
      │                            ▼
      ▼                      DOWN: napi_disable()
  napi_disable()(skip)             │
      │                            │
      ▼                            ▼
    ......                      ......
      │                            │
      ▼                            │
  napi_enable()                    │
                                   ▼
                             UINIT: netif_napi_del()
                                   │
                                   ▼
                                ......
                                   │
                                   ▼
                             INIT: netif_napi_add()
                                   │
                                   ▼
                                ......                 global reset start
                                   │                      │
                                   ▼                      ▼
                             UP: napi_enable()(skip)    ......
                                   │                      │
                                   ▼                      ▼
                                ......                 napi_disable()

  In reset process, the driver will DOWN the port and then UINIT, in this
  case, the setup tc process will UP the port before UINIT, so cause the
  problem. Adds a DOWN process in UINIT to fix it.
impacted_packages: []
severities:
  - score: Track
    scoring_system: ssvc
    scoring_elements: SSVCv2/E:N/A:N/T:P/P:M/B:A/M:M/D:T/2024-09-04T20:19:19Z/
    published_at: None
    url:
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/195918217448a6bb7f929d6a2ffffce9f1ece1cc
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/67492d4d105c0a6321b00c393eec96b9a7a97a16
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/6ae2b7d63cd056f363045eb65409143e16f23ae8
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/be5e816d00a506719e9dbb1a9c861c5ced30a109
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/de37408d5c26fc4a296a28a0c96dcb814219bfa1
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/fa1d4de7265c370e673583ac8d1bd17d21826cd9
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/fc250eca15bde34c4c8f806b9d88f55bd56a992c
    reference_type:
    reference_id:
