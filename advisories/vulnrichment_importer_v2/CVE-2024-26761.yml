advisory_id: CVE-2024-26761
datasource_id: vulnrichment_importer_v2/CVE-2024-26761
datasource_url: https://github.com/cisagov/vulnrichment/blob/develop/2024/26xxx/CVE-2024-26761.json
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  cxl/pci: Fix disabling memory if DVSEC CXL Range does not match a CFMWS window

  The Linux CXL subsystem is built on the assumption that HPA == SPA.
  That is, the host physical address (HPA) the HDM decoder registers are
  programmed with are system physical addresses (SPA).

  During HDM decoder setup, the DVSEC CXL range registers (cxl-3.1,
  8.1.3.8) are checked if the memory is enabled and the CXL range is in
  a HPA window that is described in a CFMWS structure of the CXL host
  bridge (cxl-3.1, 9.18.1.3).

  Now, if the HPA is not an SPA, the CXL range does not match a CFMWS
  window and the CXL memory range will be disabled then. The HDM decoder
  stops working which causes system memory being disabled and further a
  system hang during HDM decoder initialization, typically when a CXL
  enabled kernel boots.

  Prevent a system hang and do not disable the HDM decoder if the
  decoder's CXL range is not found in a CFMWS window.

  Note the change only fixes a hardware hang, but does not implement
  HPA/SPA translation. Support for this can be added in a follow on
  patch series.
impacted_packages: []
severities:
  - score: Track
    scoring_system: ssvc
    scoring_elements: SSVCv2/E:N/A:N/T:P/P:M/B:A/M:M/D:T/2024-04-03T18:38:51Z/
    published_at: None
    url:
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/031217128990d7f0ab8c46db1afb3cf1e075fd29
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/0cab687205986491302cd2e440ef1d253031c221
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/2cc1a530ab31c65b52daf3cb5d0883c8b614ea69
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/3a3181a71935774bda2398451256d7441426420b
    reference_type:
    reference_id:
