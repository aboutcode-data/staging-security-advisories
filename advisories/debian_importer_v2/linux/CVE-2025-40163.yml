advisory_id: linux/CVE-2025-40163
datasource_id: debian_importer_v2/linux/CVE-2025-40163
datasource_url: https://security-tracker.debian.org/tracker/CVE-2025-40163
aliases:
  - CVE-2025-40163
summary: 'In the Linux kernel, the following vulnerability has been resolved:  sched/deadline:
  Stop dl_server before CPU goes offline  IBM CI tool reported kernel warning[1] when running
  a CPU removal operation through drmgr[2]. i.e "drmgr -c cpu -r -q 1"  WARNING: CPU: 0 PID:
  0 at kernel/sched/cpudeadline.c:219 cpudl_set+0x58/0x170 NIP [c0000000002b6ed8] cpudl_set+0x58/0x170
  LR [c0000000002b7cb8] dl_server_timer+0x168/0x2a0 Call Trace: [c000000002c2f8c0] init_stack+0x78c0/0x8000
  (unreliable) [c0000000002b7cb8] dl_server_timer+0x168/0x2a0 [c00000000034df84] __hrtimer_run_queues+0x1a4/0x390
  [c00000000034f624] hrtimer_interrupt+0x124/0x300 [c00000000002a230] timer_interrupt+0x140/0x320  Git
  bisects to: commit 4ae8d9aa9f9d ("sched/deadline: Fix dl_server getting stuck")  This happens
  since: - dl_server hrtimer gets enqueued close to cpu offline, when   kthread_park enqueues
  a fair task. - CPU goes offline and drmgr removes it from cpu_present_mask. - hrtimer fires
  and warning is hit.  Fix it by stopping the dl_server before CPU is marked dead.  [1]: https://lore.kernel.org/all/8218e149-7718-4432-9312-f97297c352b9@linux.ibm.com/
  [2]: https://github.com/ibm-power-utilities/powerpc-utils/tree/next/src/drmgr  [sshegde: wrote
  the changelog and tested it]'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.13-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
