advisory_id: linux/CVE-2024-35986
datasource_id: debian_importer_v2/linux/CVE-2024-35986
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-35986
aliases:
  - CVE-2024-35986
summary: "In the Linux kernel, the following vulnerability has been resolved:  phy: ti: tusb1210:\
  \ Resolve charger-det crash if charger psy is unregistered  The power_supply frame-work is\
  \ not really designed for there to be long living in kernel references to power_supply devices.\
  \  Specifically unregistering a power_supply while some other code has a reference to it triggers\
  \ a WARN in power_supply_unregister():  \tWARN_ON(atomic_dec_return(&psy->use_cnt));  Folllowed\
  \ by the power_supply still getting removed and the backing data freed anyway, leaving the\
  \ tusb1210 charger-detect code with a dangling reference, resulting in a crash the next time\
  \ tusb1210_get_online() is called.  Fix this by only holding the reference in tusb1210_get_online()\
  \ freeing it at the end of the function. Note this still leaves a theoretical race window,\
  \ but it avoids the issue when manually rmmod-ing the charger chip driver during development."
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.90-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.8.9-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.13-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
