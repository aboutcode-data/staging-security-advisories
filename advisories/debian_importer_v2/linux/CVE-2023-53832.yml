advisory_id: linux/CVE-2023-53832
datasource_id: debian_importer_v2/linux/CVE-2023-53832
datasource_url: https://security-tracker.debian.org/tracker/CVE-2023-53832
aliases:
  - CVE-2023-53832
summary: 'In the Linux kernel, the following vulnerability has been resolved:  md/raid10: fix
  null-ptr-deref in raid10_sync_request  init_resync() inits mempool and sets conf->have_replacemnt
  at the beginning of sync, close_sync() frees the mempool when sync is completed.  After [1]
  recovery might be skipped and init_resync() is called but close_sync() is not. null-ptr-deref
  occurs with r10bio->dev[i].repl_bio.  The following is one way to reproduce the issue.    1)
  create a array, wait for resync to complete, mddev->recovery_cp is set      to MaxSector.   2)
  recovery is woken and it is skipped. conf->have_replacement is set to      0 in init_resync().
  close_sync() not called.   3) some io errors and rdev A is set to WantReplacement.   4) a
  new device is added and set to A''s replacement.   5) recovery is woken, A have replacement,
  but conf->have_replacemnt is      0. r10bio->dev[i].repl_bio will not be alloced and null-ptr-deref      occurs.  Fix
  it by not calling init_resync() if recovery skipped.  [1] commit 7e83ccbecd60 ("md/raid10:
  Allow skipping recovery when clean arrays are assembled")'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.37-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.191-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.3.7-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
