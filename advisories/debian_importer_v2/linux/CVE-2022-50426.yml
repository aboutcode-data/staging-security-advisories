advisory_id: linux/CVE-2022-50426
datasource_id: debian_importer_v2/linux/CVE-2022-50426
datasource_url: https://security-tracker.debian.org/tracker/CVE-2022-50426
aliases:
  - CVE-2022-50426
summary: 'In the Linux kernel, the following vulnerability has been resolved:  remoteproc: imx_dsp_rproc:
  Add mutex protection for workqueue  The workqueue may execute late even after remoteproc is
  stopped or stopping, some resources (rpmsg device and endpoint) have been released in rproc_stop_subdevices(),
  then rproc_vq_interrupt() accessing these resources will cause kennel dump.  Call trace:  virtqueue_add_split+0x1ac/0x560  virtqueue_add_inbuf+0x4c/0x60  rpmsg_recv_done+0x15c/0x294  vring_interrupt+0x6c/0xa4  rproc_vq_interrupt+0x30/0x50  imx_dsp_rproc_vq_work+0x24/0x40
  [imx_dsp_rproc]  process_one_work+0x1d0/0x354  worker_thread+0x13c/0x470  kthread+0x154/0x160  ret_from_fork+0x10/0x20  Add
  mutex protection in imx_dsp_rproc_vq_work(), if the state is not running, then just skip calling
  rproc_vq_interrupt().  Also the flush workqueue operation can''t be added in rproc stop for
  the same reason. The call sequence is  rproc_shutdown -> rproc_stop    ->rproc_stop_subdevices    ->rproc->ops->stop()      ->imx_dsp_rproc_stop        ->flush_work          ->
  rproc_vq_interrupt  The resource needed by rproc_vq_interrupt has been released in rproc_stop_subdevices,
  so flush_work is not safe to be called in imx_dsp_rproc_stop.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.4-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.13-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
