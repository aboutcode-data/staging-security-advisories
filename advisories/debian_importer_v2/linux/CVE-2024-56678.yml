advisory_id: linux/CVE-2024-56678
datasource_id: debian_importer_v2/linux/CVE-2024-56678
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-56678
aliases:
  - CVE-2024-56678
summary: 'In the Linux kernel, the following vulnerability has been resolved:  powerpc/mm/fault:
  Fix kfence page fault reporting  copy_from_kernel_nofault() can be called when doing read
  of /proc/kcore. /proc/kcore can have some unmapped kfence objects which when read via copy_from_kernel_nofault()
  can cause page faults. Since *_nofault() functions define their own fixup table for handling
  fault, use that instead of asking kfence to handle such faults.  Hence we search the exception
  tables for the nip which generated the fault. If there is an entry then we let the fixup table
  handler handle the page fault by returning an error from within ___do_page_fault().  This
  can be easily triggered if someone tries to do dd from /proc/kcore. eg. dd if=/proc/kcore
  of=/dev/null bs=1M  Some example false negatives:    ===============================   BUG:
  KFENCE: invalid read in copy_from_kernel_nofault+0x9c/0x1a0   Invalid read at 0xc0000000fdff0000:    copy_from_kernel_nofault+0x9c/0x1a0    0xc00000000665f950    read_kcore_iter+0x57c/0xa04    proc_reg_read_iter+0xe4/0x16c    vfs_read+0x320/0x3ec    ksys_read+0x90/0x154    system_call_exception+0x120/0x310    system_call_vectored_common+0x15c/0x2ec    BUG:
  KFENCE: use-after-free read in copy_from_kernel_nofault+0x9c/0x1a0   Use-after-free read at
  0xc0000000fe050000 (in kfence-#2):    copy_from_kernel_nofault+0x9c/0x1a0    0xc00000000665f950    read_kcore_iter+0x57c/0xa04    proc_reg_read_iter+0xe4/0x16c    vfs_read+0x320/0x3ec    ksys_read+0x90/0x154    system_call_exception+0x120/0x310    system_call_vectored_common+0x15c/0x2ec'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.123-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.3-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
