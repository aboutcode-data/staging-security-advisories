advisory_id: linux/CVE-2025-38700
datasource_id: debian_importer_v2/linux/CVE-2025-38700
datasource_url: https://security-tracker.debian.org/tracker/CVE-2025-38700
aliases:
  - CVE-2025-38700
summary: 'In the Linux kernel, the following vulnerability has been resolved:  scsi: libiscsi:
  Initialize iscsi_conn->dd_data only if memory is allocated  In case of an ib_fast_reg_mr allocation
  failure during iSER setup, the machine hits a panic because iscsi_conn->dd_data is initialized
  unconditionally, even when no memory is allocated (dd_size == 0).  This leads invalid pointer
  dereference during connection teardown.  Fix by setting iscsi_conn->dd_data only if memory
  is actually allocated.  Panic trace: ------------  iser: iser_create_fastreg_desc: Failed
  to allocate ib_fast_reg_mr err=-12  iser: iser_alloc_rx_descriptors: failed allocating rx
  descriptors / data buffers  BUG: unable to handle page fault for address: fffffffffffffff8  RIP:
  0010:swake_up_locked.part.5+0xa/0x40  Call Trace:   complete+0x31/0x40   iscsi_iser_conn_stop+0x88/0xb0
  [ib_iser]   iscsi_stop_conn+0x66/0xc0 [scsi_transport_iscsi]   iscsi_if_stop_conn+0x14a/0x150
  [scsi_transport_iscsi]   iscsi_if_rx+0x1135/0x1834 [scsi_transport_iscsi]   ? netlink_lookup+0x12f/0x1b0   ?
  netlink_deliver_tap+0x2c/0x200   netlink_unicast+0x1ab/0x280   netlink_sendmsg+0x257/0x4f0   ?
  _copy_from_user+0x29/0x60   sock_sendmsg+0x5f/0x70'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.153-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.244-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.16.3-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.13-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.43-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
