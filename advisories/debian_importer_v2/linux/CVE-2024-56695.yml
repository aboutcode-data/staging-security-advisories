advisory_id: linux/CVE-2024-56695
datasource_id: debian_importer_v2/linux/CVE-2024-56695
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-56695
aliases:
  - CVE-2024-56695
summary: 'In the Linux kernel, the following vulnerability has been resolved:  drm/amdkfd: Use
  dynamic allocation for CU occupancy array in ''kfd_get_cu_occupancy()''  The `kfd_get_cu_occupancy`
  function previously declared a large `cu_occupancy` array as a local variable, which could
  lead to stack overflows due to excessive stack usage. This commit replaces the static array
  allocation with dynamic memory allocation using `kcalloc`, thereby reducing the stack size.  This
  change avoids the risk of stack overflows in kernel space,  in scenarios where `AMDGPU_MAX_QUEUES`
  is large. The  allocated memory is freed using `kfree` before the function returns  to prevent
  memory leaks.  Fixes the below with gcc W=1: drivers/gpu/drm/amd/amdgpu/../amdkfd/kfd_process.c:
  In function ‘kfd_get_cu_occupancy’: drivers/gpu/drm/amd/amdgpu/../amdkfd/kfd_process.c:322:1:
  warning: the frame size of 1056 bytes is larger than 1024 bytes [-Wframe-larger-than=]   322
  | }       | ^'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
