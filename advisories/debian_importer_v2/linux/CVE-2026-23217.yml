advisory_id: linux/CVE-2026-23217
datasource_id: debian_importer_v2/linux/CVE-2026-23217
datasource_url: https://security-tracker.debian.org/tracker/CVE-2026-23217
aliases:
  - CVE-2026-23217
summary: 'In the Linux kernel, the following vulnerability has been resolved:  riscv: trace:
  fix snapshot deadlock with sbi ecall  If sbi_ecall.c''s functions are traceable,  echo "__sbi_ecall:snapshot"
  > /sys/kernel/tracing/set_ftrace_filter  may get the kernel into a deadlock.  (Functions in
  sbi_ecall.c are excluded from tracing if CONFIG_RISCV_ALTERNATIVE_EARLY is set.)  __sbi_ecall
  triggers a snapshot of the ringbuffer. The snapshot code raises an IPI interrupt, which results
  in another call to __sbi_ecall and another snapshot...  All it takes to get into this endless
  loop is one initial __sbi_ecall. On RISC-V systems without SSTC extension, the clock events
  in timer-riscv.c issue periodic sbi ecalls, making the problem easy to trigger.  Always exclude
  the sbi_ecall.c functions from tracing to fix the potential deadlock.  sbi ecalls can easiliy
  be logged via trace events, excluding ecall functions from function tracing is not a big limitation.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/6.12.63-1
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/6.12.63-1
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/6.12.63-1
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/6.12.63-1
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/6.12.63-1
    fixed_versions: vers:deb/6.18.10-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/6.12.63-1
    fixed_versions: vers:deb/6.18.13-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
