advisory_id: linux/CVE-2024-46845
datasource_id: debian_importer_v2/linux/CVE-2024-46845
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-46845
aliases:
  - CVE-2024-46845
summary: 'In the Linux kernel, the following vulnerability has been resolved:  tracing/timerlat:
  Only clear timer if a kthread exists  The timerlat tracer can use user space threads to check
  for osnoise and timer latency. If the program using this is killed via a SIGTERM, the threads
  are shutdown one at a time and another tracing instance can start up resetting the threads
  before they are fully closed. That causes the hrtimer assigned to the kthread to be shutdown
  and freed twice when the dying thread finally closes the file descriptors, causing a use-after-free
  bug.  Only cancel the hrtimer if the associated thread is still around. Also add the interface_lock
  around the resetting of the tlat_var->kthread.  Note, this is just a quick fix that can be
  backported to stable. A real fix is to have a better synchronization between the shutdown
  of old threads and the starting of new ones.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.10.11-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.13-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
