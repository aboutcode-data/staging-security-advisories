advisory_id: linux/CVE-2021-47421
datasource_id: debian_importer_v2/linux/CVE-2021-47421
datasource_url: https://security-tracker.debian.org/tracker/CVE-2021-47421
aliases:
  - CVE-2021-47421
summary: 'In the Linux kernel, the following vulnerability has been resolved:  drm/amdgpu: handle
  the case of pci_channel_io_frozen only in amdgpu_pci_resume  In current code, when a PCI error
  state pci_channel_io_normal is detectd, it will report PCI_ERS_RESULT_CAN_RECOVER status to
  PCI driver, and PCI driver will continue the execution of PCI resume callback report_resume
  by pci_walk_bridge, and the callback will go into amdgpu_pci_resume finally, where write lock
  is releasd unconditionally without acquiring such lock first. In this case, a deadlock will
  happen when other threads start to acquire the read lock.  To fix this, add a member in amdgpu_device
  strucutre to cache pci_channel_state, and only continue the execution in amdgpu_pci_resume
  when it''s pci_channel_io_frozen.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.14.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.244-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
