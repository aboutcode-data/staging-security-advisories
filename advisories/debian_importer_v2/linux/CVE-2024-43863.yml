advisory_id: linux/CVE-2024-43863
datasource_id: debian_importer_v2/linux/CVE-2024-43863
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-43863
aliases:
  - CVE-2024-43863
summary: 'In the Linux kernel, the following vulnerability has been resolved:  drm/vmwgfx: Fix
  a deadlock in dma buf fence polling  Introduce a version of the fence ops that on release
  doesn''t remove the fence from the pending list, and thus doesn''t require a lock to fix poll->fence
  wait->fence unref deadlocks.  vmwgfx overwrites the wait callback to iterate over the list
  of all fences and update their status, to do that it holds a lock to prevent the list modifcations
  from other threads. The fence destroy callback both deletes the fence and removes it from
  the list of pending fences, for which it holds a lock.  dma buf polling cb unrefs a fence
  after it''s been signaled: so the poll calls the wait, which signals the fences, which are
  being destroyed. The destruction tries to acquire the lock on the pending fences list which
  it can never get because it''s held by the wait from which it was called.  Old bug, but not
  a lot of userspace apps were using dma-buf polling interfaces. Fix those, in particular this
  fixes KDE stalls/deadlock.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.106-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.244-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.10.4-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
