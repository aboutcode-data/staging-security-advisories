advisory_id: linux/CVE-2024-50199
datasource_id: debian_importer_v2/linux/CVE-2024-50199
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-50199
aliases:
  - CVE-2024-50199
summary: 'In the Linux kernel, the following vulnerability has been resolved:  mm/swapfile:
  skip HugeTLB pages for unuse_vma  I got a bad pud error and lost a 1GB HugeTLB when calling
  swapoff.  The problem can be reproduced by the following steps:   1. Allocate an anonymous
  1GB HugeTLB and some other anonymous memory.  2. Swapout the above anonymous memory.  3. run
  swapoff and we will get a bad pud error in kernel message:    mm/pgtable-generic.c:42: bad
  pud 00000000743d215d(84000001400000e7)  We can tell that pud_clear_bad is called by pud_none_or_clear_bad
  in unuse_pud_range() by ftrace.  And therefore the HugeTLB pages will never be freed because
  we lost it from page table.  We can skip HugeTLB pages for unuse_vma to fix it.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.115-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.234-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.11.5-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
