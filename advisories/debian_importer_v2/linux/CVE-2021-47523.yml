advisory_id: linux/CVE-2021-47523
datasource_id: debian_importer_v2/linux/CVE-2021-47523
datasource_url: https://security-tracker.debian.org/tracker/CVE-2021-47523
aliases:
  - CVE-2021-47523
summary: "In the Linux kernel, the following vulnerability has been resolved:  IB/hfi1: Fix\
  \ leak of rcvhdrtail_dummy_kvaddr  This buffer is currently allocated in hfi1_init():  \t\
  if (reinit) \t\tret = init_after_reset(dd); \telse \t\tret = loadtime_init(dd); \tif (ret)\
  \ \t\tgoto done;  \t/* allocate dummy tail memory for all receive contexts */ \tdd->rcvhdrtail_dummy_kvaddr\
  \ = dma_alloc_coherent(&dd->pcidev->dev, \t\t\t\t\t\t\t sizeof(u64), \t\t\t\t\t\t\t &dd->rcvhdrtail_dummy_dma,\
  \ \t\t\t\t\t\t\t GFP_KERNEL);  \tif (!dd->rcvhdrtail_dummy_kvaddr) { \t\tdd_dev_err(dd, \"\
  cannot allocate dummy tail memory\\n\"); \t\tret = -ENOMEM; \t\tgoto done; \t}  The reinit\
  \ triggered path will overwrite the old allocation and leak it.  Fix by moving the allocation\
  \ to hfi1_alloc_devdata() and the deallocation to hfi1_free_devdata()."
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.15.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.92-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
