advisory_id: linux/CVE-2024-46691
datasource_id: debian_importer_v2/linux/CVE-2024-46691
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-46691
aliases:
  - CVE-2024-46691
summary: 'In the Linux kernel, the following vulnerability has been resolved:  usb: typec: ucsi:
  Move unregister out of atomic section  Commit ''9329933699b3 ("soc: qcom: pmic_glink: Make
  client-lock non-sleeping")'' moved the pmic_glink client list under a spinlock, as it is accessed
  by the rpmsg/glink callback, which in turn is invoked from IRQ context.  This means that ucsi_unregister()
  is now called from atomic context, which isn''t feasible as it''s expecting a sleepable context.
  An effort is under way to get GLINK to invoke its callbacks in a sleepable context, but until
  then lets schedule the unregistration.  A side effect of this is that ucsi_unregister() can
  now happen after the remote processor, and thereby the communication link with it, is gone.
  pmic_glink_send() is amended with a check to avoid the resulting NULL pointer dereference.
  This does however result in the user being informed about this error by the following entry
  in the kernel log:    ucsi_glink.pmic_glink_ucsi pmic_glink.ucsi.0: failed to send UCSI write
  request: -5'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.10.9-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.13-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
