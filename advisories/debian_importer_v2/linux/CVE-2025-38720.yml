advisory_id: linux/CVE-2025-38720
datasource_id: debian_importer_v2/linux/CVE-2025-38720
datasource_url: https://security-tracker.debian.org/tracker/CVE-2025-38720
aliases:
  - CVE-2025-38720
summary: "In the Linux kernel, the following vulnerability has been resolved:  net: hibmcge:\
  \ fix rtnl deadlock issue  Currently, the hibmcge netdev acquires the rtnl_lock in pci_error_handlers.reset_prepare()\
  \ and releases it in pci_error_handlers.reset_done().  However, in the PCI framework: pci_reset_bus\
  \ - __pci_reset_slot - pci_slot_save_and_disable_locked -  pci_dev_save_and_disable - err_handler->reset_prepare(dev);\
  \  In pci_slot_save_and_disable_locked(): \tlist_for_each_entry(dev, &slot->bus->devices,\
  \ bus_list) { \t\tif (!dev->slot || dev->slot!= slot) \t\t\tcontinue; \t\tpci_dev_save_and_disable(dev);\
  \ \t\tif (dev->subordinate) \t\t\tpci_bus_save_and_disable_locked(dev->subordinate); \t} \
  \ This will iterate through all devices under the current bus and execute err_handler->reset_prepare(),\
  \ causing two devices of the hibmcge driver to sequentially request the rtnl_lock, leading\
  \ to a deadlock.  Since the driver now executes netif_device_detach() before the reset process,\
  \ it will not concurrently with other netdev APIs, so there is no need to hold the rtnl_lock\
  \ now.  Therefore, this patch removes the rtnl_lock during the reset process and adjusts the\
  \ position of HBG_NIC_STATE_RESETTING to ensure that multiple resets are not executed concurrently."
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
