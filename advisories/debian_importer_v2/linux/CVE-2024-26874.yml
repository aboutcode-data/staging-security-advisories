advisory_id: linux/CVE-2024-26874
datasource_id: debian_importer_v2/linux/CVE-2024-26874
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-26874
aliases:
  - CVE-2024-26874
summary: 'In the Linux kernel, the following vulnerability has been resolved:  drm/mediatek:
  Fix a null pointer crash in mtk_drm_crtc_finish_page_flip  It''s possible that mtk_crtc->event
  is NULL in mtk_drm_crtc_finish_page_flip().  pending_needs_vblank value is set by mtk_crtc->event,
  but in mtk_drm_crtc_atomic_flush(), it''s is not guarded by the same lock in mtk_drm_finish_page_flip(),
  thus a race condition happens.  Consider the following case:  CPU1                              CPU2
  step 1: mtk_drm_crtc_atomic_begin() mtk_crtc->event is not null,                                   step
  1:                                   mtk_drm_crtc_atomic_flush:                                   mtk_drm_crtc_update_config(                                       !!mtk_crtc->event)
  step 2: mtk_crtc_ddp_irq -> mtk_drm_finish_page_flip: lock mtk_crtc->event set to null, pending_needs_vblank
  set to false unlock                                   pending_needs_vblank set to true,                                    step
  2:                                   mtk_crtc_ddp_irq ->                                   mtk_drm_finish_page_flip
  called again,                                   pending_needs_vblank is still true                                   //null
  pointer  Instead of guarding the entire mtk_drm_crtc_atomic_flush(), it''s more efficient
  to just check if mtk_crtc->event is null before use.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.85-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.216-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.7.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
