advisory_id: linux/CVE-2024-26846
datasource_id: debian_importer_v2/linux/CVE-2024-26846
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-26846
aliases:
  - CVE-2024-26846
summary: 'In the Linux kernel, the following vulnerability has been resolved:  nvme-fc: do not
  wait in vain when unloading module  The module exit path has race between deleting all controllers
  and freeing ''left over IDs''. To prevent double free a synchronization between nvme_delete_ctrl
  and ida_destroy has been added by the initial commit.  There is some logic around trying to
  prevent from hanging forever in wait_for_completion, though it does not handling all cases.
  E.g. blktests is able to reproduce the situation where the module unload hangs forever.  If
  we completely rely on the cleanup code executed from the nvme_delete_ctrl path, all IDs will
  be freed eventually. This makes calling ida_destroy unnecessary. We only have to ensure that
  all nvme_delete_ctrl code has been executed before we leave nvme_fc_exit_module. This is done
  by flushing the nvme_delete_wq workqueue.  While at it, remove the unused nvme_fc_wq workqueue
  too.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.82-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.216-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.7.7-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.13-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
