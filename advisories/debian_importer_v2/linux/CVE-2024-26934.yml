advisory_id: linux/CVE-2024-26934
datasource_id: debian_importer_v2/linux/CVE-2024-26934
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-26934
aliases:
  - CVE-2024-26934
summary: 'In the Linux kernel, the following vulnerability has been resolved:  USB: core: Fix
  deadlock in usb_deauthorize_interface()  Among the attribute file callback routines in drivers/usb/core/sysfs.c,
  the interface_authorized_store() function is the only one which acquires a device lock on
  an ancestor device: It calls usb_deauthorize_interface(), which locks the interface''s parent
  USB device.  The will lead to deadlock if another process already owns that lock and tries
  to remove the interface, whether through a configuration change or because the device has
  been disconnected.  As part of the removal procedure, device_del() waits for all ongoing sysfs
  attribute callbacks to complete.  But usb_deauthorize_interface() can''t complete until the
  device lock has been released, and the lock won''t be released until the removal has finished.  The
  mechanism provided by sysfs to prevent this kind of deadlock is to use the sysfs_break_active_protection()
  function, which tells sysfs not to wait for the attribute callback.  Reported-and-tested by:
  Yue Sun <samsun1006219@gmail.com> Reported by: xingwei lee <xrivendell7@gmail.com>'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.85-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.216-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.7.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
