advisory_id: linux/CVE-2020-36787
datasource_id: debian_importer_v2/linux/CVE-2020-36787
datasource_url: https://security-tracker.debian.org/tracker/CVE-2020-36787
aliases:
  - CVE-2020-36787
summary: 'In the Linux kernel, the following vulnerability has been resolved:  media: aspeed:
  fix clock handling logic  Video engine uses eclk and vclk for its clock sources and its reset
  control is coupled with eclk so the current clock enabling sequence works like below.   Enable
  eclk  De-assert Video Engine reset  10ms delay  Enable vclk  It introduces improper reset
  on the Video Engine hardware and eventually the hardware generates unexpected DMA memory transfers
  that can corrupt memory region in random and sporadic patterns. This issue is observed very
  rarely on some specific AST2500 SoCs but it causes a critical kernel panic with making a various
  shape of signature so it''s extremely hard to debug. Moreover, the issue is observed even
  when the video engine is not actively used because udevd turns on the video engine hardware
  for a short time to make a query in every boot.  To fix this issue, this commit changes the
  clock handling logic to make the reset de-assertion triggered after enabling both eclk and
  vclk. Also, it adds clk_unprepare call for a case when probe fails.  clk: ast2600: fix reset
  settings for eclk and vclk Video engine reset setting should be coupled with eclk to match
  it with the setting for previous Aspeed SoCs which is defined in clk-aspeed.c since all Aspeed
  SoCs are sharing a single video engine driver. Also, reset bit 6 is defined as ''Video Engine''
  reset in datasheet so it should be de-asserted when eclk is enabled. This commit fixes the
  setting.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.38-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
