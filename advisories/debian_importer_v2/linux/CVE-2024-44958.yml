advisory_id: linux/CVE-2024-44958
datasource_id: debian_importer_v2/linux/CVE-2024-44958
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-44958
aliases:
  - CVE-2024-44958
summary: 'In the Linux kernel, the following vulnerability has been resolved:  sched/smt: Fix
  unbalance sched_smt_present dec/inc  I got the following warn report while doing stress test:  jump
  label: negative count! WARNING: CPU: 3 PID: 38 at kernel/jump_label.c:263 static_key_slow_try_dec+0x9d/0xb0
  Call Trace:  <TASK>  __static_key_slow_dec_cpuslocked+0x16/0x70  sched_cpu_deactivate+0x26e/0x2a0  cpuhp_invoke_callback+0x3ad/0x10d0  cpuhp_thread_fun+0x3f5/0x680  smpboot_thread_fn+0x56d/0x8d0  kthread+0x309/0x400  ret_from_fork+0x41/0x70  ret_from_fork_asm+0x1b/0x30  </TASK>  Because
  when cpuset_cpu_inactive() fails in sched_cpu_deactivate(), the cpu offline failed, but sched_smt_present
  is decremented before calling sched_cpu_deactivate(), it leads to unbalanced dec/inc, so fix
  it by incrementing sched_smt_present in the error path.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.1.106-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.10.6-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.18.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
