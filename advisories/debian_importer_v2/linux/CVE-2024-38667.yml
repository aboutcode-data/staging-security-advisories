advisory_id: linux/CVE-2024-38667
datasource_id: debian_importer_v2/linux/CVE-2024-38667
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-38667
aliases:
  - CVE-2024-38667
summary: 'In the Linux kernel, the following vulnerability has been resolved:  riscv: prevent
  pt_regs corruption for secondary idle threads  Top of the kernel thread stack should be reserved
  for pt_regs. However this is not the case for the idle threads of the secondary boot harts.
  Their stacks overlap with their pt_regs, so both may get corrupted.  Similar issue has been
  fixed for the primary hart, see c7cdd96eca28 ("riscv: prevent stack corruption by reserving
  task_pt_regs(p) early"). However that fix was not propagated to the secondary harts. The problem
  has been noticed in some CPU hotplug tests with V enabled. The function smp_callin stored
  several registers on stack, corrupting top of pt_regs structure including status field. As
  a result, kernel attempted to save or restore inexistent V context.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.1.94-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.9.7-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.18.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
