advisory_id: linux/CVE-2024-47674
datasource_id: debian_importer_v2/linux/CVE-2024-47674
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-47674
aliases:
  - CVE-2024-47674
summary: 'In the Linux kernel, the following vulnerability has been resolved:  mm: avoid leaving
  partial pfn mappings around in error case  As Jann points out, PFN mappings are special, because
  unlike normal memory mappings, there is no lifetime information associated with the mapping
  - it is just a raw mapping of PFNs with no reference counting of a ''struct page''.  That''s
  all very much intentional, but it does mean that it''s easy to mess up the cleanup in case
  of errors.  Yes, a failed mmap() will always eventually clean up any partial mappings, but
  without any explicit lifetime in the page table mapping itself, it''s very easy to do the
  error handling in the wrong order.  In particular, it''s easy to mistakenly free the physical
  backing store before the page tables are actually cleaned up and (temporarily) have stale
  dangling PTE entries.  To make this situation less error-prone, just make sure that any partial
  pfn mapping is torn down early, before any other error handling.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.112-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.234-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.10.11-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.13-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
