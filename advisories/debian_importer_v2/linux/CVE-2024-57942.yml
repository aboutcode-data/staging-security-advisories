advisory_id: linux/CVE-2024-57942
datasource_id: debian_importer_v2/linux/CVE-2024-57942
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-57942
aliases:
  - CVE-2024-57942
summary: 'In the Linux kernel, the following vulnerability has been resolved:  netfs: Fix ceph
  copy to cache on write-begin  At the end of netfs_unlock_read_folio() in which folios are
  marked appropriately for copying to the cache (either with by being marked dirty and having
  their private data set or by having PG_private_2 set) and then unlocked, the folio_queue struct
  has the entry pointing to the folio cleared.  This presents a problem for netfs_pgpriv2_write_to_the_cache(),
  which is used to write folios marked with PG_private_2 to the cache as it expects to be able
  to trawl the folio_queue list thereafter to find the relevant folios, leading to a hang.  Fix
  this by not clearing the folio_queue entry if we''re going to do the deprecated copy-to-cache.  The
  clearance will be done instead as the folios are written to the cache.  This can be reproduced
  by starting cachefiles, mounting a ceph filesystem with "-o fsc" and writing to it.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.10-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.13-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
