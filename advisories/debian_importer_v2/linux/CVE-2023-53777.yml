advisory_id: linux/CVE-2023-53777
datasource_id: debian_importer_v2/linux/CVE-2023-53777
datasource_url: https://security-tracker.debian.org/tracker/CVE-2023-53777
aliases:
  - CVE-2023-53777
summary: "In the Linux kernel, the following vulnerability has been resolved:  erofs: kill hooked\
  \ chains to avoid loops on deduplicated compressed images  After heavily stressing EROFS with\
  \ several images which include a hand-crafted image of repeated patterns for more than 46\
  \ days, I found two chains could be linked with each other almost simultaneously and form\
  \ a loop so that the entire loop won't be submitted.  As a consequence, the corresponding\
  \ file pages will remain locked forever.  It can be _only_ observed on data-deduplicated compressed\
  \ images. For example, consider two chains with five pclusters in total: \tChain 1:  2->3->4->5\
  \    -- The tail pcluster is 5;         Chain 2:  5->1->2       -- The tail pcluster is 2.\
  \  Chain 2 could link to Chain 1 with pcluster 5; and Chain 1 could link to Chain 2 at the\
  \ same time with pcluster 2.  Since hooked chains are all linked locklessly now, I have no\
  \ idea how to simply avoid the race.  Instead, let's avoid hooked chains completely until\
  \ I could work out a proper way to fix this and end users finally tell us that it's needed\
  \ to add it back.  Actually, this optimization can be found with multi-threaded workloads\
  \ (especially even more often on deduplicated compressed images), yet I'm not sure about the\
  \ overall system impacts of not having this compared with implementation complexity."
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.52-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.4.4-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.13-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
