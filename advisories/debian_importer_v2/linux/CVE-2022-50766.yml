advisory_id: linux/CVE-2022-50766
datasource_id: debian_importer_v2/linux/CVE-2022-50766
datasource_url: https://security-tracker.debian.org/tracker/CVE-2022-50766
aliases:
  - CVE-2022-50766
summary: 'In the Linux kernel, the following vulnerability has been resolved:  btrfs: set generation
  before calling btrfs_clean_tree_block in btrfs_init_new_buffer  syzbot is reporting uninit-value
  in btrfs_clean_tree_block() [1], for commit bc877d285ca3dba2 ("btrfs: Deduplicate extent_buffer
  init code") missed that btrfs_set_header_generation() in btrfs_init_new_buffer() must not
  be moved to after clean_tree_block() because clean_tree_block() is calling btrfs_header_generation()
  since commit 55c69072d6bd5be1 ("Btrfs: Fix extent_buffer usage when nodesize != leafsize").  Since
  memzero_extent_buffer() will reset "struct btrfs_header" part, we can''t move btrfs_set_header_generation()
  to before memzero_extent_buffer(). Just re-add btrfs_set_header_generation() before btrfs_clean_tree_block().'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.0.3-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
