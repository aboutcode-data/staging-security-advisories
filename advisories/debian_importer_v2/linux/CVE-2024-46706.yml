advisory_id: linux/CVE-2024-46706
datasource_id: debian_importer_v2/linux/CVE-2024-46706
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-46706
aliases:
  - CVE-2024-46706
summary: "In the Linux kernel, the following vulnerability has been resolved:  tty: serial:\
  \ fsl_lpuart: mark last busy before uart_add_one_port  With \"earlycon initcall_debug=1 loglevel=8\"\
  \ in bootargs, kernel sometimes boot hang. It is because normal console still is not ready,\
  \ but runtime suspend is called, so early console putchar will hang in waiting TRDE set in\
  \ UARTSTAT.  The lpuart driver has auto suspend delay set to 3000ms, but during uart_add_one_port,\
  \ a child device serial ctrl will added and probed with its pm runtime enabled(see serial_ctrl.c).\
  \ The runtime suspend call path is: device_add      |-> bus_probe_device            |->device_initial_probe\
  \ \t           |->__device_attach                          |-> pm_runtime_get_sync(dev->parent);\
  \ \t\t\t |-> pm_request_idle(dev); \t\t\t |-> pm_runtime_put(dev->parent);  So in the end,\
  \ before normal console ready, the lpuart get runtime suspended. And earlycon putchar will\
  \ hang.  To address the issue, mark last busy just after pm_runtime_enable, three seconds\
  \ is long enough to switch from bootconsole to normal console."
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.10.7-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
