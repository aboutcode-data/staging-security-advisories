advisory_id: linux/CVE-2024-46689
datasource_id: debian_importer_v2/linux/CVE-2024-46689
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-46689
aliases:
  - CVE-2024-46689
summary: 'In the Linux kernel, the following vulnerability has been resolved:  soc: qcom: cmd-db:
  Map shared memory as WC, not WB  Linux does not write into cmd-db region. This region of memory
  is write protected by XPU. XPU may sometime falsely detect clean cache eviction as "write"
  into the write protected region leading to secure interrupt which causes an endless loop somewhere
  in Trust Zone.  The only reason it is working right now is because Qualcomm Hypervisor maps
  the same region as Non-Cacheable memory in Stage 2 translation tables. The issue manifests
  if we want to use another hypervisor (like Xen or KVM), which does not know anything about
  those specific mappings.  Changing the mapping of cmd-db memory from MEMREMAP_WB to MEMREMAP_WT/WC
  removes dependency on correct mappings in Stage 2 tables. This patch fixes the issue by updating
  the mapping to MEMREMAP_WC.  I tested this on SA8155P with Xen.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.112-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.226-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.10.9-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
