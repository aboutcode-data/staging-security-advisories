advisory_id: linux/CVE-2025-38417
datasource_id: debian_importer_v2/linux/CVE-2025-38417
datasource_url: https://security-tracker.debian.org/tracker/CVE-2025-38417
aliases:
  - CVE-2025-38417
summary: 'In the Linux kernel, the following vulnerability has been resolved:  ice: fix eswitch
  code memory leak in reset scenario  Add simple eswitch mode checker in attaching VF procedure
  and allocate required port representor memory structures only in switchdev mode. The reset
  flows triggers VF (if present) detach/attach procedure. It might involve VF port representor(s)
  re-creation if the device is configured is switchdev mode (not legacy one). The memory was
  blindly allocated in current implementation, regardless of the mode and not freed if in legacy
  mode.  Kmemeleak trace: unreferenced object (percpu) 0x7e3bce5b888458 (size 40):   comm "bash",
  pid 1784, jiffies 4295743894   hex dump (first 32 bytes on cpu 45):     00 00 00 00 00 00
  00 00 00 00 00 00 00 00 00 00  ................     00 00 00 00 00 00 00 00 00 00 00 00 00
  00 00 00  ................   backtrace (crc 0):     pcpu_alloc_noprof+0x4c4/0x7c0     ice_repr_create+0x66/0x130
  [ice]     ice_repr_create_vf+0x22/0x70 [ice]     ice_eswitch_attach_vf+0x1b/0xa0 [ice]     ice_reset_all_vfs+0x1dd/0x2f0
  [ice]     ice_pci_err_resume+0x3b/0xb0 [ice]     pci_reset_function+0x8f/0x120     reset_store+0x56/0xa0     kernfs_fop_write_iter+0x120/0x1b0     vfs_write+0x31c/0x430     ksys_write+0x61/0xd0     do_syscall_64+0x5b/0x180     entry_SYSCALL_64_after_hwframe+0x76/0x7e  Testing
  hints (ethX is PF netdev): - create at least one VF     echo 1 > /sys/class/net/ethX/device/sriov_numvfs
  - trigger the reset     echo 1 > /sys/class/net/ethX/device/reset'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.35-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
