advisory_id: linux/CVE-2024-38570
datasource_id: debian_importer_v2/linux/CVE-2024-38570
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-38570
aliases:
  - CVE-2024-38570
summary: 'In the Linux kernel, the following vulnerability has been resolved:  gfs2: Fix potential
  glock use-after-free on unmount  When a DLM lockspace is released and there ares still locks
  in that lockspace, DLM will unlock those locks automatically.  Commit fb6791d100d1b started
  exploiting this behavior to speed up filesystem unmount: gfs2 would simply free glocks it
  didn''t want to unlock and then release the lockspace.  This didn''t take the bast callbacks
  for asynchronous lock contention notifications into account, which remain active until until
  a lock is unlocked or its lockspace is released.  To prevent those callbacks from accessing
  deallocated objects, put the glocks that should not be unlocked on the sd_dead_glocks list,
  release the lockspace, and only then free those glocks.  As an additional measure, ignore
  unexpected ast and bast callbacks if the receiving glock is dead.'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1|6.1.159-1
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1|6.1.159-1
    fixed_versions: vers:deb/6.8.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1|6.1.159-1
    fixed_versions: vers:deb/6.18.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions: vers:deb/5.10.223-1|6.1.159-1
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
