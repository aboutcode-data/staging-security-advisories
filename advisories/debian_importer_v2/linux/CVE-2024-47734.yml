advisory_id: linux/CVE-2024-47734
datasource_id: debian_importer_v2/linux/CVE-2024-47734
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-47734
aliases:
  - CVE-2024-47734
summary: 'In the Linux kernel, the following vulnerability has been resolved:  bonding: Fix
  unnecessary warnings and logs from bond_xdp_get_xmit_slave()  syzbot reported a WARNING in
  bond_xdp_get_xmit_slave. To reproduce this[1], one bond device (bond1) has xdpdrv, which increases
  bpf_master_redirect_enabled_key. Another bond device (bond0) which is unsupported by XDP but
  its slave (veth3) has xdpgeneric that returns XDP_TX. This triggers WARN_ON_ONCE() from the
  xdp_master_redirect(). To reduce unnecessary warnings and improve log management, we need
  to delete the WARN_ON_ONCE() and add ratelimit to the netdev_err().  [1] Steps to reproduce:     #
  Needs tx_xdp with return XDP_TX;     ip l add veth0 type veth peer veth1     ip l add veth3
  type veth peer veth4     ip l add bond0 type bond mode 6 # BOND_MODE_ALB, unsupported by XDP     ip
  l add bond1 type bond # BOND_MODE_ROUNDROBIN by default     ip l set veth0 master bond1     ip
  l set bond1 up     # Increases bpf_master_redirect_enabled_key     ip l set dev bond1 xdpdrv
  object tx_xdp.o section xdp_tx     ip l set veth3 master bond0     ip l set bond0 up     ip
  l set veth4 up     # Triggers WARN_ON_ONCE() from the xdp_master_redirect()     ip l set veth3
  xdpgeneric object tx_xdp.o section xdp_tx'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.115-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.11.2-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
