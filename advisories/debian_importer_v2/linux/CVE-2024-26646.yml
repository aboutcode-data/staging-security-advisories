advisory_id: linux/CVE-2024-26646
datasource_id: debian_importer_v2/linux/CVE-2024-26646
datasource_url: https://security-tracker.debian.org/tracker/CVE-2024-26646
aliases:
  - CVE-2024-26646
summary: 'In the Linux kernel, the following vulnerability has been resolved:  thermal: intel:
  hfi: Add syscore callbacks for system-wide PM  The kernel allocates a memory buffer and provides
  its location to the hardware, which uses it to update the HFI table. This allocation occurs
  during boot and remains constant throughout runtime.  When resuming from hibernation, the
  restore kernel allocates a second memory buffer and reprograms the HFI hardware with the new
  location as part of a normal boot. The location of the second memory buffer may differ from
  the one allocated by the image kernel.  When the restore kernel transfers control to the image
  kernel, its HFI buffer becomes invalid, potentially leading to memory corruption if the hardware
  writes to it (the hardware continues to use the buffer from the restore kernel).  It is also
  possible that the hardware "forgets" the address of the memory buffer when resuming from "deep"
  suspend. Memory corruption may also occur in such a scenario.  To prevent the described memory
  corruption, disable HFI when preparing to suspend or hibernate. Enable it when resuming.  Add
  syscore callbacks to handle the package of the boot CPU (packages of non-boot CPUs are handled
  via CPU offline). Syscore ops always run on the boot CPU. Additionally, HFI only needs to
  be disabled during "deep" suspend and hibernation. Syscore ops only run in these cases.  [
  rjw: Comment adjustment, subject and changelog edits ]'
impacted_packages:
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.159-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.1.76-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/5.10.223-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/0
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.12-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.6.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.18.15-1
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/debian/linux?distro=trixie
    affected_versions:
    fixed_versions: vers:deb/6.12.63-1
    fixed_in_commits: []
    introduced_in_commits: []
severities: []
weaknesses: []
references: []
