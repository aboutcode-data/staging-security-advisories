advisory_id: GHSA-7vr7-cghh-ch63
datasource_id: github_osv_importer_v2/GHSA-7vr7-cghh-ch63
datasource_url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2023/06/GHSA-7vr7-cghh-ch63/GHSA-7vr7-cghh-ch63.json
aliases:
  - CVE-2023-34467
summary: |
  XWiki Platform may retrieve email addresses of all users
  ### Impact
  The mail obfuscation configuration was not fully taken into account and while the mail displayed to the end user was obfuscated:
  - the rest response was also containing the mail unobfuscated
  - user were able to filter and sort on the unobfuscated (allowing to infer the mail content)

  The consequence was the possibility to retrieve the email addresses of all users even when obfuscated.

  See https://jira.xwiki.org/browse/XWIKI-20333 for the reproduction steps.

  ### Patches
  This has been patched in XWiki 14.10.4, XWiki 14.4.8, and XWiki 15.0-rc-1.

  ### Workarounds
  The workaround is to modify the page `XWiki.LiveTableResultsMacros` following this [patch](https://github.com/xwiki/xwiki-platform/commit/71f889db9962df2d385f4298e29cfbc9050b828a#diff-5a739e5865b1f1ad9d79b724791be51b0095a0170cc078911c940478b13b949a).

  ### References

  https://jira.xwiki.org/browse/XWIKI-20333

  ### For more information

  If you have any questions or comments about this advisory:

  *    Open an issue in [Jira XWiki.org](https://jira.xwiki.org/)
  *    Email us at [Security Mailing List](mailto:security@xwiki.org)

  ### Attribution

  This vulnerability has been reported on Intigriti by @floerer
impacted_packages:
  - purl: pkg:maven/org.xwiki.platform/xwiki-platform-livetable-ui
    affected_versions: vers:maven/>=3.5-milestone-1|<14.4.8
    fixed_versions: vers:maven/14.4.8
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:maven/org.xwiki.platform/xwiki-platform-livetable-ui
    affected_versions: vers:maven/>=14.5|<14.10.4
    fixed_versions: vers:maven/14.10.4
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: '7.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:N/A:N
    published_at: None
    url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2023/06/GHSA-7vr7-cghh-ch63/GHSA-7vr7-cghh-ch63.json
  - score: HIGH
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url:
weaknesses:
  - CWE-402
  - CWE-668
references:
  - url: https://github.com/xwiki/xwiki-platform
    reference_type:
    reference_id:
  - url: https://github.com/xwiki/xwiki-platform/commit/71f889db9962df2d385f4298e29cfbc9050b828a#diff-5a739e5865b1f1ad9d79b724791be51b0095a0170cc078911c940478b13b949a
    reference_type:
    reference_id:
  - url: https://github.com/xwiki/xwiki-platform/security/advisories/GHSA-7vr7-cghh-ch63
    reference_type:
    reference_id:
  - url: https://jira.xwiki.org/browse/XWIKI-20333
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-34467
    reference_type:
    reference_id: CVE-2023-34467
