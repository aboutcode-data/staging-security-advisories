advisory_id: GHSA-w736-hf9p-qqh3
datasource_id: github_osv_importer_v2/GHSA-w736-hf9p-qqh3
datasource_url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2021/02/GHSA-w736-hf9p-qqh3/GHSA-w736-hf9p-qqh3.json
aliases: []
summary: |
  Key Caching behavior in the DynamoDB Encryption Client.
  ### Impact
  This advisory concerns users of MostRecentProvider in the DynamoDB Encryption Client with a key provider like AWS Key Management Service that allows for permissions on keys to be modified.

  When key usage permissions were changed at the key provider, time-based key reauthorization logic in MostRecentProvider did not reauthorize the use of the key. This created the potential for keys to be used in the DynamoDB Encryption Client after permissions to do so were revoked at the key provider.

  ### Patches
  Fixed as of 1.15.0.  We recommend users to modify their code and adopt `CachingMostRecentProvider`.

  ### Workarounds
  Users who cannot upgrade to use the `CachingMostRecentProvider` can call `clear()` on the cache to manually flush all of its contents. Next use of the key will force a re-validation to occur with the key provider.
impacted_packages:
  - purl: pkg:maven/com.amazonaws/aws-dynamodb-encryption-java
    affected_versions: vers:maven/<1.15.0
    fixed_versions: vers:maven/1.15.0
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: LOW
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url:
weaknesses:
  - CWE-862
references:
  - url: https://github.com/aws/aws-dynamodb-encryption-java/blob/master/CHANGELOG.md#1150----2021-02-04
    reference_type:
    reference_id:
  - url: https://github.com/aws/aws-dynamodb-encryption-java/commit/7de5f5a5929271ab25bce685089eb7ec564dac4b
    reference_type:
    reference_id:
  - url: https://github.com/aws/aws-dynamodb-encryption-java/security/advisories/GHSA-w736-hf9p-qqh3
    reference_type:
    reference_id:
