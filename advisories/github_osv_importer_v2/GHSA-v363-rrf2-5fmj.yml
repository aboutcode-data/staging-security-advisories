advisory_id: GHSA-v363-rrf2-5fmj
datasource_id: github_osv_importer_v2/GHSA-v363-rrf2-5fmj
datasource_url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2024/01/GHSA-v363-rrf2-5fmj/GHSA-v363-rrf2-5fmj.json
aliases: []
summary: |
  ferris-says has undefined behavior when not using UTF-8
  Affected versions receive a `&[u8]` from the caller through a safe API, and pass it directly to the unsafe `str::from_utf8_unchecked` function.

  The behavior of `ferris_says::say` is undefined if the bytes from the caller don't happen to be valid UTF-8.

  The flaw was corrected in [ferris-says#21] by using the safe `str::from_utf8` instead, and returning an error on invalid input. However this fix has not yet been published to crates.io as a patch version for 0.2.

  Separately, [ferris-says#32] has introduced a different API for version 0.3 which accepts input as `&str` rather than `&[u8]`, so is unaffected by this bug.

  [ferris-says#21]: https://github.com/rust-lang/ferris-says/pull/21
  [ferris-says#32]: https://github.com/rust-lang/ferris-says/pull/32
impacted_packages: []
severities:
  - score: LOW
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url:
weaknesses: []
references:
  - url: https://github.com/mgattozzi/ferris-says
    reference_type:
    reference_id:
  - url: https://github.com/rust-lang/ferris-says/commit/bb661f29e0d88968c495a4ea4dc63ff0e2c2c11a
    reference_type:
    reference_id:
  - url: https://github.com/rust-lang/ferris-says/pull/21
    reference_type:
    reference_id:
  - url: https://rustsec.org/advisories/RUSTSEC-2024-0001.html
    reference_type:
    reference_id:
