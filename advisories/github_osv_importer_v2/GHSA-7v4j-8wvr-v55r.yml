advisory_id: GHSA-7v4j-8wvr-v55r
datasource_id: github_osv_importer_v2/GHSA-7v4j-8wvr-v55r
datasource_url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2022/06/GHSA-7v4j-8wvr-v55r/GHSA-7v4j-8wvr-v55r.json
aliases: []
summary: |
  `array!` macro is unsound when its length is impure constant
  Affected versions of this crate did substitute the array length provided by an user at compile-time multiple times.

  When an impure constant expression is passed as an array length (such as a result of an impure procedural macro), this can result in the initialization of an array with uninitialized types, which in turn can allow an attacker to execute arbitrary code.

  The flaw was corrected in commit [d5b63f72](https://github.com/xfix/array-macro/commit/d5b63f72090f3809c21ac28f9cfd84f12559bf7d) by making sure that array length is substituted just once.
impacted_packages: []
severities:
  - score: MODERATE
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url:
weaknesses: []
references:
  - url: https://github.com/rustsec/advisory-db/blob/main/crates/array-macro/RUSTSEC-2022-0017.md
    reference_type:
    reference_id:
  - url: https://github.com/xfix/array-macro
    reference_type:
    reference_id:
  - url: https://github.com/xfix/array-macro/commit/d5b63f72090f3809c21ac28f9cfd84f12559bf7d
    reference_type:
    reference_id:
  - url: https://gitlab.com/KonradBorowski/array-macro/-/issues/5
    reference_type:
    reference_id:
  - url: https://rustsec.org/advisories/RUSTSEC-2022-0017.html
    reference_type:
    reference_id:
