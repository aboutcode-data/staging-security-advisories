advisory_id: GHSA-4999-659w-mq36
datasource_id: github_osv_importer_v2/GHSA-4999-659w-mq36
datasource_url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2021/11/GHSA-4999-659w-mq36/GHSA-4999-659w-mq36.json
aliases:
  - CVE-2021-41266
summary: |
  Authentication bypass issue in the Operator Console
  During an internal security audit, we detected an authentication bypass issue in the Operator Console when an external IDP is enabled. The security issue has been reported internally. We have not observed this exploit in the wild or reported elsewhere in the community at large. All users are advised to upgrade ASAP.

  ### Impact

  All users on release v0.12.2 and before are affected.

  ### Patches

  This issue was fixed by PR https://github.com/minio/console/pull/1217, users should upgrade to latest release.

  ### Workarounds

  Add `automountServiceAccountToken: false` to the operator-console deployment in Kubernetes so no service account token will get mounted inside the pod, then disable the external identity provider authentication by unset the `CONSOLE_IDP_URL`, `CONSOLE_IDP_CLIENT_ID`, `CONSOLE_IDP_SECRET` and `CONSOLE_IDP_CALLBACK` environment variable and instead use the Kubernetes service account token.

  ### References

  #1217 for more information on the fix and how it was fixed.

  ### For more information
  If you have any questions or comments about this advisory:
  * Open an issue in [console issues](https://github.com/minio/console/issues)
  * Email us at [security@minio.io](mailto:security@minio.io)
impacted_packages: []
severities:
  - score: '8.6'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:L/A:L
    published_at: None
    url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2021/11/GHSA-4999-659w-mq36/GHSA-4999-659w-mq36.json
  - score: HIGH
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url:
weaknesses:
  - CWE-306
references:
  - url: https://github.com/minio/console
    reference_type:
    reference_id:
  - url: https://github.com/minio/console/pull/1217
    reference_type:
    reference_id:
  - url: https://github.com/minio/console/security/advisories/GHSA-4999-659w-mq36
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2021-41266
    reference_type:
    reference_id: CVE-2021-41266
