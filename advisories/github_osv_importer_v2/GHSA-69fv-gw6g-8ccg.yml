advisory_id: GHSA-69fv-gw6g-8ccg
datasource_id: github_osv_importer_v2/GHSA-69fv-gw6g-8ccg
datasource_url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2021/08/GHSA-69fv-gw6g-8ccg/GHSA-69fv-gw6g-8ccg.json
aliases:
  - CVE-2018-20998
summary: |
  Potential memory corruption in arrayfire
  The attribute repr() added to enums to be compatible with C-FFI caused memory corruption on MSVC toolchain.

  arrayfire crates <= version 3.5.0 do not have this issue when used with Rust versions 1.27 or earlier. The issue only started to appear since Rust version 1.28.

  The issue seems to be interlinked with which version of Rust is being used.

  The issue was fixed in crate 3.6.0.
impacted_packages:
  - purl: pkg:pypi/arrayfire
    affected_versions: vers:pypi/<3.6.0
    fixed_versions: vers:pypi/3.6.0
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: '9.8'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H
    published_at: None
    url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2021/08/GHSA-69fv-gw6g-8ccg/GHSA-69fv-gw6g-8ccg.json
  - score: '9.3'
    scoring_system: cvssv4
    scoring_elements: CVSS:4.0/AV:N/AC:L/AT:N/PR:N/UI:N/VC:H/VI:H/VA:H/SC:N/SI:N/SA:N
    published_at: None
    url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2021/08/GHSA-69fv-gw6g-8ccg/GHSA-69fv-gw6g-8ccg.json
  - score: CRITICAL
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url:
weaknesses:
  - CWE-119
references:
  - url: https://github.com/arrayfire/arrayfire-rust
    reference_type:
    reference_id:
  - url: https://github.com/arrayfire/arrayfire-rust/commit/a5256f3e5e23b83eaad69699e0b04653aba04fb8
    reference_type:
    reference_id:
  - url: https://github.com/arrayfire/arrayfire-rust/pull/177
    reference_type:
    reference_id:
  - url: https://github.com/pypa/advisory-database/tree/main/vulns/arrayfire/PYSEC-2019-144.yaml
    reference_type:
    reference_id:
  - url: https://rustsec.org/advisories/RUSTSEC-2018-0011.html
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2018-20998
    reference_type:
    reference_id: CVE-2018-20998
