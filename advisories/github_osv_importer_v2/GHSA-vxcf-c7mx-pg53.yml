advisory_id: GHSA-vxcf-c7mx-pg53
datasource_id: github_osv_importer_v2/GHSA-vxcf-c7mx-pg53
datasource_url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2024/12/GHSA-vxcf-c7mx-pg53/GHSA-vxcf-c7mx-pg53.json
aliases: []
summary: |
  Build corruption when using `PYO3_CONFIG_FILE` environment variable
  In PyO3 0.23.0 the `PYO3_CONFIG_FILE` environment variable used to configure builds regressed such that changing the environment variable would no longer trigger PyO3 to reconfigure and recompile. In combination with workflows using tools such as `maturin` to build for multiple versions in a single build, this leads to Python wheels being compiled against the wrong Python API version.

  All users who distribute artefacts for multiple Python versions are encouraged to update and rebuild with PyO3 0.23.3. Affected wheels produced from PyO3 0.23.0 through 0.23.2 are highly unstable and will crash the Python interpreter in unpredictable ways.
impacted_packages: []
severities:
  - score: MODERATE
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url:
weaknesses: []
references:
  - url: https://github.com/PyO3/pyo3
    reference_type:
    reference_id:
  - url: https://github.com/PyO3/pyo3/issues/4757
    reference_type:
    reference_id:
  - url: https://rustsec.org/advisories/RUSTSEC-2024-0409.html
    reference_type:
    reference_id:
