advisory_id: GHSA-c439-chv8-8g2j
datasource_id: github_osv_importer_v2/GHSA-c439-chv8-8g2j
datasource_url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2022/09/GHSA-c439-chv8-8g2j/GHSA-c439-chv8-8g2j.json
aliases: []
summary: |
  `os_socketaddr` invalidly assumes the memory layout of std::net::SocketAddr
  The [`os_socketaddr`](https://crates.io/crates/os_socketaddr) crate has assumed `std::net::SocketAddrV4` and `std::net::SocketAddrV6` have the same memory layout as the system C representation `sockaddr`. It has simply casted the pointers to convert the socket addresses to the system representation.

  These layout were [changed into idiomatic rust types](https://github.com/rust-lang/rust/pull/78802) in nightly `std`. Starting from rustc 1.64 the affected versions of this crate will have undefined behaviour.
impacted_packages: []
severities:
  - score: HIGH
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url:
weaknesses: []
references:
  - url: https://github.com/a-ba/os_socketaddr
    reference_type:
    reference_id:
  - url: https://github.com/a-ba/os_socketaddr/commit/1bc7f71d40de069727993a18fdada33eb0b4c94f
    reference_type:
    reference_id:
  - url: https://github.com/a-ba/os_socketaddr/issues/3
    reference_type:
    reference_id:
  - url: https://github.com/rust-lang/rust/pull/78802
    reference_type:
    reference_id:
  - url: https://rustsec.org/advisories/RUSTSEC-2022-0052.html
    reference_type:
    reference_id:
