advisory_id: GHSA-wfg4-322g-9vqv
datasource_id: github_osv_importer_v2/GHSA-wfg4-322g-9vqv
datasource_url: https://github.com/github/advisory-database/blob/main/advisories/github-reviewed/2023/06/GHSA-wfg4-322g-9vqv/GHSA-wfg4-322g-9vqv.json
aliases: []
summary: |
  memoffset allows reading uninitialized memory
  memoffset allows attempt of reading data from address `0` with arbitrary type. This behavior is an undefined behavior because address `0` to `std::mem::size_of<T>` may not have valid bit-pattern with `T`. Old implementation dereferences uninitialized memory obtained from `std::mem::align_of`. Older implementation prior to it allows using uninitialized data obtained from `std::mem::uninitialized` with arbitrary type then compute offset by taking the address of field-projection. This may also result in an undefined behavior for "father" that includes (directly or transitively) type that [does not allow to be uninitialized](https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html).

  This flaw was corrected by using `std::ptr::addr_of` in <https://github.com/Gilnaa/memoffset/pull/50>.
impacted_packages: []
severities:
  - score: MODERATE
    scoring_system: generic_textual
    scoring_elements:
    published_at: None
    url:
weaknesses: []
references:
  - url: https://github.com/Gilnaa/memoffset
    reference_type:
    reference_id:
  - url: https://github.com/Gilnaa/memoffset/issues/24
    reference_type:
    reference_id:
  - url: https://github.com/Gilnaa/memoffset/pull/50
    reference_type:
    reference_id:
  - url: https://rustsec.org/advisories/RUSTSEC-2023-0045.html
    reference_type:
    reference_id:
