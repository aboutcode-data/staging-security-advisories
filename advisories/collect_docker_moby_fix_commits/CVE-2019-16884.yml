advisory_id: CVE-2019-16884
datasource_id: collect_docker_moby_fix_commits/CVE-2019-16884
datasource_url: https://github.com/moby/moby
aliases: []
summary: |
  f8cfa7947cd0a2750bd0b4ebf616044a98a07a24:[19.03] Update containerd binary to v1.2.12

  full diff: https://github.com/containerd/containerd/compare/v1.2.11...v1.2.12

  Welcome to the v1.2.12 release of containerd!

  The twelfth patch release for containerd 1.2 includes an updated runc with
  a fix for CVE-2019-19921, an updated version of the opencontainers/selinux
  dependency, which includes a fix for CVE-2019-16884, an updated version of the
  gopkg.in/yaml.v2 dependency to address CVE-2019-11253, and a Golang update.

  Notable Updates

  - Update the runc vendor to v1.0.0-rc10 which includes a mitigation for CVE-2019-19921.
  - Update the opencontainers/selinux which includes a mitigation for CVE-2019-16884.
  - Update Golang runtime to 1.12.16, mitigating the CVE-2020-0601 certificate verification
    bypass on Windows, and CVE-2020-7919, which only affects 32-bit architectures.
  - Update Golang runtime to 1.12.15, which includes a fix to the runtime (Go 1.12.14,
    Go 1.12.15) and and the net/http package (Go 1.12.15)
  - A fix to prevent SIGSEGV when starting containerd-shim containerd/containerd#3960
  - Fixes to exec containerd/containerd#3755
      - Prevent docker exec hanging if an earlier docker exec left a zombie process
      - Prevent High system load/CPU utilization with liveness and readiness probes
      - Prevent Docker healthcheck causing high CPU utilization

  CRI fixes:

  - Update the gopkg.in/yaml.v2 vendor to v2.2.8 with a mitigation for CVE-2019-11253

  API

  - Fix API filters to properly handle and return parse errors containerd/containerd#3950

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  f8cfa7947cd0a2750bd0b4ebf616044a98a07a24:[19.03] Update containerd binary to v1.2.12

  full diff: https://github.com/containerd/containerd/compare/v1.2.11...v1.2.12

  Welcome to the v1.2.12 release of containerd!

  The twelfth patch release for containerd 1.2 includes an updated runc with
  a fix for CVE-2019-19921, an updated version of the opencontainers/selinux
  dependency, which includes a fix for CVE-2019-16884, an updated version of the
  gopkg.in/yaml.v2 dependency to address CVE-2019-11253, and a Golang update.

  Notable Updates

  - Update the runc vendor to v1.0.0-rc10 which includes a mitigation for CVE-2019-19921.
  - Update the opencontainers/selinux which includes a mitigation for CVE-2019-16884.
  - Update Golang runtime to 1.12.16, mitigating the CVE-2020-0601 certificate verification
    bypass on Windows, and CVE-2020-7919, which only affects 32-bit architectures.
  - Update Golang runtime to 1.12.15, which includes a fix to the runtime (Go 1.12.14,
    Go 1.12.15) and and the net/http package (Go 1.12.15)
  - A fix to prevent SIGSEGV when starting containerd-shim containerd/containerd#3960
  - Fixes to exec containerd/containerd#3755
      - Prevent docker exec hanging if an earlier docker exec left a zombie process
      - Prevent High system load/CPU utilization with liveness and readiness probes
      - Prevent Docker healthcheck causing high CPU utilization

  CRI fixes:

  - Update the gopkg.in/yaml.v2 vendor to v2.2.8 with a mitigation for CVE-2019-11253

  API

  - Fix API filters to properly handle and return parse errors containerd/containerd#3950

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  cfcf25bb5409eb0c3a9c257b225f2b8890142030:[19.03] Update containerd binary to v1.2.11

  full diff: https://github.com/containerd/containerd/compare/v1.2.10...v1.2.11

  The eleventh patch release for containerd 1.2 includes an updated runc with
  an additional fix for CVE-2019-16884 and a Golang update.

  Notable Updates
  -----------------------

  - Update the runc vendor to v1.0.0-rc9 which includes an additional mitigation
    for CVE-2019-16884.
    More details on the runc CVE in opencontainers/runc#2128, and the additional
    mitigations in opencontainers/runc#2130.
  - Add local-fs.target to service file to fix corrupt image after unexpected host
    reboot. Reported in containerd/containerd#3671, and fixed by containerd/containerd#3746.
  - Update Golang runtime to 1.12.13, which includes security fixes to the crypto/dsa
    package made in Go 1.12.11 (CVE-2019-17596), and fixes to the go command, runtime,
    syscall and net packages (Go 1.12.12).

  CRI fixes:
  -----------------------

  - Fix shim delete error code to avoid unnecessary retries in the CRI plugin. Discovered
    in containerd/cri#1309, and fixed by containerd/containerd#3732 and containerd/containerd#3739.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  cfcf25bb5409eb0c3a9c257b225f2b8890142030:[19.03] Update containerd binary to v1.2.11

  full diff: https://github.com/containerd/containerd/compare/v1.2.10...v1.2.11

  The eleventh patch release for containerd 1.2 includes an updated runc with
  an additional fix for CVE-2019-16884 and a Golang update.

  Notable Updates
  -----------------------

  - Update the runc vendor to v1.0.0-rc9 which includes an additional mitigation
    for CVE-2019-16884.
    More details on the runc CVE in opencontainers/runc#2128, and the additional
    mitigations in opencontainers/runc#2130.
  - Add local-fs.target to service file to fix corrupt image after unexpected host
    reboot. Reported in containerd/containerd#3671, and fixed by containerd/containerd#3746.
  - Update Golang runtime to 1.12.13, which includes security fixes to the crypto/dsa
    package made in Go 1.12.11 (CVE-2019-17596), and fixes to the go command, runtime,
    syscall and net packages (Go 1.12.12).

  CRI fixes:
  -----------------------

  - Fix shim delete error code to avoid unnecessary retries in the CRI plugin. Discovered
    in containerd/cri#1309, and fixed by containerd/containerd#3732 and containerd/containerd#3739.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  efcd84e47c6bc3f5e52eb2cce518f55501d60ce7:[19.03] Update to runc v1.0.0-rc9

  full diff: https://github.com/opencontainers/runc/compare/3e425f80a8c931f88e6d94a8c831b9d5aa481657...v1.0.0-rc9

  - opencontainers/runc#1951 Add SCMP_ACT_LOG as a valid Seccomp action
  - opencontainers/runc#2130 *: verify operations on /proc/... are on procfs
    This is an additional mitigation for CVE-2019-16884. The primary problem
    is that Docker can be coerced into bind-mounting a file system on top of
    /proc (resulting in label-related writes to /proc no longer happening).

    While we are working on mitigations against permitting the mounts, this
    helps avoid our code from being tricked into writing to non-procfs
    files. This is not a perfect solution (after all, there might be a
    bind-mount of a different procfs file over the target) but in order to
    exploit that you would need to be able to tweak a config.json pretty
    specifically (which thankfully Docker doesn't allow).

    Specifically this stops AppArmor from not labeling a process silently
    due to /proc/self/attr/... being incorrectly set, and stops any
    accidental fd leaks because /proc/self/fd/... is not real.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  3fec3d1f1cf496dd02cee78f462fa7fbbb6234d1:Merge pull request #385 from thaJeztah/19.03_backport_bump_containerd_runc

  [19.03 backport] update containerd 1.2.10, runc v1.0.0-rc8-92-g84373aaa (CVE-2019-16884)
  17e1ab174cc507faedcf9486117e9293ddcc05d6:Merge pull request #40001 from thaJeztah/bump_runc

  Update runc to v1.0.0-rc8-92-g84373aaa (CVE-2019-16884)
  8ddb4c4e958bca2991b15aab5f9d6ac9397a55ed:bump runc vendor v1.0.0-rc8-92-g84373aaa

  full diff: https://github.com/opencontainers/runc/compare/v1.0.0-rc8...3e425f80a8c931f88e6d94a8c831b9d5aa481657

    - opencontainers/runc#2010 criu image path permission error when checkpoint rootless container
    - opencontainers/runc#2028 Update to Go 1.12 and drop obsolete versions
    - opencontainers/runc#2029 Update dependencies
    - opencontainers/runc#2034 Support for logging from children processes
    - opencontainers/runc#2035 specconv: always set "type: bind" in case of MS_BIND
    - opencontainers/runc#2038 `r.destroy` can defer exec in `runner.run` method
    - opencontainers/runc#2041 Change the permissions of the notify listener socket to rwx for everyone
    - opencontainers/runc#2042 libcontainer: intelrdt: add missing destroy handler in defer func
    - opencontainers/runc#2047 Move systemd.Manager initialization into a function in that module
    - opencontainers/runc#2057 main: not reopen /dev/stderr
        - closes opencontainers/runc#2056 Runc + podman|cri-o + systemd issue with stderr
        - closes kubernetes/kubernetes#77615 kubelet fails starting CRI-O containers (Ubuntu 18.04 + systemd cgroups driver)
        - closes cri-o/cri-o#2368 Joining worker node not starting flannel or kube-proxy / CRI-O error "open /dev/stderr: no such device or address"
    - opencontainers/runc#2061 libcontainer: fix TestGetContainerState to check configs.NEWCGROUP
    - opencontainers/runc#2065 Fix cgroup hugetlb size prefix for kB
    - opencontainers/runc#2067 libcontainer: change seccomp test for clone syscall
    - opencontainers/runc#2074 Update dependency libseccomp-golang
    - opencontainers/runc#2081 Bump CRIU to 3.12
    - opencontainers/runc#2089 doc: First process in container needs `Init: true`
    - opencontainers/runc#2094 Skip searching /dev/.udev for device nodes
        - closes opencontainers/runc#2093 HostDevices() race with older udevd versions
    - opencontainers/runc#2098 man: fix man-pages
    - opencontainers/runc#2103 cgroups/fs: check nil pointers in cgroup manager
    - opencontainers/runc#2107 Make get devices function public
    - opencontainers/runc#2113 libcontainer: initial support for cgroups v2
    - opencontainers/runc#2116 Avoid the dependency on cgo through go-systemd/util package
        - removes github.com/coreos/pkg as dependency
    - opencontainers/runc#2117 Remove libcontainer detection for systemd features
        - fixes opencontainers/runc#2117 Cache the systemd detection results
    - opencontainers/runc#2119 libcontainer: update masked paths of /proc
        - relates to moby/moby#36368 Add /proc/keys to masked paths
        - relates to moby/moby#38299 Masked /proc/asound
        - relates to moby/moby#37404 Add /proc/acpi to masked paths (CVE-2018-10892)
    - opencontainers/runc#2122 nsenter: minor fixes
    - opencontainers/runc#2123 Bump x/sys and update syscall for initial Risc-V support
    - opencontainers/runc#2125 cgroup: support mount of cgroup2
    - opencontainers/runc#2126 libcontainer/nsenter: Don't import C in non-cgo file
    - opencontainers/runc#2129 Only allow proc mount if it is procfs
        - addresses opencontainers/runc#2129 AppArmor can be bypassed by a malicious image that specifies a volume at /proc (CVE-2019-16884)

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  (cherry picked from commit ac0ab114a2ad14eab4a4da6a855831d90d777139)
  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  b4c03dd6338e0c320db669a198cf48001dfdd49b:update runc to v1.0.0-rc8-92-g84373aaa (CVE-2019-16884)

  full diff: https://github.com/opencontainers/runc/compare/v1.0.0-rc8...3e425f80a8c931f88e6d94a8c831b9d5aa481657

    - opencontainers/runc#2010 criu image path permission error when checkpoint rootless container
    - opencontainers/runc#2028 Update to Go 1.12 and drop obsolete versions
    - opencontainers/runc#2029 Update dependencies
    - opencontainers/runc#2034 Support for logging from children processes
    - opencontainers/runc#2035 specconv: always set "type: bind" in case of MS_BIND
    - opencontainers/runc#2038 `r.destroy` can defer exec in `runner.run` method
    - opencontainers/runc#2041 Change the permissions of the notify listener socket to rwx for everyone
    - opencontainers/runc#2042 libcontainer: intelrdt: add missing destroy handler in defer func
    - opencontainers/runc#2047 Move systemd.Manager initialization into a function in that module
    - opencontainers/runc#2057 main: not reopen /dev/stderr
        - closes opencontainers/runc#2056 Runc + podman|cri-o + systemd issue with stderr
        - closes kubernetes/kubernetes#77615 kubelet fails starting CRI-O containers (Ubuntu 18.04 + systemd cgroups driver)
        - closes cri-o/cri-o#2368 Joining worker node not starting flannel or kube-proxy / CRI-O error "open /dev/stderr: no such device or address"
    - opencontainers/runc#2061 libcontainer: fix TestGetContainerState to check configs.NEWCGROUP
    - opencontainers/runc#2065 Fix cgroup hugetlb size prefix for kB
    - opencontainers/runc#2067 libcontainer: change seccomp test for clone syscall
    - opencontainers/runc#2074 Update dependency libseccomp-golang
    - opencontainers/runc#2081 Bump CRIU to 3.12
    - opencontainers/runc#2089 doc: First process in container needs `Init: true`
    - opencontainers/runc#2094 Skip searching /dev/.udev for device nodes
        - closes opencontainers/runc#2093 HostDevices() race with older udevd versions
    - opencontainers/runc#2098 man: fix man-pages
    - opencontainers/runc#2103 cgroups/fs: check nil pointers in cgroup manager
    - opencontainers/runc#2107 Make get devices function public
    - opencontainers/runc#2113 libcontainer: initial support for cgroups v2
    - opencontainers/runc#2116 Avoid the dependency on cgo through go-systemd/util package
        - removes github.com/coreos/pkg as dependency
    - opencontainers/runc#2117 Remove libcontainer detection for systemd features
        - fixes opencontainers/runc#2117 Cache the systemd detection results
    - opencontainers/runc#2119 libcontainer: update masked paths of /proc
        - relates to moby/moby#36368 Add /proc/keys to masked paths
        - relates to moby/moby#38299 Masked /proc/asound
        - relates to moby/moby#37404 Add /proc/acpi to masked paths (CVE-2018-10892)
    - opencontainers/runc#2122 nsenter: minor fixes
    - opencontainers/runc#2123 Bump x/sys and update syscall for initial Risc-V support
    - opencontainers/runc#2125 cgroup: support mount of cgroup2
    - opencontainers/runc#2126 libcontainer/nsenter: Don't import C in non-cgo file
    - opencontainers/runc#2129 Only allow proc mount if it is procfs
        - addresses opencontainers/runc#2129 AppArmor can be bypassed by a malicious image that specifies a volume at /proc (CVE-2019-16884)

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  (cherry picked from commit bc9a7ec8987ffe028f8eab3978d4c36da3d3490f)
  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  b4c03dd6338e0c320db669a198cf48001dfdd49b:update runc to v1.0.0-rc8-92-g84373aaa (CVE-2019-16884)

  full diff: https://github.com/opencontainers/runc/compare/v1.0.0-rc8...3e425f80a8c931f88e6d94a8c831b9d5aa481657

    - opencontainers/runc#2010 criu image path permission error when checkpoint rootless container
    - opencontainers/runc#2028 Update to Go 1.12 and drop obsolete versions
    - opencontainers/runc#2029 Update dependencies
    - opencontainers/runc#2034 Support for logging from children processes
    - opencontainers/runc#2035 specconv: always set "type: bind" in case of MS_BIND
    - opencontainers/runc#2038 `r.destroy` can defer exec in `runner.run` method
    - opencontainers/runc#2041 Change the permissions of the notify listener socket to rwx for everyone
    - opencontainers/runc#2042 libcontainer: intelrdt: add missing destroy handler in defer func
    - opencontainers/runc#2047 Move systemd.Manager initialization into a function in that module
    - opencontainers/runc#2057 main: not reopen /dev/stderr
        - closes opencontainers/runc#2056 Runc + podman|cri-o + systemd issue with stderr
        - closes kubernetes/kubernetes#77615 kubelet fails starting CRI-O containers (Ubuntu 18.04 + systemd cgroups driver)
        - closes cri-o/cri-o#2368 Joining worker node not starting flannel or kube-proxy / CRI-O error "open /dev/stderr: no such device or address"
    - opencontainers/runc#2061 libcontainer: fix TestGetContainerState to check configs.NEWCGROUP
    - opencontainers/runc#2065 Fix cgroup hugetlb size prefix for kB
    - opencontainers/runc#2067 libcontainer: change seccomp test for clone syscall
    - opencontainers/runc#2074 Update dependency libseccomp-golang
    - opencontainers/runc#2081 Bump CRIU to 3.12
    - opencontainers/runc#2089 doc: First process in container needs `Init: true`
    - opencontainers/runc#2094 Skip searching /dev/.udev for device nodes
        - closes opencontainers/runc#2093 HostDevices() race with older udevd versions
    - opencontainers/runc#2098 man: fix man-pages
    - opencontainers/runc#2103 cgroups/fs: check nil pointers in cgroup manager
    - opencontainers/runc#2107 Make get devices function public
    - opencontainers/runc#2113 libcontainer: initial support for cgroups v2
    - opencontainers/runc#2116 Avoid the dependency on cgo through go-systemd/util package
        - removes github.com/coreos/pkg as dependency
    - opencontainers/runc#2117 Remove libcontainer detection for systemd features
        - fixes opencontainers/runc#2117 Cache the systemd detection results
    - opencontainers/runc#2119 libcontainer: update masked paths of /proc
        - relates to moby/moby#36368 Add /proc/keys to masked paths
        - relates to moby/moby#38299 Masked /proc/asound
        - relates to moby/moby#37404 Add /proc/acpi to masked paths (CVE-2018-10892)
    - opencontainers/runc#2122 nsenter: minor fixes
    - opencontainers/runc#2123 Bump x/sys and update syscall for initial Risc-V support
    - opencontainers/runc#2125 cgroup: support mount of cgroup2
    - opencontainers/runc#2126 libcontainer/nsenter: Don't import C in non-cgo file
    - opencontainers/runc#2129 Only allow proc mount if it is procfs
        - addresses opencontainers/runc#2129 AppArmor can be bypassed by a malicious image that specifies a volume at /proc (CVE-2019-16884)

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  (cherry picked from commit bc9a7ec8987ffe028f8eab3978d4c36da3d3490f)
  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  ac0ab114a2ad14eab4a4da6a855831d90d777139:bump runc vendor v1.0.0-rc8-92-g84373aaa

  full diff: https://github.com/opencontainers/runc/compare/v1.0.0-rc8...3e425f80a8c931f88e6d94a8c831b9d5aa481657

    - opencontainers/runc#2010 criu image path permission error when checkpoint rootless container
    - opencontainers/runc#2028 Update to Go 1.12 and drop obsolete versions
    - opencontainers/runc#2029 Update dependencies
    - opencontainers/runc#2034 Support for logging from children processes
    - opencontainers/runc#2035 specconv: always set "type: bind" in case of MS_BIND
    - opencontainers/runc#2038 `r.destroy` can defer exec in `runner.run` method
    - opencontainers/runc#2041 Change the permissions of the notify listener socket to rwx for everyone
    - opencontainers/runc#2042 libcontainer: intelrdt: add missing destroy handler in defer func
    - opencontainers/runc#2047 Move systemd.Manager initialization into a function in that module
    - opencontainers/runc#2057 main: not reopen /dev/stderr
        - closes opencontainers/runc#2056 Runc + podman|cri-o + systemd issue with stderr
        - closes kubernetes/kubernetes#77615 kubelet fails starting CRI-O containers (Ubuntu 18.04 + systemd cgroups driver)
        - closes cri-o/cri-o#2368 Joining worker node not starting flannel or kube-proxy / CRI-O error "open /dev/stderr: no such device or address"
    - opencontainers/runc#2061 libcontainer: fix TestGetContainerState to check configs.NEWCGROUP
    - opencontainers/runc#2065 Fix cgroup hugetlb size prefix for kB
    - opencontainers/runc#2067 libcontainer: change seccomp test for clone syscall
    - opencontainers/runc#2074 Update dependency libseccomp-golang
    - opencontainers/runc#2081 Bump CRIU to 3.12
    - opencontainers/runc#2089 doc: First process in container needs `Init: true`
    - opencontainers/runc#2094 Skip searching /dev/.udev for device nodes
        - closes opencontainers/runc#2093 HostDevices() race with older udevd versions
    - opencontainers/runc#2098 man: fix man-pages
    - opencontainers/runc#2103 cgroups/fs: check nil pointers in cgroup manager
    - opencontainers/runc#2107 Make get devices function public
    - opencontainers/runc#2113 libcontainer: initial support for cgroups v2
    - opencontainers/runc#2116 Avoid the dependency on cgo through go-systemd/util package
        - removes github.com/coreos/pkg as dependency
    - opencontainers/runc#2117 Remove libcontainer detection for systemd features
        - fixes opencontainers/runc#2117 Cache the systemd detection results
    - opencontainers/runc#2119 libcontainer: update masked paths of /proc
        - relates to moby/moby#36368 Add /proc/keys to masked paths
        - relates to moby/moby#38299 Masked /proc/asound
        - relates to moby/moby#37404 Add /proc/acpi to masked paths (CVE-2018-10892)
    - opencontainers/runc#2122 nsenter: minor fixes
    - opencontainers/runc#2123 Bump x/sys and update syscall for initial Risc-V support
    - opencontainers/runc#2125 cgroup: support mount of cgroup2
    - opencontainers/runc#2126 libcontainer/nsenter: Don't import C in non-cgo file
    - opencontainers/runc#2129 Only allow proc mount if it is procfs
        - addresses opencontainers/runc#2129 AppArmor can be bypassed by a malicious image that specifies a volume at /proc (CVE-2019-16884)

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  bc9a7ec8987ffe028f8eab3978d4c36da3d3490f:update runc to v1.0.0-rc8-92-g84373aaa (CVE-2019-16884)

  full diff: https://github.com/opencontainers/runc/compare/v1.0.0-rc8...3e425f80a8c931f88e6d94a8c831b9d5aa481657

    - opencontainers/runc#2010 criu image path permission error when checkpoint rootless container
    - opencontainers/runc#2028 Update to Go 1.12 and drop obsolete versions
    - opencontainers/runc#2029 Update dependencies
    - opencontainers/runc#2034 Support for logging from children processes
    - opencontainers/runc#2035 specconv: always set "type: bind" in case of MS_BIND
    - opencontainers/runc#2038 `r.destroy` can defer exec in `runner.run` method
    - opencontainers/runc#2041 Change the permissions of the notify listener socket to rwx for everyone
    - opencontainers/runc#2042 libcontainer: intelrdt: add missing destroy handler in defer func
    - opencontainers/runc#2047 Move systemd.Manager initialization into a function in that module
    - opencontainers/runc#2057 main: not reopen /dev/stderr
        - closes opencontainers/runc#2056 Runc + podman|cri-o + systemd issue with stderr
        - closes kubernetes/kubernetes#77615 kubelet fails starting CRI-O containers (Ubuntu 18.04 + systemd cgroups driver)
        - closes cri-o/cri-o#2368 Joining worker node not starting flannel or kube-proxy / CRI-O error "open /dev/stderr: no such device or address"
    - opencontainers/runc#2061 libcontainer: fix TestGetContainerState to check configs.NEWCGROUP
    - opencontainers/runc#2065 Fix cgroup hugetlb size prefix for kB
    - opencontainers/runc#2067 libcontainer: change seccomp test for clone syscall
    - opencontainers/runc#2074 Update dependency libseccomp-golang
    - opencontainers/runc#2081 Bump CRIU to 3.12
    - opencontainers/runc#2089 doc: First process in container needs `Init: true`
    - opencontainers/runc#2094 Skip searching /dev/.udev for device nodes
        - closes opencontainers/runc#2093 HostDevices() race with older udevd versions
    - opencontainers/runc#2098 man: fix man-pages
    - opencontainers/runc#2103 cgroups/fs: check nil pointers in cgroup manager
    - opencontainers/runc#2107 Make get devices function public
    - opencontainers/runc#2113 libcontainer: initial support for cgroups v2
    - opencontainers/runc#2116 Avoid the dependency on cgo through go-systemd/util package
        - removes github.com/coreos/pkg as dependency
    - opencontainers/runc#2117 Remove libcontainer detection for systemd features
        - fixes opencontainers/runc#2117 Cache the systemd detection results
    - opencontainers/runc#2119 libcontainer: update masked paths of /proc
        - relates to moby/moby#36368 Add /proc/keys to masked paths
        - relates to moby/moby#38299 Masked /proc/asound
        - relates to moby/moby#37404 Add /proc/acpi to masked paths (CVE-2018-10892)
    - opencontainers/runc#2122 nsenter: minor fixes
    - opencontainers/runc#2123 Bump x/sys and update syscall for initial Risc-V support
    - opencontainers/runc#2125 cgroup: support mount of cgroup2
    - opencontainers/runc#2126 libcontainer/nsenter: Don't import C in non-cgo file
    - opencontainers/runc#2129 Only allow proc mount if it is procfs
        - addresses opencontainers/runc#2129 AppArmor can be bypassed by a malicious image that specifies a volume at /proc (CVE-2019-16884)

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  bc9a7ec8987ffe028f8eab3978d4c36da3d3490f:update runc to v1.0.0-rc8-92-g84373aaa (CVE-2019-16884)

  full diff: https://github.com/opencontainers/runc/compare/v1.0.0-rc8...3e425f80a8c931f88e6d94a8c831b9d5aa481657

    - opencontainers/runc#2010 criu image path permission error when checkpoint rootless container
    - opencontainers/runc#2028 Update to Go 1.12 and drop obsolete versions
    - opencontainers/runc#2029 Update dependencies
    - opencontainers/runc#2034 Support for logging from children processes
    - opencontainers/runc#2035 specconv: always set "type: bind" in case of MS_BIND
    - opencontainers/runc#2038 `r.destroy` can defer exec in `runner.run` method
    - opencontainers/runc#2041 Change the permissions of the notify listener socket to rwx for everyone
    - opencontainers/runc#2042 libcontainer: intelrdt: add missing destroy handler in defer func
    - opencontainers/runc#2047 Move systemd.Manager initialization into a function in that module
    - opencontainers/runc#2057 main: not reopen /dev/stderr
        - closes opencontainers/runc#2056 Runc + podman|cri-o + systemd issue with stderr
        - closes kubernetes/kubernetes#77615 kubelet fails starting CRI-O containers (Ubuntu 18.04 + systemd cgroups driver)
        - closes cri-o/cri-o#2368 Joining worker node not starting flannel or kube-proxy / CRI-O error "open /dev/stderr: no such device or address"
    - opencontainers/runc#2061 libcontainer: fix TestGetContainerState to check configs.NEWCGROUP
    - opencontainers/runc#2065 Fix cgroup hugetlb size prefix for kB
    - opencontainers/runc#2067 libcontainer: change seccomp test for clone syscall
    - opencontainers/runc#2074 Update dependency libseccomp-golang
    - opencontainers/runc#2081 Bump CRIU to 3.12
    - opencontainers/runc#2089 doc: First process in container needs `Init: true`
    - opencontainers/runc#2094 Skip searching /dev/.udev for device nodes
        - closes opencontainers/runc#2093 HostDevices() race with older udevd versions
    - opencontainers/runc#2098 man: fix man-pages
    - opencontainers/runc#2103 cgroups/fs: check nil pointers in cgroup manager
    - opencontainers/runc#2107 Make get devices function public
    - opencontainers/runc#2113 libcontainer: initial support for cgroups v2
    - opencontainers/runc#2116 Avoid the dependency on cgo through go-systemd/util package
        - removes github.com/coreos/pkg as dependency
    - opencontainers/runc#2117 Remove libcontainer detection for systemd features
        - fixes opencontainers/runc#2117 Cache the systemd detection results
    - opencontainers/runc#2119 libcontainer: update masked paths of /proc
        - relates to moby/moby#36368 Add /proc/keys to masked paths
        - relates to moby/moby#38299 Masked /proc/asound
        - relates to moby/moby#37404 Add /proc/acpi to masked paths (CVE-2018-10892)
    - opencontainers/runc#2122 nsenter: minor fixes
    - opencontainers/runc#2123 Bump x/sys and update syscall for initial Risc-V support
    - opencontainers/runc#2125 cgroup: support mount of cgroup2
    - opencontainers/runc#2126 libcontainer/nsenter: Don't import C in non-cgo file
    - opencontainers/runc#2129 Only allow proc mount if it is procfs
        - addresses opencontainers/runc#2129 AppArmor can be bypassed by a malicious image that specifies a volume at /proc (CVE-2019-16884)

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
impacted_packages:
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: f8cfa7947cd0a2750bd0b4ebf616044a98a07a24
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: cfcf25bb5409eb0c3a9c257b225f2b8890142030
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 8ddb4c4e958bca2991b15aab5f9d6ac9397a55ed
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: efcd84e47c6bc3f5e52eb2cce518f55501d60ce7
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 17e1ab174cc507faedcf9486117e9293ddcc05d6
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 3fec3d1f1cf496dd02cee78f462fa7fbbb6234d1
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: bc9a7ec8987ffe028f8eab3978d4c36da3d3490f
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: b4c03dd6338e0c320db669a198cf48001dfdd49b
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: ac0ab114a2ad14eab4a4da6a855831d90d777139
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/moby/moby/tree/17e1ab174cc507faedcf9486117e9293ddcc05d6
    reference_type: commit
    reference_id: 17e1ab174cc507faedcf9486117e9293ddcc05d6
  - url: https://github.com/moby/moby/tree/3fec3d1f1cf496dd02cee78f462fa7fbbb6234d1
    reference_type: commit
    reference_id: 3fec3d1f1cf496dd02cee78f462fa7fbbb6234d1
  - url: https://github.com/moby/moby/tree/8ddb4c4e958bca2991b15aab5f9d6ac9397a55ed
    reference_type: commit
    reference_id: 8ddb4c4e958bca2991b15aab5f9d6ac9397a55ed
  - url: https://github.com/moby/moby/tree/ac0ab114a2ad14eab4a4da6a855831d90d777139
    reference_type: commit
    reference_id: ac0ab114a2ad14eab4a4da6a855831d90d777139
  - url: https://github.com/moby/moby/tree/b4c03dd6338e0c320db669a198cf48001dfdd49b
    reference_type: commit
    reference_id: b4c03dd6338e0c320db669a198cf48001dfdd49b
  - url: https://github.com/moby/moby/tree/bc9a7ec8987ffe028f8eab3978d4c36da3d3490f
    reference_type: commit
    reference_id: bc9a7ec8987ffe028f8eab3978d4c36da3d3490f
  - url: https://github.com/moby/moby/tree/cfcf25bb5409eb0c3a9c257b225f2b8890142030
    reference_type: commit
    reference_id: cfcf25bb5409eb0c3a9c257b225f2b8890142030
  - url: https://github.com/moby/moby/tree/efcd84e47c6bc3f5e52eb2cce518f55501d60ce7
    reference_type: commit
    reference_id: efcd84e47c6bc3f5e52eb2cce518f55501d60ce7
  - url: https://github.com/moby/moby/tree/f8cfa7947cd0a2750bd0b4ebf616044a98a07a24
    reference_type: commit
    reference_id: f8cfa7947cd0a2750bd0b4ebf616044a98a07a24
