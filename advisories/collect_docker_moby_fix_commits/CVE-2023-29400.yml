advisory_id: CVE-2023-29400
datasource_id: collect_docker_moby_fix_commits/CVE-2023-29400
datasource_url: https://github.com/moby/moby
aliases: []
summary: |
  4c57e2d55f7229b02d96ef7e21aa1c87b14da905:update go to go1.20.4

  go1.20.4 (released 2023-05-02) includes three security fixes to the html/template
  package, as well as bug fixes to the compiler, the runtime, and the crypto/subtle,
  crypto/tls, net/http, and syscall packages. See the Go 1.20.4 milestone on our
  issue tracker for details:

  https://github.com/golang/go/issues?q=milestone%3AGo1.20.4+label%3ACherryPickApproved

  release notes: https://go.dev/doc/devel/release#go1.20.4
  full diff: https://github.com/golang/go/compare/go1.20.3...go1.20.4

  from the announcement:

  > These minor releases include 3 security fixes following the security policy:
  >
  > - html/template: improper sanitization of CSS values
  >
  >   Angle brackets (`<>`) were not considered dangerous characters when inserted
  >   into CSS contexts. Templates containing multiple actions separated by a '/'
  >   character could result in unexpectedly closing the CSS context and allowing
  >   for injection of unexpected HMTL, if executed with untrusted input.
  >
  >   Thanks to Juho Nurminen of Mattermost for reporting this issue.
  >
  >   This is CVE-2023-24539 and Go issue https://go.dev/issue/59720.
  >
  > - html/template: improper handling of JavaScript whitespace
  >
  >   Not all valid JavaScript whitespace characters were considered to be
  >   whitespace. Templates containing whitespace characters outside of the character
  >   set "\t\n\f\r\u0020\u2028\u2029" in JavaScript contexts that also contain
  >   actions may not be properly sanitized during execution.
  >
  >   Thanks to Juho Nurminen of Mattermost for reporting this issue.
  >
  >   This is CVE-2023-24540 and Go issue https://go.dev/issue/59721.
  >
  > - html/template: improper handling of empty HTML attributes
  >
  >   Templates containing actions in unquoted HTML attributes (e.g. "attr={{.}}")
  >   executed with empty input could result in output that would have unexpected
  >   results when parsed due to HTML normalization rules. This may allow injection
  >   of arbitrary attributes into tags.
  >
  >   Thanks to Juho Nurminen of Mattermost for reporting this issue.
  >
  >   This is CVE-2023-29400 and Go issue https://go.dev/issue/59722.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  (cherry picked from commit b7e8868235a393addf65f7157ee336c7737a5015)
  Signed-off-by: Cory Snider <csnider@mirantis.com>
  7f91a52b8969f5604fdca36ee30475cc9600be5b:[20.10] update go to go1.19.9

  go1.19.9 (released 2023-05-02) includes three security fixes to the html/template
  package, as well as bug fixes to the compiler, the runtime, and the crypto/tls
  and syscall packages. See the Go 1.19.9 milestone on our issue tracker for details.

  https://github.com/golang/go/issues?q=milestone%3AGo1.19.9+label%3ACherryPickApproved

  release notes: https://go.dev/doc/devel/release#go1.19.9
  full diff: https://github.com/golang/go/compare/go1.19.8...go1.19.9

  from the announcement:

  > These minor releases include 3 security fixes following the security policy:
  >
  >- html/template: improper sanitization of CSS values
  >
  >   Angle brackets (`<>`) were not considered dangerous characters when inserted
  >   into CSS contexts. Templates containing multiple actions separated by a '/'
  >   character could result in unexpectedly closing the CSS context and allowing
  >   for injection of unexpected HMTL, if executed with untrusted input.
  >
  >   Thanks to Juho Nurminen of Mattermost for reporting this issue.
  >
  >   This is CVE-2023-24539 and Go issue https://go.dev/issue/59720.
  >
  > - html/template: improper handling of JavaScript whitespace
  >
  >   Not all valid JavaScript whitespace characters were considered to be
  >   whitespace. Templates containing whitespace characters outside of the character
  >   set "\t\n\f\r\u0020\u2028\u2029" in JavaScript contexts that also contain
  >   actions may not be properly sanitized during execution.
  >
  >   Thanks to Juho Nurminen of Mattermost for reporting this issue.
  >
  >   This is CVE-2023-24540 and Go issue https://go.dev/issue/59721.
  >
  > - html/template: improper handling of empty HTML attributes
  >
  >   Templates containing actions in unquoted HTML attributes (e.g. "attr={{.}}")
  >   executed with empty input could result in output that would have unexpected
  >   results when parsed due to HTML normalization rules. This may allow injection
  >   of arbitrary attributes into tags.
  >
  >   Thanks to Juho Nurminen of Mattermost for reporting this issue.
  >
  >   This is CVE-2023-29400 and Go issue https://go.dev/issue/59722.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  70dbd2c870575261bd63646ee921e12703532348:[23.0] update go to go1.19.9

  go1.19.9 (released 2023-05-02) includes three security fixes to the html/template
  package, as well as bug fixes to the compiler, the runtime, and the crypto/tls
  and syscall packages. See the Go 1.19.9 milestone on our issue tracker for details.

  https://github.com/golang/go/issues?q=milestone%3AGo1.19.9+label%3ACherryPickApproved

  release notes: https://go.dev/doc/devel/release#go1.19.9
  full diff: https://github.com/golang/go/compare/go1.19.8...go1.19.9

  from the announcement:

  > These minor releases include 3 security fixes following the security policy:
  >
  >- html/template: improper sanitization of CSS values
  >
  >   Angle brackets (`<>`) were not considered dangerous characters when inserted
  >   into CSS contexts. Templates containing multiple actions separated by a '/'
  >   character could result in unexpectedly closing the CSS context and allowing
  >   for injection of unexpected HMTL, if executed with untrusted input.
  >
  >   Thanks to Juho Nurminen of Mattermost for reporting this issue.
  >
  >   This is CVE-2023-24539 and Go issue https://go.dev/issue/59720.
  >
  > - html/template: improper handling of JavaScript whitespace
  >
  >   Not all valid JavaScript whitespace characters were considered to be
  >   whitespace. Templates containing whitespace characters outside of the character
  >   set "\t\n\f\r\u0020\u2028\u2029" in JavaScript contexts that also contain
  >   actions may not be properly sanitized during execution.
  >
  >   Thanks to Juho Nurminen of Mattermost for reporting this issue.
  >
  >   This is CVE-2023-24540 and Go issue https://go.dev/issue/59721.
  >
  > - html/template: improper handling of empty HTML attributes
  >
  >   Templates containing actions in unquoted HTML attributes (e.g. "attr={{.}}")
  >   executed with empty input could result in output that would have unexpected
  >   results when parsed due to HTML normalization rules. This may allow injection
  >   of arbitrary attributes into tags.
  >
  >   Thanks to Juho Nurminen of Mattermost for reporting this issue.
  >
  >   This is CVE-2023-29400 and Go issue https://go.dev/issue/59722.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  b7e8868235a393addf65f7157ee336c7737a5015:update go to go1.20.4

  go1.20.4 (released 2023-05-02) includes three security fixes to the html/template
  package, as well as bug fixes to the compiler, the runtime, and the crypto/subtle,
  crypto/tls, net/http, and syscall packages. See the Go 1.20.4 milestone on our
  issue tracker for details:

  https://github.com/golang/go/issues?q=milestone%3AGo1.20.4+label%3ACherryPickApproved

  release notes: https://go.dev/doc/devel/release#go1.20.4
  full diff: https://github.com/golang/go/compare/go1.20.3...go1.20.4

  from the announcement:

  > These minor releases include 3 security fixes following the security policy:
  >
  > - html/template: improper sanitization of CSS values
  >
  >   Angle brackets (`<>`) were not considered dangerous characters when inserted
  >   into CSS contexts. Templates containing multiple actions separated by a '/'
  >   character could result in unexpectedly closing the CSS context and allowing
  >   for injection of unexpected HMTL, if executed with untrusted input.
  >
  >   Thanks to Juho Nurminen of Mattermost for reporting this issue.
  >
  >   This is CVE-2023-24539 and Go issue https://go.dev/issue/59720.
  >
  > - html/template: improper handling of JavaScript whitespace
  >
  >   Not all valid JavaScript whitespace characters were considered to be
  >   whitespace. Templates containing whitespace characters outside of the character
  >   set "\t\n\f\r\u0020\u2028\u2029" in JavaScript contexts that also contain
  >   actions may not be properly sanitized during execution.
  >
  >   Thanks to Juho Nurminen of Mattermost for reporting this issue.
  >
  >   This is CVE-2023-24540 and Go issue https://go.dev/issue/59721.
  >
  > - html/template: improper handling of empty HTML attributes
  >
  >   Templates containing actions in unquoted HTML attributes (e.g. "attr={{.}}")
  >   executed with empty input could result in output that would have unexpected
  >   results when parsed due to HTML normalization rules. This may allow injection
  >   of arbitrary attributes into tags.
  >
  >   Thanks to Juho Nurminen of Mattermost for reporting this issue.
  >
  >   This is CVE-2023-29400 and Go issue https://go.dev/issue/59722.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
impacted_packages:
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 4c57e2d55f7229b02d96ef7e21aa1c87b14da905
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 70dbd2c870575261bd63646ee921e12703532348
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: b7e8868235a393addf65f7157ee336c7737a5015
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 7f91a52b8969f5604fdca36ee30475cc9600be5b
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/moby/moby/tree/4c57e2d55f7229b02d96ef7e21aa1c87b14da905
    reference_type: commit
    reference_id: 4c57e2d55f7229b02d96ef7e21aa1c87b14da905
  - url: https://github.com/moby/moby/tree/70dbd2c870575261bd63646ee921e12703532348
    reference_type: commit
    reference_id: 70dbd2c870575261bd63646ee921e12703532348
  - url: https://github.com/moby/moby/tree/7f91a52b8969f5604fdca36ee30475cc9600be5b
    reference_type: commit
    reference_id: 7f91a52b8969f5604fdca36ee30475cc9600be5b
  - url: https://github.com/moby/moby/tree/b7e8868235a393addf65f7157ee336c7737a5015
    reference_type: commit
    reference_id: b7e8868235a393addf65f7157ee336c7737a5015
