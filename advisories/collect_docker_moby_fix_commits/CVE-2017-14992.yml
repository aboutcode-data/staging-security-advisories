advisory_id: CVE-2017-14992
datasource_id: collect_docker_moby_fix_commits/CVE-2017-14992
datasource_url: https://github.com/moby/moby
aliases: []
summary: |
  25e81eec31528ff623683aaff5edc5bbe8b6ddf3:image: add import test for CVE-2017-14992

  To ensure that we don't revert CVE-2017-14992, add a test that is quite
  similar to that upstream tar-split test (create an empty archive with
  lots of junk and make sure the daemon doesn't crash).

  Signed-off-by: Aleksa Sarai <asarai@suse.de>
  (cherry picked from commit 0a13f827a10d3bf61744d9b3f7165c5885a39c5d)
  Signed-off-by: Andrew Hsu <andrewhsu@docker.com>
  25e81eec31528ff623683aaff5edc5bbe8b6ddf3:image: add import test for CVE-2017-14992

  To ensure that we don't revert CVE-2017-14992, add a test that is quite
  similar to that upstream tar-split test (create an empty archive with
  lots of junk and make sure the daemon doesn't crash).

  Signed-off-by: Aleksa Sarai <asarai@suse.de>
  (cherry picked from commit 0a13f827a10d3bf61744d9b3f7165c5885a39c5d)
  Signed-off-by: Andrew Hsu <andrewhsu@docker.com>
  374d7a3df9b493ed8b4b3da841f54e0a6945d07a:vendor: update to github.com/vbatts/tar-split@v0.10.2

  Update to the latest version of tar-split, which includes a change to
  fix a memory exhaustion issue where a malformed image could cause the
  Docker daemon to crash.

    * tar: asm: store padding in chunks to avoid memory exhaustion

  Fixes: CVE-2017-14992
  Signed-off-by: Aleksa Sarai <asarai@suse.de>
  (cherry picked from commit e0ff7cccc3cac73da41ec9ef007b0e4e97c55d01)
  Signed-off-by: Andrew Hsu <andrewhsu@docker.com>
  07613effcc60179aacf1ecc5313529f9ae712d44:image: add import test for CVE-2017-14992

  To ensure that we don't revert CVE-2017-14992, add a test that is quite
  similar to that upstream tar-split test (create an empty archive with
  lots of junk and make sure the daemon doesn't crash).

  Signed-off-by: Aleksa Sarai <asarai@suse.de>
  (cherry picked from commit 0a13f827a10d3bf61744d9b3f7165c5885a39c5d)
  Signed-off-by: Victor Vieux <victorvieux@gmail.com>
  07613effcc60179aacf1ecc5313529f9ae712d44:image: add import test for CVE-2017-14992

  To ensure that we don't revert CVE-2017-14992, add a test that is quite
  similar to that upstream tar-split test (create an empty archive with
  lots of junk and make sure the daemon doesn't crash).

  Signed-off-by: Aleksa Sarai <asarai@suse.de>
  (cherry picked from commit 0a13f827a10d3bf61744d9b3f7165c5885a39c5d)
  Signed-off-by: Victor Vieux <victorvieux@gmail.com>
  f9a99974457fd5a91b47d3d1dc55b268ebadd89a:vendor: update to github.com/vbatts/tar-split@v0.10.2

  Update to the latest version of tar-split, which includes a change to
  fix a memory exhaustion issue where a malformed image could cause the
  Docker daemon to crash.

    * tar: asm: store padding in chunks to avoid memory exhaustion

  Fixes: CVE-2017-14992
  Signed-off-by: Aleksa Sarai <asarai@suse.de>
  (cherry picked from commit e0ff7cccc3cac73da41ec9ef007b0e4e97c55d01)
  Signed-off-by: Victor Vieux <victorvieux@gmail.com>
  6395b8b3dcc43be6750e0d90d9bab0a83e4eb20b:image: skip the import test on AArch64

  The commit '0a13f827a10d3bf61744d9b3f7165c5885a39c5d' introduces an
  import test for CVE-2017-14992, it uses a 8GB image to make sure we
  don't revert CVE-2017-14992, but unfortunately this test can't finish
  in 5-min on AArch64, as a fact, in most cases we have to crate a very
  big image to make the test effective on AArch64, but this will result
  in a test panic, so now we skip it order to avoid termination of others
  tests followed.

  Signed-off-by: Dennis Chen <dennis.chen@arm.com>
  6395b8b3dcc43be6750e0d90d9bab0a83e4eb20b:image: skip the import test on AArch64

  The commit '0a13f827a10d3bf61744d9b3f7165c5885a39c5d' introduces an
  import test for CVE-2017-14992, it uses a 8GB image to make sure we
  don't revert CVE-2017-14992, but unfortunately this test can't finish
  in 5-min on AArch64, as a fact, in most cases we have to crate a very
  big image to make the test effective on AArch64, but this will result
  in a test panic, so now we skip it order to avoid termination of others
  tests followed.

  Signed-off-by: Dennis Chen <dennis.chen@arm.com>
  0a13f827a10d3bf61744d9b3f7165c5885a39c5d:image: add import test for CVE-2017-14992

  To ensure that we don't revert CVE-2017-14992, add a test that is quite
  similar to that upstream tar-split test (create an empty archive with
  lots of junk and make sure the daemon doesn't crash).

  Signed-off-by: Aleksa Sarai <asarai@suse.de>
  0a13f827a10d3bf61744d9b3f7165c5885a39c5d:image: add import test for CVE-2017-14992

  To ensure that we don't revert CVE-2017-14992, add a test that is quite
  similar to that upstream tar-split test (create an empty archive with
  lots of junk and make sure the daemon doesn't crash).

  Signed-off-by: Aleksa Sarai <asarai@suse.de>
  e0ff7cccc3cac73da41ec9ef007b0e4e97c55d01:vendor: update to github.com/vbatts/tar-split@v0.10.2

  Update to the latest version of tar-split, which includes a change to
  fix a memory exhaustion issue where a malformed image could cause the
  Docker daemon to crash.

    * tar: asm: store padding in chunks to avoid memory exhaustion

  Fixes: CVE-2017-14992
  Signed-off-by: Aleksa Sarai <asarai@suse.de>
impacted_packages:
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 374d7a3df9b493ed8b4b3da841f54e0a6945d07a
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 07613effcc60179aacf1ecc5313529f9ae712d44
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 0a13f827a10d3bf61744d9b3f7165c5885a39c5d
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: f9a99974457fd5a91b47d3d1dc55b268ebadd89a
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: e0ff7cccc3cac73da41ec9ef007b0e4e97c55d01
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 6395b8b3dcc43be6750e0d90d9bab0a83e4eb20b
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 25e81eec31528ff623683aaff5edc5bbe8b6ddf3
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/moby/moby/tree/07613effcc60179aacf1ecc5313529f9ae712d44
    reference_type: commit
    reference_id: 07613effcc60179aacf1ecc5313529f9ae712d44
  - url: https://github.com/moby/moby/tree/0a13f827a10d3bf61744d9b3f7165c5885a39c5d
    reference_type: commit
    reference_id: 0a13f827a10d3bf61744d9b3f7165c5885a39c5d
  - url: https://github.com/moby/moby/tree/25e81eec31528ff623683aaff5edc5bbe8b6ddf3
    reference_type: commit
    reference_id: 25e81eec31528ff623683aaff5edc5bbe8b6ddf3
  - url: https://github.com/moby/moby/tree/374d7a3df9b493ed8b4b3da841f54e0a6945d07a
    reference_type: commit
    reference_id: 374d7a3df9b493ed8b4b3da841f54e0a6945d07a
  - url: https://github.com/moby/moby/tree/6395b8b3dcc43be6750e0d90d9bab0a83e4eb20b
    reference_type: commit
    reference_id: 6395b8b3dcc43be6750e0d90d9bab0a83e4eb20b
  - url: https://github.com/moby/moby/tree/e0ff7cccc3cac73da41ec9ef007b0e4e97c55d01
    reference_type: commit
    reference_id: e0ff7cccc3cac73da41ec9ef007b0e4e97c55d01
  - url: https://github.com/moby/moby/tree/f9a99974457fd5a91b47d3d1dc55b268ebadd89a
    reference_type: commit
    reference_id: f9a99974457fd5a91b47d3d1dc55b268ebadd89a
