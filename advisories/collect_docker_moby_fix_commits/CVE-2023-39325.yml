advisory_id: CVE-2023-39325
datasource_id: collect_docker_moby_fix_commits/CVE-2023-39325
datasource_url: https://github.com/moby/moby
aliases: []
summary: |
  2c22bd52808f1c15d8efcdfb8c960f778c439a37:vendor: golang.org/x/net v0.17.0

  full diff: https://github.com/golang/net/compare/ab34263943818b32f575efc978

  This fixes the same CVE as go1.21.3 and go1.20.10;

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Dependency full diffs:
  a3d24e80b04bd7...v0.17.0
  https://github.com/golang/sys/compare/33da011f77ade50ff5b6a6fb4a
  9a1e6d6b285809...v0.13.0
  https://github.com/golang/text/compare/v0.3.3...v0.13.0
  https://github.com/golang/crypto/compare/c1f2f97bffc9c53fc40a1a28a5
  b460094c0050d9...v0.14.0

  Signed-off-by: Cory Snider <csnider@mirantis.com>
  d862c21eb2a806ab72069664f6ba5a75006fc843:Update to go1.20.10

  go1.20.10 (released 2023-10-10) includes a security fix to the net/http
  package. See the Go 1.20.10 milestone on our issue tracker for details.

  - https://github.com/golang/go/issues?q=milestone%3AGo1.20.10+label%3ACherryPickApproved
  - full diff: https://github.com/golang/go/compare/go1.19.12...go1.20.10

  From the mailing list announcement:

  [security] Go 1.21.3 and Go 1.20.10 are released

  Hello gophers,

  We have just released Go versions 1.21.3 and 1.20.10, minor point releases.

  These minor releases include 1 security fixes following the security policy:

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  View the release notes for more information:
  https://go.dev/doc/devel/release#go1.21.3

  Signed-off-by: Cory Snider <csnider@mirantis.com>
  fcc2ca7cdfd4f0b8fcd04865007f22bf0adecff2:vendor: golang.org/x/net v0.17.0

  full diff: https://github.com/golang/net/compare/v0.13.0...v0.17.0

  This fixes the same CVE as go1.21.3 and go1.20.10;

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  (cherry picked from commit 1800dd087600ee43b0bf09a01417bae2cf5f68d4)
  Signed-off-by: Cory Snider <csnider@mirantis.com>
  dde5995051ea03ba0241597c351efcbf24e543fc:vendor: golang.org/x/net v0.17.0

  full diff: https://github.com/golang/net/compare/v0.13.0...v0.17.0

  This fixes the same CVE as go1.21.3 and go1.20.10;

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  (cherry picked from commit 1800dd087600ee43b0bf09a01417bae2cf5f68d4)
  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  bb8bc1ffc897abd5533480764295f84527f65c8f:update to go1.21.3

  go1.21.3 (released 2023-10-10) includes a security fix to the net/http package.
  See the Go 1.21.3 milestone on our issue tracker for details:

  https://github.com/golang/go/issues?q=milestone%3AGo1.21.3+label%3ACherryPickApproved

  full diff: https://github.com/golang/go/compare/go1.21.2...go1.21.3

  From the security mailing:

  [security] Go 1.21.3 and Go 1.20.10 are released

  Hello gophers,

  We have just released Go versions 1.21.3 and 1.20.10, minor point releases.

  These minor releases include 1 security fixes following the security policy:

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  f87492689e55ef87913e0ee7233939a713104238:update to go1.20.10

  go1.20.10 (released 2023-10-10) includes a security fix to the net/http package.
  See the Go 1.20.10 milestone on our issue tracker for details:

  https://github.com/golang/go/issues?q=milestone%3AGo1.20.10+label%3ACherryPickApproved

  full diff: https://github.com/golang/go/compare/go1.20.9...go1.20.10

  From the security mailing:

  [security] Go 1.21.3 and Go 1.20.10 are released

  Hello gophers,

  We have just released Go versions 1.21.3 and 1.20.10, minor point releases.

  These minor releases include 1 security fixes following the security policy:

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  6c829a38e4a17812bc6b12eb6460b52b934b0b92:update to go1.20.10

  go1.20.10 (released 2023-10-10) includes a security fix to the net/http package.
  See the Go 1.20.10 milestone on our issue tracker for details:

  https://github.com/golang/go/issues?q=milestone%3AGo1.20.10+label%3ACherryPickApproved

  full diff: https://github.com/golang/go/compare/go1.20.9...go1.20.10

  From the security mailing:

  [security] Go 1.21.3 and Go 1.20.10 are released

  Hello gophers,

  We have just released Go versions 1.21.3 and 1.20.10, minor point releases.

  These minor releases include 1 security fixes following the security policy:

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  1800dd087600ee43b0bf09a01417bae2cf5f68d4:vendor: golang.org/x/net v0.17.0

  full diff: https://github.com/golang/net/compare/v0.13.0...v0.17.0

  This fixes the same CVE as go1.21.3 and go1.20.10;

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
impacted_packages:
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: bb8bc1ffc897abd5533480764295f84527f65c8f
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: f87492689e55ef87913e0ee7233939a713104238
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 2c22bd52808f1c15d8efcdfb8c960f778c439a37
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 1800dd087600ee43b0bf09a01417bae2cf5f68d4
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: fcc2ca7cdfd4f0b8fcd04865007f22bf0adecff2
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: 6c829a38e4a17812bc6b12eb6460b52b934b0b92
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: dde5995051ea03ba0241597c351efcbf24e543fc
    introduced_in_commits: []
  - purl: pkg:github/moby/moby
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/moby/moby
        commit: d862c21eb2a806ab72069664f6ba5a75006fc843
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/moby/moby/tree/1800dd087600ee43b0bf09a01417bae2cf5f68d4
    reference_type: commit
    reference_id: 1800dd087600ee43b0bf09a01417bae2cf5f68d4
  - url: https://github.com/moby/moby/tree/2c22bd52808f1c15d8efcdfb8c960f778c439a37
    reference_type: commit
    reference_id: 2c22bd52808f1c15d8efcdfb8c960f778c439a37
  - url: https://github.com/moby/moby/tree/6c829a38e4a17812bc6b12eb6460b52b934b0b92
    reference_type: commit
    reference_id: 6c829a38e4a17812bc6b12eb6460b52b934b0b92
  - url: https://github.com/moby/moby/tree/bb8bc1ffc897abd5533480764295f84527f65c8f
    reference_type: commit
    reference_id: bb8bc1ffc897abd5533480764295f84527f65c8f
  - url: https://github.com/moby/moby/tree/d862c21eb2a806ab72069664f6ba5a75006fc843
    reference_type: commit
    reference_id: d862c21eb2a806ab72069664f6ba5a75006fc843
  - url: https://github.com/moby/moby/tree/dde5995051ea03ba0241597c351efcbf24e543fc
    reference_type: commit
    reference_id: dde5995051ea03ba0241597c351efcbf24e543fc
  - url: https://github.com/moby/moby/tree/f87492689e55ef87913e0ee7233939a713104238
    reference_type: commit
    reference_id: f87492689e55ef87913e0ee7233939a713104238
  - url: https://github.com/moby/moby/tree/fcc2ca7cdfd4f0b8fcd04865007f22bf0adecff2
    reference_type: commit
    reference_id: fcc2ca7cdfd4f0b8fcd04865007f22bf0adecff2
