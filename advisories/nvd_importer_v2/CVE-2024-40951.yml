advisory_id: CVE-2024-40951
datasource_id: nvd_importer_v2/CVE-2024-40951
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-40951
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  ocfs2: fix NULL pointer dereference in ocfs2_abort_trigger()

  bdev->bd_super has been removed and commit 8887b94d9322 change the usage
  from bdev->bd_super to b_assoc_map->host->i_sb.  Since ocfs2 hasn't set
  bh->b_assoc_map, it will trigger NULL pointer dereference when calling
  into ocfs2_abort_trigger().

  Actually this was pointed out in history, see commit 74e364ad1b13.  But
  I've made a mistake when reviewing commit 8887b94d9322 and then
  re-introduce this regression.

  Since we cannot revive bdev in buffer head, so fix this issue by
  initializing all types of ocfs2 triggers when fill super, and then get the
  specific ocfs2 trigger from ocfs2_caching_info when access journal.

  [joseph.qi@linux.alibaba.com: v2]
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-40951
weaknesses:
  - CWE-476
references:
  - url: https://git.kernel.org/stable/c/67bcecd780609f471260a8c83fb0ae15f27734ce
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/685d03c3795378fca6a1b3d43581f7f1a3fc095f
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/eb63357ef229fae061ce7ce2839d558681c42f1a
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.10:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.10:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.10:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.10:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.10:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.10:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.10:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.10:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-40951
    reference_type:
    reference_id: CVE-2024-40951
