advisory_id: CVE-2024-50297
datasource_id: nvd_importer_v2/CVE-2024-50297
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-50297
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  net: xilinx: axienet: Enqueue Tx packets in dql before dmaengine starts

  Enqueue packets in dql after dma engine starts causes race condition.
  Tx transfer starts once dma engine is started and may execute dql dequeue
  in completion before it gets queued. It results in following kernel crash
  while running iperf stress test:

  kernel BUG at lib/dynamic_queue_limits.c:99!
  <snip>
  Internal error: Oops - BUG: 00000000f2000800 [#1] SMP
  pc : dql_completed+0x238/0x248
  lr : dql_completed+0x3c/0x248

  Call trace:
    dql_completed+0x238/0x248
    axienet_dma_tx_cb+0xa0/0x170
    xilinx_dma_do_tasklet+0xdc/0x290
    tasklet_action_common+0xf8/0x11c
    tasklet_action+0x30/0x3c
    handle_softirqs+0xf8/0x230
  <snip>

  Start dmaengine after enqueue in dql fixes the crash.
impacted_packages: []
severities:
  - score: '4.7'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:H/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-50297
weaknesses:
  - CWE-362
references:
  - url: https://git.kernel.org/stable/c/5ccdcdf186aec6b9111845fd37e1757e9b413e2f
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/def3dee25cbd1c9b2ed443c3f6180e952563de77
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc5:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc5:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc6:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc6:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-50297
    reference_type:
    reference_id: CVE-2024-50297
