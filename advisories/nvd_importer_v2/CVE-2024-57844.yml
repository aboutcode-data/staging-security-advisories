advisory_id: CVE-2024-57844
datasource_id: nvd_importer_v2/CVE-2024-57844
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-57844
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  drm/xe: Fix fault on fd close after unbind

  If userspace holds an fd open, unbinds the device and then closes it,
  the driver shouldn't try to access the hardware. Protect it by using
  drm_dev_enter()/drm_dev_exit(). This fixes the following page fault:

  <6> [IGT] xe_wedged: exiting, ret=98
  <1> BUG: unable to handle page fault for address: ffffc901bc5e508c
  <1> #PF: supervisor read access in kernel mode
  <1> #PF: error_code(0x0000) - not-present page
  ...
  <4>   xe_lrc_update_timestamp+0x1c/0xd0 [xe]
  <4>   xe_exec_queue_update_run_ticks+0x50/0xb0 [xe]
  <4>   xe_exec_queue_fini+0x16/0xb0 [xe]
  <4>   __guc_exec_queue_fini_async+0xc4/0x190 [xe]
  <4>   guc_exec_queue_fini_async+0xa0/0xe0 [xe]
  <4>   guc_exec_queue_fini+0x23/0x40 [xe]
  <4>   xe_exec_queue_destroy+0xb3/0xf0 [xe]
  <4>   xe_file_close+0xd4/0x1a0 [xe]
  <4>   drm_file_free+0x210/0x280 [drm]
  <4>   drm_close_helper.isra.0+0x6d/0x80 [drm]
  <4>   drm_release_noglobal+0x20/0x90 [drm]

  (cherry picked from commit 4ca1fd418338d4d135428a0eb1e16e3b3ce17ee8)
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-57844
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/924d43bd10a1f6723ac5181a6e6cc2196ba98cdd
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/fe39b222a4139354d32ff9d46b88757f63f71d63
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:-:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:-:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc7:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc7:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.13:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.13:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.13:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.13:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.13:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.13:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.13:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.13:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.13:rc5:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.13:rc5:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-57844
    reference_type:
    reference_id: CVE-2024-57844
