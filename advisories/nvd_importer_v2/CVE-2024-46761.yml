advisory_id: CVE-2024-46761
datasource_id: nvd_importer_v2/CVE-2024-46761
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-46761
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  pci/hotplug/pnv_php: Fix hotplug driver crash on Powernv

  The hotplug driver for powerpc (pci/hotplug/pnv_php.c) causes a kernel
  crash when we try to hot-unplug/disable the PCIe switch/bridge from
  the PHB.

  The crash occurs because although the MSI data structure has been
  released during disable/hot-unplug path and it has been assigned
  with NULL, still during unregistration the code was again trying to
  explicitly disable the MSI which causes the NULL pointer dereference and
  kernel crash.

  The patch fixes the check during unregistration path to prevent invoking
  pci_disable_msi/msix() since its data structure is already freed.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-46761
weaknesses:
  - CWE-476
references:
  - url: https://git.kernel.org/stable/c/335e35b748527f0c06ded9eebb65387f60647fda
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/438d522227374042b5c8798f8ce83bbe479dca4d
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/4eb4085c1346d19d4a05c55246eb93e74e671048
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/b82d4d5c736f4fd2ed224c35f554f50d1953d21e
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/bc1faed19db95abf0933b104910a3fb01b138f59
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/bfc44075b19740d372f989f21dd03168bfda0689
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/c0d8094dc740cfacf3775bbc6a1c4720459e8de4
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/c4c681999d385e28f84808bbf3a85ea8e982da55
    reference_type:
    reference_id:
  - url: https://lists.debian.org/debian-lts-announce/2025/01/msg00001.html
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-46761
    reference_type:
    reference_id: CVE-2024-46761
