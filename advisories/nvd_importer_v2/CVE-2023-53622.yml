advisory_id: CVE-2023-53622
datasource_id: nvd_importer_v2/CVE-2023-53622
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-53622
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  gfs2: Fix possible data races in gfs2_show_options()

  Some fields such as gt_logd_secs of the struct gfs2_tune are accessed
  without holding the lock gt_spin in gfs2_show_options():

    val = sdp->sd_tune.gt_logd_secs;
    if (val != 30)
      seq_printf(s, ",commit=%d", val);

  And thus can cause data races when gfs2_show_options() and other functions
  such as gfs2_reconfigure() are concurrently executed:

    spin_lock(&gt->gt_spin);
    gt->gt_logd_secs = newargs->ar_commit;

  To fix these possible data races, the lock sdp->sd_tune.gt_spin is
  acquired before accessing the fields of gfs2_tune and released after these
  accesses.

  Further changes by Andreas:

  - Don't hold the spin lock over the seq_printf operations.
impacted_packages: []
severities:
  - score: '7.0'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2023-53622
weaknesses:
  - CWE-362
references:
  - url: https://git.kernel.org/stable/c/235a5ae73cea29109a3e06f100493f17857e6a93
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/42077d4de49e4d9c773c97c42d5383b4899a8f9d
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/6fa0a72cbbe45db4ed967a51f9e6f4e3afe61d20
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/7c5b2649f6a37d45bfb7abf34c9b71d08677139f
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/7e5bbeb7eb813bb2568e1d5d02587df943272e57
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/85e888150075cb221270b64bf772341fc6bd11d9
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/a4f71523ed2123d63b431cc0cea4e9f363a0f054
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/b4a7ab57effbed42624842f2ab2a49b177c21a47
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-53622
    reference_type:
    reference_id: CVE-2023-53622
