advisory_id: CVE-2023-53834
datasource_id: nvd_importer_v2/CVE-2023-53834
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-53834
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  iio: adc: ina2xx: avoid NULL pointer dereference on OF device match

  The affected lines were resulting in a NULL pointer dereference on our
  platform because the device tree contained the following list of
  compatible strings:

      power-sensor@40 {
          compatible = "ti,ina232", "ti,ina231";
          ...
      };

  Since the driver doesn't declare a compatible string "ti,ina232", the OF
  matching succeeds on "ti,ina231". But the I2C device ID info is
  populated via the first compatible string, cf. modalias population in
  of_i2c_get_board_info(). Since there is no "ina232" entry in the legacy
  I2C device ID table either, the struct i2c_device_id *id pointer in the
  probe function is NULL.

  Fix this by using the already populated type variable instead, which
  points to the proper driver data. Since the name is also wanted, add a
  generic one to the ina2xx_config table.
impacted_packages: []
severities: []
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/13f3ce53b65aa8b44cad7039d31e62c9ffd6c5d1
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/77b689cc27d489b75d33f1a368356d70eb0ce08c
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/a41e19cc0d6b6a445a4133170b90271e4a2553dc
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/a8e2ae6296d56478fb98ae7f739846ed121f154f
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-53834
    reference_type:
    reference_id: CVE-2023-53834
