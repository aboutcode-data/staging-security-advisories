advisory_id: CVE-2026-23147
datasource_id: nvd_importer_v2/CVE-2026-23147
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2026-23147
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  btrfs: zlib: fix the folio leak on S390 hardware acceleration

  [BUG]
  After commit aa60fe12b4f4 ("btrfs: zlib: refactor S390x HW acceleration
  buffer preparation"), we no longer release the folio of the page cache
  of folio returned by btrfs_compress_filemap_get_folio() for S390
  hardware acceleration path.

  [CAUSE]
  Before that commit, we call kumap_local() and folio_put() after handling
  each folio.

  Although the timing is not ideal (it release previous folio at the
  beginning of the loop, and rely on some extra cleanup out of the loop),
  it at least handles the folio release correctly.

  Meanwhile the refactored code is easier to read, it lacks the call to
  release the filemap folio.

  [FIX]
  Add the missing folio_put() for copy_data_into_buffer().
impacted_packages: []
severities: []
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/0d0f1314e8f86f5205f71f9e31e272a1d008e40b
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/e80617a5e1c246da2f112a1a072cdd535046adfe
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2026-23147
    reference_type:
    reference_id: CVE-2026-23147
