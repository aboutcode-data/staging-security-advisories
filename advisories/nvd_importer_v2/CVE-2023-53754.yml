advisory_id: CVE-2023-53754
datasource_id: nvd_importer_v2/CVE-2023-53754
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-53754
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  scsi: lpfc: Fix ioremap issues in lpfc_sli4_pci_mem_setup()

  When if_type equals zero and pci_resource_start(pdev, PCI_64BIT_BAR4)
  returns false, drbl_regs_memmap_p is not remapped. This passes a NULL
  pointer to iounmap(), which can trigger a WARN() on certain arches.

  When if_type equals six and pci_resource_start(pdev, PCI_64BIT_BAR4)
  returns true, drbl_regs_memmap_p may has been remapped and
  ctrl_regs_memmap_p is not remapped. This is a resource leak and passes a
  NULL pointer to iounmap().

  To fix these issues, we need to add null checks before iounmap(), and
  change some goto labels.
impacted_packages: []
severities: []
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/631d0fab143bef85ea0813596f1dda36e2b9724c
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/74d90f92eafe8ccd12827228236a28a94eda6bcc
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/7e5a54d1f00725a739dcd20f616d82eff4f764bd
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/91a0c0c1413239d0548b5aac4c82f38f6d53a91e
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/bab8dc38b1a0a12bc064fc064269033bdcf5b88e
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/e6f1ef4a53856ed000b0f7265d7e16dcb00f4243
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/fd8c83d8375b9dac1949f2753485a5c055ebfad0
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-53754
    reference_type:
    reference_id: CVE-2023-53754
