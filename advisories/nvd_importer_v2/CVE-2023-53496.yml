advisory_id: CVE-2023-53496
datasource_id: nvd_importer_v2/CVE-2023-53496
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-53496
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  x86/platform/uv: Use alternate source for socket to node data

  The UV code attempts to build a set of tables to allow it to do
  bidirectional socket<=>node lookups.

  But when nr_cpus is set to a smaller number than actually present, the
  cpu_to_node() mapping information for unused CPUs is not available to
  build_socket_tables(). This results in skipping some nodes or sockets
  when creating the tables and leaving some -1's for later code to trip.
  over, causing oopses.

  The problem is that the socket<=>node lookups are created by doing a
  loop over all CPUs, then looking up the CPU's APICID and socket. But
  if a CPU is not present, there is no way to start this lookup.

  Instead of looping over all CPUs, take CPUs out of the equation
  entirely. Loop over all APICIDs which are mapped to a valid NUMA node.
  Then just extract the socket-id from the APICID.

  This avoid tripping over disabled CPUs.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2023-53496
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/0d01a0c3046d1545391ef7bb1f114743d00e3793
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/5290e88ba2c742ca77c5f5b690e5af549cfd8591
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.6:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.6:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-53496
    reference_type:
    reference_id: CVE-2023-53496
