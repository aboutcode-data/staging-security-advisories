advisory_id: CVE-2024-27006
datasource_id: nvd_importer_v2/CVE-2024-27006
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-27006
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  thermal/debugfs: Add missing count increment to thermal_debug_tz_trip_up()

  The count field in struct trip_stats, representing the number of times
  the zone temperature was above the trip point, needs to be incremented
  in thermal_debug_tz_trip_up(), for two reasons.

  First, if a trip point is crossed on the way up for the first time,
  thermal_debug_update_temp() called from update_temperature() does
  not see it because it has not been added to trips_crossed[] array
  in the thermal zone's struct tz_debugfs object yet.  Therefore, when
  thermal_debug_tz_trip_up() is called after that, the trip point's
  count value is 0, and the attempt to divide by it during the average
  temperature computation leads to a divide error which causes the kernel
  to crash.  Setting the count to 1 before the division by incrementing it
  fixes this problem.

  Second, if a trip point is crossed on the way up, but it has been
  crossed on the way up already before, its count value needs to be
  incremented to make a record of the fact that the zone temperature is
  above the trip now.  Without doing that, if the mitigations applied
  after crossing the trip cause the zone temperature to drop below its
  threshold, the count will not be updated for this episode at all and
  the average temperature in the trip statistics record will be somewhat
  higher than it should be.

  Cc :6.8+ <stable@vger.kernel.org> # 6.8+
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-27006
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/9c8215d32e730b597c809a9d2090bf8ec1b79fcf
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/b552f63cd43735048bbe9bfbb7a9dcfce166fbdd
    reference_type:
    reference_id:
  - url: https://lists.fedoraproject.org/archives/list/package-announce@lists.fedoraproject.org/message/4EZ6PJW7VOZ224TD7N4JZNU6KV32ZJ53/
    reference_type:
    reference_id:
  - url: https://lists.fedoraproject.org/archives/list/package-announce@lists.fedoraproject.org/message/DAMSOZXJEPUOXW33WZYWCVAY7Z5S7OOY/
    reference_type:
    reference_id:
  - url: https://lists.fedoraproject.org/archives/list/package-announce@lists.fedoraproject.org/message/GCBZZEC7L7KTWWAS2NLJK6SO3IZIL4WW/
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.9:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.9:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.9:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.9:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.9:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.9:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.9:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.9:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-27006
    reference_type:
    reference_id: CVE-2024-27006
