advisory_id: CVE-2024-50298
datasource_id: nvd_importer_v2/CVE-2024-50298
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-50298
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  net: enetc: allocate vf_state during PF probes

  In the previous implementation, vf_state is allocated memory only when VF
  is enabled. However, net_device_ops::ndo_set_vf_mac() may be called before
  VF is enabled to configure the MAC address of VF. If this is the case,
  enetc_pf_set_vf_mac() will access vf_state, resulting in access to a null
  pointer. The simplified error log is as follows.

  root@ls1028ardb:~# ip link set eno0 vf 1 mac 00:0c:e7:66:77:89
  [  173.543315] Unable to handle kernel NULL pointer dereference at virtual address 0000000000000004
  [  173.637254] pc : enetc_pf_set_vf_mac+0x3c/0x80 Message from sy
  [  173.641973] lr : do_setlink+0x4a8/0xec8
  [  173.732292] Call trace:
  [  173.734740]  enetc_pf_set_vf_mac+0x3c/0x80
  [  173.738847]  __rtnl_newlink+0x530/0x89c
  [  173.742692]  rtnl_newlink+0x50/0x7c
  [  173.746189]  rtnetlink_rcv_msg+0x128/0x390
  [  173.750298]  netlink_rcv_skb+0x60/0x130
  [  173.754145]  rtnetlink_rcv+0x18/0x24
  [  173.757731]  netlink_unicast+0x318/0x380
  [  173.761665]  netlink_sendmsg+0x17c/0x3c8
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-50298
weaknesses:
  - CWE-476
references:
  - url: https://git.kernel.org/stable/c/7eb923f8d4819737c07d6a8d0daef0a4d7f99e0c
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/e15c5506dd39885cd047f811a64240e2e8ab401b
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/ef0edfbe9eeed1fccad7cb705648af5222664944
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc5:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc5:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc6:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc6:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-50298
    reference_type:
    reference_id: CVE-2024-50298
