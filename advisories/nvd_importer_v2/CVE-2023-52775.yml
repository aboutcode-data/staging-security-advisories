advisory_id: CVE-2023-52775
datasource_id: nvd_importer_v2/CVE-2023-52775
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-52775
aliases: []
summary: "In the Linux kernel, the following vulnerability has been resolved:\n\nnet/smc: avoid\
  \ data corruption caused by decline\n\nWe found a data corruption issue during testing of\
  \ SMC-R on Redis\napplications.\n\nThe benchmark has a low probability of reporting a strange\
  \ error as\nshown below.\n\n\"Error: Protocol error, got \"\\xe2\" as reply type byte\"\n\n\
  Finally, we found that the retrieved error data was as follows:\n\n0xE2 0xD4 0xC3 0xD9 0x04\
  \ 0x00 0x2C 0x20 0xA6 0x56 0x00 0x16 0x3E 0x0C\n0xCB 0x04 0x02 0x01 0x00 0x00 0x20 0x00 0x00\
  \ 0x00 0x00 0x00 0x00 0x00\n0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0xE2\n\nIt is\
  \ quite obvious that this is a SMC DECLINE message, which means that\nthe applications received\
  \ SMC protocol message.\nWe found that this was caused by the following situations:\n\nclient\
  \                  server\n        ¦  clc proposal\n        ------------->\n        ¦  clc\
  \ accept\n        <-------------\n        ¦  clc confirm\n        ------------->\nwait llc\
  \ confirm\n\t\t\tsend llc confirm\n        ¦failed llc confirm\n        ¦   x------\n(after\
  \ 2s)timeout\n                        wait llc confirm rsp\n\nwait decline\n\n(after 1s) timeout\n\
  \                        (after 2s) timeout\n        ¦   decline\n        -------------->\n\
  \        ¦   decline\n        <--------------\n\nAs a result, a decline message was sent in\
  \ the implementation, and this\nmessage was read from TCP by the already-fallback connection.\n\
  \nThis patch double the client timeout as 2x of the server value,\nWith this simple change,\
  \ the Decline messages should never cross or\ncollide (during Confirm link timeout).\n\nThis\
  \ issue requires an immediate solution, since the protocol updates\ninvolve a more long-term\
  \ solution."
impacted_packages: []
severities:
  - score: '7.8'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2023-52775
weaknesses:
  - CWE-787
references:
  - url: https://git.kernel.org/stable/c/5ada292b5c504720a0acef8cae9acc62a694d19c
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/7234d2b5dffa5af77fd4e0deaebab509e130c6b1
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/90072af9efe8c7bd7d086709014ddd44cebd5e7c
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/94a0ae698b4d5d5bb598e23228002a1491c50add
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/e6d71b437abc2f249e3b6a1ae1a7228e09c6e563
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.7:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.7:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.7:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.7:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-52775
    reference_type:
    reference_id: CVE-2023-52775
