advisory_id: CVE-2022-50721
datasource_id: nvd_importer_v2/CVE-2022-50721
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2022-50721
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  dmaengine: qcom-adm: fix wrong calling convention for prep_slave_sg

  The calling convention for pre_slave_sg is to return NULL on error and
  provide an error log to the system. Qcom-adm instead provide error
  pointer when an error occur. This indirectly cause kernel panic for
  example for the nandc driver that checks only if the pointer returned by
  device_prep_slave_sg is not NULL. Returning an error pointer makes nandc
  think the device_prep_slave_sg function correctly completed and makes
  the kernel panics later in the code.

  While nandc is the one that makes the kernel crash, it was pointed out
  that the real problem is qcom-adm not following calling convention for
  that function.

  To fix this, drop returning error pointer and return NULL with an error
  log.
impacted_packages: []
severities: []
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/5653bd0200944e5803fa8e32dc36aa49931312f9
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/9a041174c58a226e713f6cebd41eccec7a5cfa72
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/b9d2140c3badf4107973ad77c5a0ec3075705c85
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2022-50721
    reference_type:
    reference_id: CVE-2022-50721
