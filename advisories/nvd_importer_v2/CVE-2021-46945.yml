advisory_id: CVE-2021-46945
datasource_id: nvd_importer_v2/CVE-2021-46945
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2021-46945
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  ext4: always panic when errors=panic is specified

  Before commit 014c9caa29d3 ("ext4: make ext4_abort() use
  __ext4_error()"), the following series of commands would trigger a
  panic:

  1. mount /dev/sda -o ro,errors=panic test
  2. mount /dev/sda -o remount,abort test

  After commit 014c9caa29d3, remounting a file system using the test
  mount option "abort" will no longer trigger a panic.  This commit will
  restore the behaviour immediately before commit 014c9caa29d3.
  (However, note that the Linux kernel's behavior has not been
  consistent; some previous kernel versions, including 5.4 and 4.19
  similarly did not panic after using the mount option "abort".)

  This also makes a change to long-standing behaviour; namely, the
  following series commands will now cause a panic, when previously it
  did not:

  1. mount /dev/sda -o ro,errors=panic test
  2. echo test > /sys/fs/ext4/sda/trigger_fs_error

  However, this makes ext4's behaviour much more consistent, so this is
  a good thing.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2021-46945
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/1e9ea8f4637026b8e965128953f2da061ccae9c4
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/64e1eebe2131183174f4fbb6b1491355f96c6cde
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/ac2f7ca51b0929461ea49918f27c11b680f28995
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2021-46945
    reference_type:
    reference_id: CVE-2021-46945
