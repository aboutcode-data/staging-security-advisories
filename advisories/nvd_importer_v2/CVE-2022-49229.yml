advisory_id: CVE-2022-49229
datasource_id: nvd_importer_v2/CVE-2022-49229
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2022-49229
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  ptp: unregister virtual clocks when unregistering physical clock.

  When unregistering a physical clock which has some virtual clocks,
  unregister the virtual clocks with it.

  This fixes the following oops, which can be triggered by unloading
  a driver providing a PTP clock when it has enabled virtual clocks:

  BUG: unable to handle page fault for address: ffffffffc04fc4d8
  Oops: 0000 [#1] PREEMPT SMP NOPTI
  RIP: 0010:ptp_vclock_read+0x31/0xb0
  Call Trace:
   timecounter_read+0xf/0x50
   ptp_vclock_refresh+0x2c/0x50
   ? ptp_clock_release+0x40/0x40
   ptp_aux_kworker+0x17/0x30
   kthread_worker_fn+0x9b/0x240
   ? kthread_should_park+0x30/0x30
   kthread+0xe2/0x110
   ? kthread_complete_and_exit+0x20/0x20
   ret_from_fork+0x22/0x30
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2022-49229
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/9c796a57cbb5daf124a665689f0b2bc9262e0ced
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/b2dea2a696d09163da4cd33cb598ce1f73e86597
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/bfcbb76b0f595ea9ede9f7a218086fef85242f10
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/c49eafe6249f844c26f9866886cc6719d81762df
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.14:-:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.14:-:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.14:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.14:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.14:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.14:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.14:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.14:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.14:rc5:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.14:rc5:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.14:rc6:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.14:rc6:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.14:rc7:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.14:rc7:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2022-49229
    reference_type:
    reference_id: CVE-2022-49229
