advisory_id: CVE-2023-53596
datasource_id: nvd_importer_v2/CVE-2023-53596
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-53596
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  drivers: base: Free devm resources when unregistering a device

  In the current code, devres_release_all() only gets called if the device
  has a bus and has been probed.

  This leads to issues when using bus-less or driver-less devices where
  the device might never get freed if a managed resource holds a reference
  to the device. This is happening in the DRM framework for example.

  We should thus call devres_release_all() in the device_del() function to
  make sure that the device-managed actions are properly executed when the
  device is unregistered, even if it has neither a bus nor a driver.

  This is effectively the same change than commit 2f8d16a996da ("devres:
  release resources on device_del()") that got reverted by commit
  a525a3ddeaca ("driver core: free devres in device_release") over
  memory leaks concerns.

  This patch effectively combines the two commits mentioned above to
  release the resources both on device_del() and device_release() and get
  the best of both worlds.
impacted_packages: []
severities:
  - score: '7.8'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2023-53596
weaknesses:
  - CWE-415
references:
  - url: https://git.kernel.org/stable/c/297992e5c63528e603666e36081836204fc36ec9
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/3bcc4c2a096e8342c8c719e595ce15de212694dd
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/699fb50d99039a50e7494de644f96c889279aca3
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/c8c426fae26086a0ca8ab6cc6da2de79810ec038
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-53596
    reference_type:
    reference_id: CVE-2023-53596
