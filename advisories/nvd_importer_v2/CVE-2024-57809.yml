advisory_id: CVE-2024-57809
datasource_id: nvd_importer_v2/CVE-2024-57809
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-57809
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  PCI: imx6: Fix suspend/resume support on i.MX6QDL

  The suspend/resume functionality is currently broken on the i.MX6QDL
  platform, as documented in the NXP errata (ERR005723):

    https://www.nxp.com/docs/en/errata/IMX6DQCE.pdf

  This patch addresses the issue by sharing most of the suspend/resume
  sequences used by other i.MX devices, while avoiding modifications to
  critical registers that disrupt the PCIe functionality. It targets the
  same problem as the following downstream commit:

    https://github.com/nxp-imx/linux-imx/commit/4e92355e1f79d225ea842511fcfd42b343b32995

  Unlike the downstream commit, this patch also resets the connected PCIe
  device if possible. Without this reset, certain drivers, such as ath10k
  or iwlwifi, will crash on resume. The device reset is also done by the
  driver on other i.MX platforms, making this patch consistent with
  existing practices.

  Upon resuming, the kernel will hang and display an error. Here's an
  example of the error encountered with the ath10k driver:

    ath10k_pci 0000:01:00.0: Unable to change power state from D3hot to D0, device inaccessible
    Unhandled fault: imprecise external abort (0x1406) at 0x0106f944

  Without this patch, suspend/resume will fail on i.MX6QDL devices if a
  PCIe device is connected.

  [kwilczynski: commit log, added tag for stable releases]
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-57809
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/0a726f542d7c8cc0f9c5ed7df5a4bd4b59ac21b3
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/ac43ea3d27a8f9beadf3af66c9ea4a566ebfff1f
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-57809
    reference_type:
    reference_id: CVE-2024-57809
