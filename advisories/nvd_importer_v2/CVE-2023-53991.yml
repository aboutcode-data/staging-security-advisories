advisory_id: CVE-2023-53991
datasource_id: nvd_importer_v2/CVE-2023-53991
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-53991
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  drm/msm/dpu: Disallow unallocated resources to be returned

  In the event that the topology requests resources that have not been
  created by the system (because they are typically not represented in
  dpu_mdss_cfg ^1), the resource(s) in global_state (in this case DSC
  blocks, until their allocation/assignment is being sanity-checked in
  "drm/msm/dpu: Reject topologies for which no DSC blocks are available")
  remain NULL but will still be returned out of
  dpu_rm_get_assigned_resources, where the caller expects to get an array
  containing num_blks valid pointers (but instead gets these NULLs).

  To prevent this from happening, where null-pointer dereferences
  typically result in a hard-to-debug platform lockup, num_blks shouldn't
  increase past NULL blocks and will print an error and break instead.
  After all, max_blks represents the static size of the maximum number of
  blocks whereas the actual amount varies per platform.

  ^1: which can happen after a git rebase ended up moving additions to
  _dpu_cfg to a different struct which has the same patch context.

  Patchwork: https://patchwork.freedesktop.org/patch/517636/
impacted_packages: []
severities: []
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/8dbd54d679e3ab37be43bc1ed9f463dbf83a2259
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/9e1e236acdc42b5c43ec8d7f03a39537e70cc309
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/9fe3644c720ac87d150f0bba5a4ae86cae55afaf
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/abc40122d9a69f56c04efb5a7485795f5ac799d1
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/bf661c5e3bc48973acb363c76e3db965d9ed26d0
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-53991
    reference_type:
    reference_id: CVE-2023-53991
