advisory_id: CVE-2024-26761
datasource_id: nvd_importer_v2/CVE-2024-26761
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-26761
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  cxl/pci: Fix disabling memory if DVSEC CXL Range does not match a CFMWS window

  The Linux CXL subsystem is built on the assumption that HPA == SPA.
  That is, the host physical address (HPA) the HDM decoder registers are
  programmed with are system physical addresses (SPA).

  During HDM decoder setup, the DVSEC CXL range registers (cxl-3.1,
  8.1.3.8) are checked if the memory is enabled and the CXL range is in
  a HPA window that is described in a CFMWS structure of the CXL host
  bridge (cxl-3.1, 9.18.1.3).

  Now, if the HPA is not an SPA, the CXL range does not match a CFMWS
  window and the CXL memory range will be disabled then. The HDM decoder
  stops working which causes system memory being disabled and further a
  system hang during HDM decoder initialization, typically when a CXL
  enabled kernel boots.

  Prevent a system hang and do not disable the HDM decoder if the
  decoder's CXL range is not found in a CFMWS window.

  Note the change only fixes a hardware hang, but does not implement
  HPA/SPA translation. Support for this can be added in a follow on
  patch series.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-26761
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/031217128990d7f0ab8c46db1afb3cf1e075fd29
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/0cab687205986491302cd2e440ef1d253031c221
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/2cc1a530ab31c65b52daf3cb5d0883c8b614ea69
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/3a3181a71935774bda2398451256d7441426420b
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.8:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.8:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.8:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.8:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.8:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.8:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.8:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.8:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.8:rc5:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.8:rc5:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-26761
    reference_type:
    reference_id: CVE-2024-26761
