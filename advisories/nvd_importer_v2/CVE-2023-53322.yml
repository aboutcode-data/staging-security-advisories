advisory_id: CVE-2023-53322
datasource_id: nvd_importer_v2/CVE-2023-53322
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-53322
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  scsi: qla2xxx: Wait for io return on terminate rport

  System crash due to use after free.
  Current code allows terminate_rport_io to exit before making
  sure all IOs has returned. For FCP-2 device, IO's can hang
  on in HW because driver has not tear down the session in FW at
  first sign of cable pull. When dev_loss_tmo timer pops,
  terminate_rport_io is called and upper layer is about to
  free various resources. Terminate_rport_io trigger qla to do
  the final cleanup, but the cleanup might not be fast enough where it
  leave qla still holding on to the same resource.

  Wait for IO's to return to upper layer before resources are freed.
impacted_packages: []
severities:
  - score: '7.8'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2023-53322
weaknesses:
  - CWE-416
references:
  - url: https://git.kernel.org/stable/c/079c8264ed9fea8cbcac01ad29040f901cbc3692
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/4647d2e88918a078359d1532d90c417a38542c9e
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/5bcdaafd92be6035ddc77fa76650cf9dd5b864c4
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/8a55556cd7e0220486163b1285ce11a8be2ce5fa
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/90770dad1eb30967ebd8d37d82830bcf270b3293
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/a9fe97fb7b4ee21bffb76f2acb05769bad27ae70
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/d25fded78d88e1515439b3ba581684d683e0b6ab
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/fc0cba0c7be8261a1625098bd1d695077ec621c9
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-53322
    reference_type:
    reference_id: CVE-2023-53322
