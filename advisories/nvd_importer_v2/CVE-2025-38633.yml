advisory_id: CVE-2025-38633
datasource_id: nvd_importer_v2/CVE-2025-38633
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2025-38633
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  clk: spacemit: mark K1 pll1_d8 as critical

  The pll1_d8 clock is enabled by the boot loader, and is ultimately a
  parent for numerous clocks, including those used by APB and AXI buses.
  Guodong Xu discovered that this clock got disabled while responding to
  getting -EPROBE_DEFER when requesting a reset controller.

  The needed clock (CLK_DMA, along with its parents) had already been
  enabled.  To respond to the probe deferral return, the CLK_DMA clock
  was disabled, and this led to parent clocks also reducing their enable
  count.  When the enable count for pll1_d8 was decremented it became 0,
  which caused it to be disabled.  This led to a system hang.

  Marking that clock critical resolves this by preventing it from being
  disabled.

  Define a new macro CCU_FACTOR_GATE_DEFINE() to allow clock flags to
  be supplied for a CCU_FACTOR_GATE clock.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2025-38633
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/10948c00e548e9ad2ce9d765baf26dce2d9b806b
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/7554729de27daf6d54bcf8689d863bbe267828bf
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.16:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.16:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2025-38633
    reference_type:
    reference_id: CVE-2025-38633
