advisory_id: CVE-2023-53530
datasource_id: nvd_importer_v2/CVE-2023-53530
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-53530
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  scsi: qla2xxx: Use raw_smp_processor_id() instead of smp_processor_id()

  The following call trace was observed:

  localhost kernel: nvme nvme0: NVME-FC{0}: controller connect complete
  localhost kernel: BUG: using smp_processor_id() in preemptible [00000000] code: kworker/u129:4/75092
  localhost kernel: nvme nvme0: NVME-FC{0}: new ctrl: NQN "nqn.1992-08.com.netapp:sn.b42d198afb4d11ecad6d00a098d6abfa:subsystem.PR_Channel2022_RH84_subsystem_291"
  localhost kernel: caller is qla_nvme_post_cmd+0x216/0x1380 [qla2xxx]
  localhost kernel: CPU: 6 PID: 75092 Comm: kworker/u129:4 Kdump: loaded Tainted: G    B   W  OE    --------- ---  5.14.0-70.22.1.el9_0.x86_64+debug #1
  localhost kernel: Hardware name: HPE ProLiant XL420 Gen10/ProLiant XL420 Gen10, BIOS U39 01/13/2022
  localhost kernel: Workqueue: nvme-wq nvme_async_event_work [nvme_core]
  localhost kernel: Call Trace:
  localhost kernel: dump_stack_lvl+0x57/0x7d
  localhost kernel: check_preemption_disabled+0xc8/0xd0
  localhost kernel: qla_nvme_post_cmd+0x216/0x1380 [qla2xxx]

  Use raw_smp_processor_id() instead of smp_processor_id().

  Also use queue_work() across the driver instead of queue_work_on() thus
  avoiding usage of smp_processor_id() when CONFIG_DEBUG_PREEMPT is enabled.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2023-53530
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/1a541999f31fcb10ea50eba2a563e6c451fd5c7d
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/25bd0c7def04a272f8e89b36971712fe29c6e438
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/52c7b41ad6ee53222f4ee2f0c099a6ed8291a168
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/59f10a05b5c7b675256a66e3161741239889ff80
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.6:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.6:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-53530
    reference_type:
    reference_id: CVE-2023-53530
