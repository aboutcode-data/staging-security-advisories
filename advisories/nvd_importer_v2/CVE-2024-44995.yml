advisory_id: CVE-2024-44995
datasource_id: nvd_importer_v2/CVE-2024-44995
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-44995
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  net: hns3: fix a deadlock problem when config TC during resetting

  When config TC during the reset process, may cause a deadlock, the flow is
  as below:
                               pf reset start
                                   │
                                   ▼
                                ......
  setup tc                         │
      │                            ▼
      ▼                      DOWN: napi_disable()
  napi_disable()(skip)             │
      │                            │
      ▼                            ▼
    ......                      ......
      │                            │
      ▼                            │
  napi_enable()                    │
                                   ▼
                             UINIT: netif_napi_del()
                                   │
                                   ▼
                                ......
                                   │
                                   ▼
                             INIT: netif_napi_add()
                                   │
                                   ▼
                                ......                 global reset start
                                   │                      │
                                   ▼                      ▼
                             UP: napi_enable()(skip)    ......
                                   │                      │
                                   ▼                      ▼
                                ......                 napi_disable()

  In reset process, the driver will DOWN the port and then UINIT, in this
  case, the setup tc process will UP the port before UINIT, so cause the
  problem. Adds a DOWN process in UINIT to fix it.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-44995
weaknesses:
  - CWE-667
references:
  - url: https://git.kernel.org/stable/c/195918217448a6bb7f929d6a2ffffce9f1ece1cc
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/67492d4d105c0a6321b00c393eec96b9a7a97a16
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/6ae2b7d63cd056f363045eb65409143e16f23ae8
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/be5e816d00a506719e9dbb1a9c861c5ced30a109
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/de37408d5c26fc4a296a28a0c96dcb814219bfa1
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/fa1d4de7265c370e673583ac8d1bd17d21826cd9
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/fc250eca15bde34c4c8f806b9d88f55bd56a992c
    reference_type:
    reference_id:
  - url: https://lists.debian.org/debian-lts-announce/2024/10/msg00003.html
    reference_type:
    reference_id:
  - url: https://lists.debian.org/debian-lts-announce/2025/01/msg00001.html
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.11:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.11:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.11:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.11:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.11:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.11:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-44995
    reference_type:
    reference_id: CVE-2024-44995
