advisory_id: CVE-2023-54311
datasource_id: nvd_importer_v2/CVE-2023-54311
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-54311
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  ext4: fix deadlock when converting an inline directory in nojournal mode

  In no journal mode, ext4_finish_convert_inline_dir() can self-deadlock
  by calling ext4_handle_dirty_dirblock() when it already has taken the
  directory lock.  There is a similar self-deadlock in
  ext4_incvert_inline_data_nolock() for data files which we'll fix at
  the same time.

  A simple reproducer demonstrating the problem:

      mke2fs -Fq -t ext2 -O inline_data -b 4k /dev/vdc 64
      mount -t ext4 -o dirsync /dev/vdc /vdc
      cd /vdc
      mkdir file0
      cd file0
      touch file0
      touch file1
      attr -s BurnSpaceInEA -V abcde .
      touch supercalifragilisticexpialidocious
impacted_packages: []
severities: []
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/0b1c4357bb21d9770451a1bdb8d419ea10bada88
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/5f8b55136ad787aed2c184f7cb3e93772ae637a3
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/640c8c365999c6f23447ac766437236ad88317c5
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/665cc3ba50330049524c1d275bc840a8f28dde73
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/804de0c72cd473e186ca4e1f6287d45431b14e5a
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/b4fa4768c9acff77245d672d855d2c88294850b1
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/f4ce24f54d9cca4f09a395f3eecce20d6bec4663
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-54311
    reference_type:
    reference_id: CVE-2023-54311
