advisory_id: CVE-2025-23162
datasource_id: nvd_importer_v2/CVE-2025-23162
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2025-23162
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  drm/xe/vf: Don't try to trigger a full GT reset if VF

  VFs don't have access to the GDRST(0x941c) register that driver
  uses to reset a GT. Attempt to trigger a reset using debugfs:

   $ cat /sys/kernel/debug/dri/0000:00:02.1/gt0/force_reset

  or due to a hang condition detected by the driver leads to:

   [ ] xe 0000:00:02.1: [drm] GT0: trying reset from force_reset [xe]
   [ ] xe 0000:00:02.1: [drm] GT0: reset queued
   [ ] xe 0000:00:02.1: [drm] GT0: reset started
   [ ] ------------[ cut here ]------------
   [ ] xe 0000:00:02.1: [drm] GT0: VF is trying to write 0x1 to an inaccessible register 0x941c+0x0
   [ ] WARNING: CPU: 3 PID: 3069 at drivers/gpu/drm/xe/xe_gt_sriov_vf.c:996 xe_gt_sriov_vf_write32+0xc6/0x580 [xe]
   [ ] RIP: 0010:xe_gt_sriov_vf_write32+0xc6/0x580 [xe]
   [ ] Call Trace:
   [ ]  <TASK>
   [ ]  ? show_regs+0x6c/0x80
   [ ]  ? __warn+0x93/0x1c0
   [ ]  ? xe_gt_sriov_vf_write32+0xc6/0x580 [xe]
   [ ]  ? report_bug+0x182/0x1b0
   [ ]  ? handle_bug+0x6e/0xb0
   [ ]  ? exc_invalid_op+0x18/0x80
   [ ]  ? asm_exc_invalid_op+0x1b/0x20
   [ ]  ? xe_gt_sriov_vf_write32+0xc6/0x580 [xe]
   [ ]  ? xe_gt_sriov_vf_write32+0xc6/0x580 [xe]
   [ ]  ? xe_gt_tlb_invalidation_reset+0xef/0x110 [xe]
   [ ]  ? __mutex_unlock_slowpath+0x41/0x2e0
   [ ]  xe_mmio_write32+0x64/0x150 [xe]
   [ ]  do_gt_reset+0x2f/0xa0 [xe]
   [ ]  gt_reset_worker+0x14e/0x1e0 [xe]
   [ ]  process_one_work+0x21c/0x740
   [ ]  worker_thread+0x1db/0x3c0

  Fix that by sending H2G VF_RESET(0x5507) action instead.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2025-23162
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/2eec2fa8666dcecebae33a565a818c9de9af8b50
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/459777724d306315070d24608fcd89aea85516d6
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/90b16edb3213e4ae4a3138bb20703ae367e88a01
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/a9bc61a61372897886f58fdaa5582e3f7bf9a50b
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2025-23162
    reference_type:
    reference_id: CVE-2025-23162
