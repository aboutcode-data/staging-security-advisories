advisory_id: CVE-2021-47453
datasource_id: nvd_importer_v2/CVE-2021-47453
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2021-47453
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  ice: Avoid crash from unnecessary IDA free

  In the remove path, there is an attempt to free the aux_idx IDA whether
  it was allocated or not.  This can potentially cause a crash when
  unloading the driver on systems that do not initialize support for RDMA.
  But, this free cannot be gated by the status bit for RDMA, since it is
  allocated if the driver detects support for RDMA at probe time, but the
  driver can enter into a state where RDMA is not supported after the IDA
  has been allocated at probe time and this would lead to a memory leak.

  Initialize aux_idx to an invalid value and check for a valid value when
  unloading to determine if an IDA free is necessary.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2021-47453
weaknesses:
  - CWE-401
references:
  - url: https://git.kernel.org/stable/c/73e30a62b19b9fbb4e6a3465c59da186630d5f2e
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/777682e59840e24e6c5672197e6ffbcf4bff823b
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.15:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.15:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.15:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.15:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.15:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.15:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.15:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.15:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.15:rc5:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.15:rc5:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.15:rc6:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.15:rc6:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2021-47453
    reference_type:
    reference_id: CVE-2021-47453
