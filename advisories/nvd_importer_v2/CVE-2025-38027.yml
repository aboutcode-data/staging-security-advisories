advisory_id: CVE-2025-38027
datasource_id: nvd_importer_v2/CVE-2025-38027
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2025-38027
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  regulator: max20086: fix invalid memory access

  max20086_parse_regulators_dt() calls of_regulator_match() using an
  array of struct of_regulator_match allocated on the stack for the
  matches argument.

  of_regulator_match() calls devm_of_regulator_put_matches(), which calls
  devres_alloc() to allocate a struct devm_of_regulator_matches which will
  be de-allocated using devm_of_regulator_put_matches().

  struct devm_of_regulator_matches is populated with the stack allocated
  matches array.

  If the device fails to probe, devm_of_regulator_put_matches() will be
  called and will try to call of_node_put() on that stack pointer,
  generating the following dmesg entries:

  max20086 6-0028: Failed to read DEVICE_ID reg: -121
  kobject: '\xc0$\xa5\x03' (000000002cebcb7a): is not initialized, yet
  kobject_put() is being called.

  Followed by a stack trace matching the call flow described above.

  Switch to allocating the matches array using devm_kcalloc() to
  avoid accessing the stack pointer long after it's out of scope.

  This also has the advantage of allowing multiple max20086 to probe
  without overriding the data stored inside the global of_regulator_match.
impacted_packages: []
severities:
  - score: '7.1'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2025-38027
weaknesses:
  - CWE-125
references:
  - url: https://git.kernel.org/stable/c/5578ab04bd7732f470fc614bbc0a924900399fb8
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/6b0cd72757c69bc2d45da42b41023e288d02e772
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/6ba30f7aa2c550b2ac04f16b81a19a8c045b8660
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/7bddac8603d4e396872c2fbf4403ec08e7b1d7c8
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/d2a9a92bb4cc7568cff68241b0051dc7268bdc68
    reference_type:
    reference_id:
  - url: https://lists.debian.org/debian-lts-announce/2025/08/msg00010.html
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:debian:debian_linux:11.0:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:debian:debian_linux:11.0:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.15:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.15:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.15:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.15:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.15:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.15:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.15:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.15:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.15:rc5:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.15:rc5:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.15:rc6:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.15:rc6:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2025-38027
    reference_type:
    reference_id: CVE-2025-38027
