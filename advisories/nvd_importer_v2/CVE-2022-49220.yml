advisory_id: CVE-2022-49220
datasource_id: nvd_importer_v2/CVE-2022-49220
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2022-49220
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  dax: make sure inodes are flushed before destroy cache

  A bug can be triggered by following command

  $ modprobe nd_pmem && modprobe -r nd_pmem

  [   10.060014] BUG dax_cache (Not tainted): Objects remaining in dax_cache on __kmem_cache_shutdown()
  [   10.060938] Slab 0x0000000085b729ac objects=9 used=1 fp=0x000000004f5ae469 flags=0x200000000010200(slab|head|node)
  [   10.062433] Call Trace:
  [   10.062673]  dump_stack_lvl+0x34/0x44
  [   10.062865]  slab_err+0x90/0xd0
  [   10.063619]  __kmem_cache_shutdown+0x13b/0x2f0
  [   10.063848]  kmem_cache_destroy+0x4a/0x110
  [   10.064058]  __x64_sys_delete_module+0x265/0x300

  This is caused by dax_fs_exit() not flushing inodes before destroy cache.
  To fix this issue, call rcu_barrier() before destroy cache.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2022-49220
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/770d42fff12d8595adda9025a0b92091f543e775
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/a7e8de822e0b1979f08767c751f6c8a9c1d4ad86
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/b786abe7c67c6ef71410c8e23292b3091d616ad1
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/e2951eaa9398415ac054b7bd80b8163b6838ead4
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/ec376f5c11c88c0215d173599db8449cd4196759
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/f2a1e0eb70c2d954176c07d75d28742bde30e9f3
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2022-49220
    reference_type:
    reference_id: CVE-2022-49220
