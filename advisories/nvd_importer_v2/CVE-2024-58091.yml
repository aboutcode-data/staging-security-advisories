advisory_id: CVE-2024-58091
datasource_id: nvd_importer_v2/CVE-2024-58091
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-58091
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  drm/fbdev-dma: Add shadow buffering for deferred I/O

  DMA areas are not necessarily backed by struct page, so we cannot
  rely on it for deferred I/O. Allocate a shadow buffer for drivers
  that require deferred I/O and use it as framebuffer memory.

  Fixes driver errors about being "Unable to handle kernel NULL pointer
  dereference at virtual address" or "Unable to handle kernel paging
  request at virtual address".

  The patch splits drm_fbdev_dma_driver_fbdev_probe() in an initial
  allocation, which creates the DMA-backed buffer object, and a tail
  that sets up the fbdev data structures. There is a tail function for
  direct memory mappings and a tail function for deferred I/O with
  the shadow buffer.

  It is no longer possible to use deferred I/O without shadow buffer.
  It can be re-added if there exists a reliably test for usable struct
  page in the allocated DMA-backed buffer object.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-58091
weaknesses:
  - CWE-476
references:
  - url: https://git.kernel.org/stable/c/0d087de947babf7ed70029d042abcc6ed06ff415
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/3603996432997f7c88da37a97062a46cda01ac9d
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/cdc581169942de3b9e2648cfbd98c5ff9111c2c8
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.14:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.14:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.14:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.14:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.14:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.14:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.14:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.14:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-58091
    reference_type:
    reference_id: CVE-2024-58091
