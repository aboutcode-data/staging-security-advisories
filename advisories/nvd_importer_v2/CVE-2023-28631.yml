advisory_id: CVE-2023-28631
datasource_id: nvd_importer_v2/CVE-2023-28631
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-28631
aliases: []
summary: comrak is a CommonMark + GFM compatible Markdown parser and renderer written in rust.
  A Comrak AST can be constructed manually by a program instead of parsing a Markdown document
  with `parse_document`. This AST can then be converted to HTML via `html::format_document_with_plugins`.
  However, the HTML formatting code assumes that the AST is well-formed. For example, many AST
  notes contain `[u8]` fields which the formatting code assumes is valid UTF-8 data. Several
  bugs can be triggered if this is not the case. Version 0.17.0 contains adjustments to the
  AST, storing strings instead of unvalidated byte arrays. Users are advised to upgrade. Users
  unable to upgrade may manually validate UTF-8 correctness of all data when assigning to `&[u8]`
  and `Vec<u8>` fields in the AST. This issue is also tracked as `GHSL-2023-049`.
impacted_packages: []
severities:
  - score: '5.3'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:L
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2023-28631
  - score: '9.8'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2023-28631
weaknesses:
  - CWE-755
references:
  - url: https://github.com/kivikakk/comrak/commit/9ff5f8df0ac951f5742d22a72c39b89a15f56639
    reference_type:
    reference_id:
  - url: https://github.com/kivikakk/comrak/security/advisories/GHSA-5r3x-p7xx-x6q5
    reference_type:
    reference_id:
  - url: https://lists.fedoraproject.org/archives/list/package-announce@lists.fedoraproject.org/message/OUYME2VA555X6567H7ORIJQFN4BVGT6N/
    reference_type:
    reference_id:
  - url: https://lists.fedoraproject.org/archives/list/package-announce@lists.fedoraproject.org/message/PTWZWCT7KCX2KTXTLPUYZ3EHOONG4X46/
    reference_type:
    reference_id:
  - url: https://lists.fedoraproject.org/archives/list/package-announce@lists.fedoraproject.org/message/VQ3UBC7LE4VPCMZBTADIBL353CH7CPVV/
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:a:comrak_project:comrak:*:*:*:*:*:rust:*:*
    reference_type:
    reference_id: cpe:2.3:a:comrak_project:comrak:*:*:*:*:*:rust:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-28631
    reference_type:
    reference_id: CVE-2023-28631
