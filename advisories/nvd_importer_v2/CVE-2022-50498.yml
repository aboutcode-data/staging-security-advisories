advisory_id: CVE-2022-50498
datasource_id: nvd_importer_v2/CVE-2022-50498
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2022-50498
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  eth: alx: take rtnl_lock on resume

  Zbynek reports that alx trips an rtnl assertion on resume:

   RTNL: assertion failed at net/core/dev.c (2891)
   RIP: 0010:netif_set_real_num_tx_queues+0x1ac/0x1c0
   Call Trace:
    <TASK>
    __alx_open+0x230/0x570 [alx]
    alx_resume+0x54/0x80 [alx]
    ? pci_legacy_resume+0x80/0x80
    dpm_run_callback+0x4a/0x150
    device_resume+0x8b/0x190
    async_resume+0x19/0x30
    async_run_entry_fn+0x30/0x130
    process_one_work+0x1e5/0x3b0

  indeed the driver does not hold rtnl_lock during its internal close
  and re-open functions during suspend/resume. Note that this is not
  a huge bug as the driver implements its own locking, and does not
  implement changing the number of queues, but we need to silence
  the splat.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2022-50498
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/6ad1c94e1e7e374d88f0cfd77936dddb8339aaba
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/6f1991a940b90753b34570f093a21dba366e8cc0
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/a845a0c4bdece2c0073ecea2fca7c4d5f0550f78
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/c0323c0fd07804d5874699e93f935cda0d989c67
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2022-50498
    reference_type:
    reference_id: CVE-2022-50498
