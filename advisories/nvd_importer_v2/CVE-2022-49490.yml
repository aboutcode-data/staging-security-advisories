advisory_id: CVE-2022-49490
datasource_id: nvd_importer_v2/CVE-2022-49490
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2022-49490
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  drm/msm/mdp5: Return error code in mdp5_pipe_release when deadlock is detected

  mdp5_get_global_state runs the risk of hitting a -EDEADLK when acquiring
  the modeset lock, but currently mdp5_pipe_release doesn't check for if
  an error is returned. Because of this, there is a possibility of
  mdp5_pipe_release hitting a NULL dereference error.

  To avoid this, let's have mdp5_pipe_release check if
  mdp5_get_global_state returns an error and propogate that error.

  Changes since v1:
  - Separated declaration and initialization of *new_state to avoid
    compiler warning
  - Fixed some spelling mistakes in commit message

  Changes since v2:
  - Return 0 in case where hwpipe is NULL as this is considered normal
    behavior
  - Added 2nd patch in series to fix a similar NULL dereference issue in
    mdp5_mixer_release

  Patchwork: https://patchwork.freedesktop.org/patch/485179/
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2022-49490
weaknesses:
  - CWE-476
references:
  - url: https://git.kernel.org/stable/c/04bef5f1ba8ea6d7c1c8f5f65e0395c62db59cb8
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/19964dfb39bda4d7716a71009488f0668ecbcf52
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/33dc5aac46e0fad8f5eb193e5906ed0eb6b66ceb
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/49dc28b4b2e28ef7564e355c91487996c1cbebd7
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/776f5c58bfe16cf322d71eeed3c5dda1eeac7e6b
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/b2aa2c4efe93e2580d6a8774b04fe2b99756a322
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/d59be579fa932c46b908f37509f319cbd4ca9a68
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2022-49490
    reference_type:
    reference_id: CVE-2022-49490
