advisory_id: CVE-2021-47133
datasource_id: nvd_importer_v2/CVE-2021-47133
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2021-47133
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  HID: amd_sfh: Fix memory leak in amd_sfh_work

  Kmemleak tool detected a memory leak in the amd_sfh driver.

  ====================
  unreferenced object 0xffff88810228ada0 (size 32):
    comm "insmod", pid 3968, jiffies 4295056001 (age 775.792s)
    hex dump (first 32 bytes):
      00 20 73 1f 81 88 ff ff 00 01 00 00 00 00 ad de  . s.............
      22 01 00 00 00 00 ad de 01 00 02 00 00 00 00 00  "...............
    backtrace:
      [<000000007b4c8799>] kmem_cache_alloc_trace+0x163/0x4f0
      [<0000000005326893>] amd_sfh_get_report+0xa4/0x1d0 [amd_sfh]
      [<000000002a9e5ec4>] amdtp_hid_request+0x62/0x80 [amd_sfh]
      [<00000000b8a95807>] sensor_hub_get_feature+0x145/0x270 [hid_sensor_hub]
      [<00000000fda054ee>] hid_sensor_parse_common_attributes+0x215/0x460 [hid_sensor_iio_common]
      [<0000000021279ecf>] hid_accel_3d_probe+0xff/0x4a0 [hid_sensor_accel_3d]
      [<00000000915760ce>] platform_probe+0x6a/0xd0
      [<0000000060258a1f>] really_probe+0x192/0x620
      [<00000000fa812f2d>] driver_probe_device+0x14a/0x1d0
      [<000000005e79f7fd>] __device_attach_driver+0xbd/0x110
      [<0000000070d15018>] bus_for_each_drv+0xfd/0x160
      [<0000000013a3c312>] __device_attach+0x18b/0x220
      [<000000008c7b4afc>] device_initial_probe+0x13/0x20
      [<00000000e6e99665>] bus_probe_device+0xfe/0x120
      [<00000000833fa90b>] device_add+0x6a6/0xe00
      [<00000000fa901078>] platform_device_add+0x180/0x380
  ====================

  The fix is to freeing request_list entry once the processed entry is
  removed from the request_list.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2021-47133
weaknesses:
  - CWE-401
references:
  - url: https://git.kernel.org/stable/c/29beadea66a226d744d5ffdcde6b984623053d24
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/5ad755fd2b326aa2bc8910b0eb351ee6aece21b1
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.13:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.13:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.13:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.13:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.13:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.13:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:5.13:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:5.13:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2021-47133
    reference_type:
    reference_id: CVE-2021-47133
