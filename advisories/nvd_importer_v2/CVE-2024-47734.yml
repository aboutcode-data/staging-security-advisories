advisory_id: CVE-2024-47734
datasource_id: nvd_importer_v2/CVE-2024-47734
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-47734
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  bonding: Fix unnecessary warnings and logs from bond_xdp_get_xmit_slave()

  syzbot reported a WARNING in bond_xdp_get_xmit_slave. To reproduce
  this[1], one bond device (bond1) has xdpdrv, which increases
  bpf_master_redirect_enabled_key. Another bond device (bond0) which is
  unsupported by XDP but its slave (veth3) has xdpgeneric that returns
  XDP_TX. This triggers WARN_ON_ONCE() from the xdp_master_redirect().
  To reduce unnecessary warnings and improve log management, we need to
  delete the WARN_ON_ONCE() and add ratelimit to the netdev_err().

  [1] Steps to reproduce:
      # Needs tx_xdp with return XDP_TX;
      ip l add veth0 type veth peer veth1
      ip l add veth3 type veth peer veth4
      ip l add bond0 type bond mode 6 # BOND_MODE_ALB, unsupported by XDP
      ip l add bond1 type bond # BOND_MODE_ROUNDROBIN by default
      ip l set veth0 master bond1
      ip l set bond1 up
      # Increases bpf_master_redirect_enabled_key
      ip l set dev bond1 xdpdrv object tx_xdp.o section xdp_tx
      ip l set veth3 master bond0
      ip l set bond0 up
      ip l set veth4 up
      # Triggers WARN_ON_ONCE() from the xdp_master_redirect()
      ip l set veth3 xdpgeneric object tx_xdp.o section xdp_tx
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-47734
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/0cbfd45fbcf0cb26d85c981b91c62fe73cdee01c
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/57b5fba55c6f8b1d83312a34bd656166fcd95658
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/6b64197b4bf1a5703a8b105367baf20f1e627a75
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/72e2c0825a480e19ee999cee9d018850d38c82b9
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/c1be35e774f8ed415e01209fddd963c5a74e8e9f
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/ccd3e6ff05e5236d1b9535f23f3e6622e0bb32b8
    reference_type:
    reference_id:
  - url: https://lists.debian.org/debian-lts-announce/2025/01/msg00001.html
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-47734
    reference_type:
    reference_id: CVE-2024-47734
