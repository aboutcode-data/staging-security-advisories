advisory_id: CVE-2025-38486
datasource_id: nvd_importer_v2/CVE-2025-38486
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2025-38486
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  soundwire: Revert "soundwire: qcom: Add set_channel_map api support"

  This reverts commit 7796c97df6b1b2206681a07f3c80f6023a6593d5.

  This patch broke Dragonboard 845c (sdm845). I see:

      Unexpected kernel BRK exception at EL1
      Internal error: BRK handler: 00000000f20003e8 [#1]  SMP
      pc : qcom_swrm_set_channel_map+0x7c/0x80 [soundwire_qcom]
      lr : snd_soc_dai_set_channel_map+0x34/0x78
      Call trace:
       qcom_swrm_set_channel_map+0x7c/0x80 [soundwire_qcom] (P)
       sdm845_dai_init+0x18c/0x2e0 [snd_soc_sdm845]
       snd_soc_link_init+0x28/0x6c
       snd_soc_bind_card+0x5f4/0xb0c
       snd_soc_register_card+0x148/0x1a4
       devm_snd_soc_register_card+0x50/0xb0
       sdm845_snd_platform_probe+0x124/0x148 [snd_soc_sdm845]
       platform_probe+0x6c/0xd0
       really_probe+0xc0/0x2a4
       __driver_probe_device+0x7c/0x130
       driver_probe_device+0x40/0x118
       __device_attach_driver+0xc4/0x108
       bus_for_each_drv+0x8c/0xf0
       __device_attach+0xa4/0x198
       device_initial_probe+0x18/0x28
       bus_probe_device+0xb8/0xbc
       deferred_probe_work_func+0xac/0xfc
       process_one_work+0x244/0x658
       worker_thread+0x1b4/0x360
       kthread+0x148/0x228
       ret_from_fork+0x10/0x20
      Kernel panic - not syncing: BRK handler: Fatal exception

  Dan has also reported following issues with the original patch
  https://lore.kernel.org/all/33fe8fe7-719a-405a-9ed2-d9f816ce1d57@sabinyo.mountain/

  Bug #1:
  The zeroeth element of ctrl->pconfig[] is supposed to be unused.  We
  start counting at 1.  However this code sets ctrl->pconfig[0].ch_mask = 128.

  Bug #2:
  There are SLIM_MAX_TX_PORTS (16) elements in tx_ch[] array but only
  QCOM_SDW_MAX_PORTS + 1 (15) in the ctrl->pconfig[] array so it corrupts
  memory like Yongqin Liu pointed out.

  Bug 3:
  Like Jie Gan pointed out, it erases all the tx information with the rx
  information.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2025-38486
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/207cea8b72fcbdf4e6db178e54186ed4f1514b3c
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/834bce6a715ae9a9c4dce7892454a19adf22b013
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.16:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.16:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.16:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.16:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.16:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.16:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.16:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.16:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.16:rc5:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.16:rc5:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.16:rc6:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.16:rc6:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2025-38486
    reference_type:
    reference_id: CVE-2025-38486
