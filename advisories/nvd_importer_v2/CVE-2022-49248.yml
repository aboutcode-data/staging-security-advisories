advisory_id: CVE-2022-49248
datasource_id: nvd_importer_v2/CVE-2022-49248
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2022-49248
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  ALSA: firewire-lib: fix uninitialized flag for AV/C deferred transaction

  AV/C deferred transaction was supported at a commit 00a7bb81c20f ("ALSA:
  firewire-lib: Add support for deferred transaction") while 'deferrable'
  flag can be uninitialized for non-control/notify AV/C transactions.
  UBSAN reports it:

  kernel: ================================================================================
  kernel: UBSAN: invalid-load in /build/linux-aa0B4d/linux-5.15.0/sound/firewire/fcp.c:363:9
  kernel: load of value 158 is not a valid value for type '_Bool'
  kernel: CPU: 3 PID: 182227 Comm: irq/35-firewire Tainted: P           OE     5.15.0-18-generic #18-Ubuntu
  kernel: Hardware name: Gigabyte Technology Co., Ltd. AX370-Gaming 5/AX370-Gaming 5, BIOS F42b 08/01/2019
  kernel: Call Trace:
  kernel:  <IRQ>
  kernel:  show_stack+0x52/0x58
  kernel:  dump_stack_lvl+0x4a/0x5f
  kernel:  dump_stack+0x10/0x12
  kernel:  ubsan_epilogue+0x9/0x45
  kernel:  __ubsan_handle_load_invalid_value.cold+0x44/0x49
  kernel:  fcp_response.part.0.cold+0x1a/0x2b [snd_firewire_lib]
  kernel:  fcp_response+0x28/0x30 [snd_firewire_lib]
  kernel:  fw_core_handle_request+0x230/0x3d0 [firewire_core]
  kernel:  handle_ar_packet+0x1d9/0x200 [firewire_ohci]
  kernel:  ? handle_ar_packet+0x1d9/0x200 [firewire_ohci]
  kernel:  ? transmit_complete_callback+0x9f/0x120 [firewire_core]
  kernel:  ar_context_tasklet+0xa8/0x2e0 [firewire_ohci]
  kernel:  tasklet_action_common.constprop.0+0xea/0xf0
  kernel:  tasklet_action+0x22/0x30
  kernel:  __do_softirq+0xd9/0x2e3
  kernel:  ? irq_finalize_oneshot.part.0+0xf0/0xf0
  kernel:  do_softirq+0x75/0xa0
  kernel:  </IRQ>
  kernel:  <TASK>
  kernel:  __local_bh_enable_ip+0x50/0x60
  kernel:  irq_forced_thread_fn+0x7e/0x90
  kernel:  irq_thread+0xba/0x190
  kernel:  ? irq_thread_fn+0x60/0x60
  kernel:  kthread+0x11e/0x140
  kernel:  ? irq_thread_check_affinity+0xf0/0xf0
  kernel:  ? set_kthread_struct+0x50/0x50
  kernel:  ret_from_fork+0x22/0x30
  kernel:  </TASK>
  kernel: ================================================================================

  This commit fixes the bug. The bug has no disadvantage for the non-
  control/notify AV/C transactions since the flag has an effect for AV/C
  response with INTERIM (0x0f) status which is not used for the transactions
  in AV/C general specification.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2022-49248
weaknesses:
  - CWE-908
references:
  - url: https://git.kernel.org/stable/c/39d2c4a33dc1b4402cec68a3c8f82c6588b6edce
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/60e5d391805d70458a01998de00d0c28cba40bf3
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/7025f40690a235a118c87674cfb93072694aa66d
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/7e6f5786621df060f8296f074efd275eaf20361a
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/99582e4b19f367fa95bdd150b3034d7ce8113342
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/b2b65c9013dc28836d82e25d0f0c94d794a14aba
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/bf0cd60b7e33cf221fbe1114e4acb2c828b0af0d
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/d07e4bbaff6fbba6f70c04b092ea7d9afcdf392e
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/eab74c41612083bd627b60da650e19234e4f1051
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2022-49248
    reference_type:
    reference_id: CVE-2022-49248
