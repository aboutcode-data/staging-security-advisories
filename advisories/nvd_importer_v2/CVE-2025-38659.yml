advisory_id: CVE-2025-38659
datasource_id: nvd_importer_v2/CVE-2025-38659
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2025-38659
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  gfs2: No more self recovery

  When a node withdraws and it turns out that it is the only node that has
  the filesystem mounted, gfs2 currently tries to replay the local journal
  to bring the filesystem back into a consistent state.  Not only is that
  a very bad idea, it has also never worked because gfs2_recover_func()
  will refuse to do anything during a withdraw.

  However, before even getting to this point, gfs2_recover_func()
  dereferences sdp->sd_jdesc->jd_inode.  This was a use-after-free before
  commit 04133b607a78 ("gfs2: Prevent double iput for journal on error")
  and is a NULL pointer dereference since then.

  Simply get rid of self recovery to fix that.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2025-38659
weaknesses:
  - CWE-476
references:
  - url: https://git.kernel.org/stable/c/1a91ba12abef628b43cada87478328274d988e88
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/6784367b2f3cd7b89103de35764f37f152590dbd
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/97c94c7dbddc34d353c83b541b3decabf98d04af
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/deb016c1669002e48c431d6fd32ea1c20ef41756
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/f5426ffbec971a8f7346a57392d3a901bdee5a9b
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2025-38659
    reference_type:
    reference_id: CVE-2025-38659
