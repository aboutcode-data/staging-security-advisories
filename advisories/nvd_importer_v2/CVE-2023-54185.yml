advisory_id: CVE-2023-54185
datasource_id: nvd_importer_v2/CVE-2023-54185
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-54185
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  btrfs: remove BUG_ON()'s in add_new_free_space()

  At add_new_free_space() we have these BUG_ON()'s that are there to deal
  with any failure to add free space to the in memory free space cache.
  Such failures are mostly -ENOMEM that should be very rare. However there's
  no need to have these BUG_ON()'s, we can just return any error to the
  caller and all callers and their upper call chain are already dealing with
  errors.

  So just make add_new_free_space() return any errors, while removing the
  BUG_ON()'s, and returning the total amount of added free space to an
  optional u64 pointer argument.
impacted_packages: []
severities: []
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/23e72231f8281505883514b23709076e234d4f27
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/d8ccbd21918fd7fa6ce3226cffc22c444228e8ad
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/f775ceb0cb530e4a469b718fb2a24843071087f5
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-54185
    reference_type:
    reference_id: CVE-2023-54185
