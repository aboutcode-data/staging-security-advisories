advisory_id: CVE-2024-50274
datasource_id: nvd_importer_v2/CVE-2024-50274
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-50274
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  idpf: avoid vport access in idpf_get_link_ksettings

  When the device control plane is removed or the platform
  running device control plane is rebooted, a reset is detected
  on the driver. On driver reset, it releases the resources and
  waits for the reset to complete. If the reset fails, it takes
  the error path and releases the vport lock. At this time if the
  monitoring tools tries to access link settings, it call traces
  for accessing released vport pointer.

  To avoid it, move link_speed_mbps to netdev_priv structure
  which removes the dependency on vport pointer and the vport lock
  in idpf_get_link_ksettings. Also use netif_carrier_ok()
  to check the link status and adjust the offsetof to use link_up
  instead of link_speed_mbps.
impacted_packages: []
severities:
  - score: '7.8'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-50274
weaknesses:
  - CWE-416
references:
  - url: https://git.kernel.org/stable/c/81d2fb4c7c18a3b36ba3e00b9d5b753107472d75
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/fa4d906ad0fb63a980a1d586a061c78ea1a345ba
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc2:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc2:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc3:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc3:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc4:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc4:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc5:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc5:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.12:rc6:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.12:rc6:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-50274
    reference_type:
    reference_id: CVE-2024-50274
