advisory_id: CVE-2022-50666
datasource_id: nvd_importer_v2/CVE-2022-50666
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2022-50666
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  RDMA/siw: Fix QP destroy to wait for all references dropped.

  Delay QP destroy completion until all siw references to QP are
  dropped. The calling RDMA core will free QP structure after
  successful return from siw_qp_destroy() call, so siw must not
  hold any remaining reference to the QP upon return.
  A use-after-free was encountered in xfstest generic/460, while
  testing NFSoRDMA. Here, after a TCP connection drop by peer,
  the triggered siw_cm_work_handler got delayed until after
  QP destroy call, referencing a QP which has already freed.
impacted_packages: []
severities: []
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/0ed8bf9d0bb19f3f5eedd73f04aaf5bba9ac0737
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/5c75d608fad58301b63e7d69200c13c3a1d411da
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/74ad141e995a730760b1bcfa14854b7f1057d6bc
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/a3c278807a459e6f50afee6971cabe74cccfb490
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2022-50666
    reference_type:
    reference_id: CVE-2022-50666
