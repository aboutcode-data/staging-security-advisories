advisory_id: CVE-2023-54201
datasource_id: nvd_importer_v2/CVE-2023-54201
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-54201
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  RDMA/efa: Fix wrong resources deallocation order

  When trying to destroy QP or CQ, we first decrease the refcount and
  potentially free memory regions allocated for the object and then
  request the device to destroy the object. If the device fails, the
  object isn't fully destroyed so the user/IB core can try to destroy the
  object again which will lead to underflow when trying to decrease an
  already zeroed refcount.

  Deallocate resources in reverse order of allocating them to safely free
  them.
impacted_packages: []
severities: []
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/24f9884971f9b34915b67baacf7350a3f6f19ea4
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/cf38960386f3cc4abf395e556af915e4babcafd2
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/dc202c57e9a1423aed528e4b8dc949509cd32191
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/e79db2f51a564fd4daa3e508b987df5e81c34b20
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-54201
    reference_type:
    reference_id: CVE-2023-54201
