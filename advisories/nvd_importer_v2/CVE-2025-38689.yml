advisory_id: CVE-2025-38689
datasource_id: nvd_importer_v2/CVE-2025-38689
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2025-38689
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  x86/fpu: Fix NULL dereference in avx512_status()

  Problem
  -------
  With CONFIG_X86_DEBUG_FPU enabled, reading /proc/[kthread]/arch_status
  causes a warning and a NULL pointer dereference.

  This is because the AVX-512 timestamp code uses x86_task_fpu() but
  doesn't check it for NULL. CONFIG_X86_DEBUG_FPU addles that function
  for kernel threads (PF_KTHREAD specifically), making it return NULL.

  The point of the warning was to ensure that kernel threads only access
  task->fpu after going through kernel_fpu_begin()/_end(). Note: all
  kernel tasks exposed in /proc have a valid task->fpu.

  Solution
  --------
  One option is to silence the warning and check for NULL from
  x86_task_fpu(). However, that warning is fairly fresh and seems like a
  defense against misuse of the FPU state in kernel threads.

  Instead, stop outputting AVX-512_elapsed_ms for kernel threads
  altogether. The data was garbage anyway because avx512_timestamp is
  only updated for user threads, not kernel threads.

  If anyone ever wants to track kernel thread AVX-512 use, they can come
  back later and do it properly, separate from this bug fix.

  [ dhansen: mostly rewrite changelog ]
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2025-38689
weaknesses:
  - CWE-476
references:
  - url: https://git.kernel.org/stable/c/2ca887e81095b99d890a8878841f36f4920181e6
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/31cd31c9e17ece125aad27259501a2af69ccb020
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:6.17:rc1:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:6.17:rc1:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2025-38689
    reference_type:
    reference_id: CVE-2025-38689
