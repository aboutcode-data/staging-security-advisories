advisory_id: CVE-2023-53694
datasource_id: nvd_importer_v2/CVE-2023-53694
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2023-53694
aliases: []
summary: "In the Linux kernel, the following vulnerability has been resolved:\n\nriscv: ftrace:\
  \ Fixup panic by disabling preemption\n\nIn RISCV, we must use an AUIPC + JALR pair to encode\
  \ an immediate,\nforming a jump that jumps to an address over 4K. This may cause errors\n\
  if we want to enable kernel preemption and remove dependency from\npatching code with stop_machine().\
  \ For example, if a task was switched\nout on auipc. And, if we changed the ftrace function\
  \ before it was\nswitched back, then it would jump to an address that has updated 11:0\nbits\
  \ mixing with previous XLEN:12 part.\n\np: patched area performed by dynamic ftrace\nftrace_prologue:\n\
  p|      REG_S   ra, -SZREG(sp)\np|      auipc   ra, 0x? ------------> preempted\n\t\t\t\t\t\
  ...\n\t\t\t\tchange ftrace function\n\t\t\t\t\t...\np|      jalr    -?(ra) <-------------\
  \ switched back\np|      REG_L   ra, -SZREG(sp)\nfunc:\n\txxx\n\tret"
impacted_packages: []
severities: []
weaknesses: []
references:
  - url: https://git.kernel.org/stable/c/20a7510e781084364691b4962de31de758194cc9
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/84cfcf240f4a577733b1d98fcd2611a611612b03
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/8547649981e6631328cd64f583667501ae385531
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/detail/CVE-2023-53694
    reference_type:
    reference_id: CVE-2023-53694
