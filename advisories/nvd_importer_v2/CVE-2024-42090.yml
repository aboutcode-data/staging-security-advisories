advisory_id: CVE-2024-42090
datasource_id: nvd_importer_v2/CVE-2024-42090
datasource_url: https://nvd.nist.gov/vuln/detail/CVE-2024-42090
aliases: []
summary: |
  In the Linux kernel, the following vulnerability has been resolved:

  pinctrl: fix deadlock in create_pinctrl() when handling -EPROBE_DEFER

  In create_pinctrl(), pinctrl_maps_mutex is acquired before calling
  add_setting(). If add_setting() returns -EPROBE_DEFER, create_pinctrl()
  calls pinctrl_free(). However, pinctrl_free() attempts to acquire
  pinctrl_maps_mutex, which is already held by create_pinctrl(), leading to
  a potential deadlock.

  This patch resolves the issue by releasing pinctrl_maps_mutex before
  calling pinctrl_free(), preventing the deadlock.

  This bug was discovered and resolved using Coverity Static Analysis
  Security Testing (SAST) by Synopsys, Inc.
impacted_packages: []
severities:
  - score: '5.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H
    published_at: None
    url: https://nvd.nist.gov/vuln/detail/CVE-2024-42090
weaknesses:
  - CWE-667
references:
  - url: https://git.kernel.org/stable/c/01fe2f885f7813f8aed5d3704b384a97b1116a9e
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/4038c57bf61631219b31f1bd6e92106ec7f084dc
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/420ce1261907e5dbeda1e4daffd5b6c76f8188c0
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/48a7a7c9571c3e62f17012dd7f2063e926179ddd
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/adec57ff8e66aee632f3dd1f93787c13d112b7a1
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/b36efd2e3e22a329444b6b24fa48df6d20ae66e6
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/b813e3fd102a959c5b208ed68afe27e0137a561b
    reference_type:
    reference_id:
  - url: https://git.kernel.org/stable/c/e65a0dc2e85efb28e182aca50218e8a056d0ce04
    reference_type:
    reference_id:
  - url: https://lists.debian.org/debian-lts-announce/2025/01/msg00001.html
    reference_type:
    reference_id:
  - url: https://nvd.nist.gov/vuln/search/results?adv_search=true&isCpeNameSearch=true&query=cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
    reference_type:
    reference_id: cpe:2.3:o:linux:linux_kernel:*:*:*:*:*:*:*:*
  - url: https://nvd.nist.gov/vuln/detail/CVE-2024-42090
    reference_type:
    reference_id: CVE-2024-42090
