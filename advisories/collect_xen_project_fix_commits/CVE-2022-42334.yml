advisory_id: CVE-2022-42334
datasource_id: collect_xen_project_fix_commits/CVE-2022-42334
datasource_url: https://github.com/xen-project/xen
aliases: []
summary: |
  99e9afaeb00b5a00d6fc3e2d2e593f9ed35695d5:x86/HVM: serialize pinned cache attribute list manipulation

  While the RCU variants of list insertion and removal allow lockless list
  traversal (with RCU just read-locked), insertions and removals still
  need serializing amongst themselves. To keep things simple, use the
  domain lock for this purpose.

  This is CVE-2022-42334 / part of XSA-428.

  Fixes: 642123c5123f ("x86/hvm: provide XEN_DMOP_pin_memory_cacheattr")
  Signed-off-by: Jan Beulich <jbeulich@suse.com>
  Reviewed-by: Julien Grall <jgrall@amazon.com>
  (cherry picked from commit 829ec245cf66560e3b50d140ccb3168e7fb7c945)
  fc7dfd94432f4c55a97e86ff63387bfac5da58e3:x86/HVM: serialize pinned cache attribute list manipulation

  While the RCU variants of list insertion and removal allow lockless list
  traversal (with RCU just read-locked), insertions and removals still
  need serializing amongst themselves. To keep things simple, use the
  domain lock for this purpose.

  This is CVE-2022-42334 / part of XSA-428.

  Fixes: 642123c5123f ("x86/hvm: provide XEN_DMOP_pin_memory_cacheattr")
  Signed-off-by: Jan Beulich <jbeulich@suse.com>
  Reviewed-by: Julien Grall <jgrall@amazon.com>
  (cherry picked from commit 829ec245cf66560e3b50d140ccb3168e7fb7c945)
  564de020d29fbc4efd20ef8052051e86b2465a1a:x86/HVM: serialize pinned cache attribute list manipulation

  While the RCU variants of list insertion and removal allow lockless list
  traversal (with RCU just read-locked), insertions and removals still
  need serializing amongst themselves. To keep things simple, use the
  domain lock for this purpose.

  This is CVE-2022-42334 / part of XSA-428.

  Fixes: 642123c5123f ("x86/hvm: provide XEN_DMOP_pin_memory_cacheattr")
  Signed-off-by: Jan Beulich <jbeulich@suse.com>
  Reviewed-by: Julien Grall <jgrall@amazon.com>
  (cherry picked from commit 829ec245cf66560e3b50d140ccb3168e7fb7c945)
  ab2d47eb135380105b32a2a419f1e19445e19fc1:x86/HVM: serialize pinned cache attribute list manipulation

  While the RCU variants of list insertion and removal allow lockless list
  traversal (with RCU just read-locked), insertions and removals still
  need serializing amongst themselves. To keep things simple, use the
  domain lock for this purpose.

  This is CVE-2022-42334 / part of XSA-428.

  Fixes: 642123c5123f ("x86/hvm: provide XEN_DMOP_pin_memory_cacheattr")
  Signed-off-by: Jan Beulich <jbeulich@suse.com>
  Reviewed-by: Julien Grall <jgrall@amazon.com>
  a2a915b3960e6ab060d8be2c36e6e697700ea87c:x86/HVM: serialize pinned cache attribute list manipulation

  While the RCU variants of list insertion and removal allow lockless list
  traversal (with RCU just read-locked), insertions and removals still
  need serializing amongst themselves. To keep things simple, use the
  domain lock for this purpose.

  This is CVE-2022-42334 / part of XSA-428.

  Fixes: 642123c5123f ("x86/hvm: provide XEN_DMOP_pin_memory_cacheattr")
  Signed-off-by: Jan Beulich <jbeulich@suse.com>
  Reviewed-by: Julien Grall <jgrall@amazon.com>
  (cherry picked from commit 829ec245cf66560e3b50d140ccb3168e7fb7c945)
impacted_packages:
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: fc7dfd94432f4c55a97e86ff63387bfac5da58e3
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 564de020d29fbc4efd20ef8052051e86b2465a1a
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 99e9afaeb00b5a00d6fc3e2d2e593f9ed35695d5
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: ab2d47eb135380105b32a2a419f1e19445e19fc1
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: a2a915b3960e6ab060d8be2c36e6e697700ea87c
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/xen-project/xen/tree/564de020d29fbc4efd20ef8052051e86b2465a1a
    reference_type: commit
    reference_id: 564de020d29fbc4efd20ef8052051e86b2465a1a
  - url: https://github.com/xen-project/xen/tree/99e9afaeb00b5a00d6fc3e2d2e593f9ed35695d5
    reference_type: commit
    reference_id: 99e9afaeb00b5a00d6fc3e2d2e593f9ed35695d5
  - url: https://github.com/xen-project/xen/tree/a2a915b3960e6ab060d8be2c36e6e697700ea87c
    reference_type: commit
    reference_id: a2a915b3960e6ab060d8be2c36e6e697700ea87c
  - url: https://github.com/xen-project/xen/tree/ab2d47eb135380105b32a2a419f1e19445e19fc1
    reference_type: commit
    reference_id: ab2d47eb135380105b32a2a419f1e19445e19fc1
  - url: https://github.com/xen-project/xen/tree/fc7dfd94432f4c55a97e86ff63387bfac5da58e3
    reference_type: commit
    reference_id: fc7dfd94432f4c55a97e86ff63387bfac5da58e3
