advisory_id: CVE-2019-11135
datasource_id: collect_xen_project_fix_commits/CVE-2019-11135
datasource_url: https://github.com/xen-project/xen
aliases: []
summary: |
  4c666a7e15567392a8a38331b8bf6f097c518f11:x86/spec-ctrl: Mitigate the TSX Asynchronous Abort sidechannel

  See patch documentation and comments.

  This is part of XSA-305 / CVE-2019-11135

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  a70ba89abbeb72e1bfd7496eb853fad3058c881d:x86/tsx: Introduce tsx= to use MSR_TSX_CTRL when available

  To protect against the TSX Async Abort speculative vulnerability, Intel have
  released new microcode for affected parts which introduce the MSR_TSX_CTRL
  control, which allows TSX to be turned off.  This will be architectural on
  future parts.

  Introduce tsx= to provide a global on/off for TSX, including its enumeration
  via CPUID.  Provide stub virtualisation of this MSR, as it is not exposed to
  guests at the moment.

  VMs may have booted before microcode is loaded, or before hosts have rebooted,
  and they still want to migrate freely.  A VM which booted seeing TSX can
  migrate safely to hosts with TSX disabled - TSX will start unconditionally
  aborting, but still behave in a manner compatible with the ABI.

  The guest-visible behaviour is equivalent to late loading the microcode and
  setting the RTM_DISABLE bit in the course of live patching.

  This is part of XSA-305 / CVE-2019-11135

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  49db55fb3ba51a12613cb019ef13d452bc382ccb:x86/spec-ctrl: Mitigate the TSX Asynchronous Abort sidechannel

  See patch documentation and comments.

  This is part of XSA-305 / CVE-2019-11135

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  fa34ed5de82eca69673fa0d57d5b5a72a1baa65e:x86/tsx: Introduce tsx= to use MSR_TSX_CTRL when available

  To protect against the TSX Async Abort speculative vulnerability, Intel have
  released new microcode for affected parts which introduce the MSR_TSX_CTRL
  control, which allows TSX to be turned off.  This will be architectural on
  future parts.

  Introduce tsx= to provide a global on/off for TSX, including its enumeration
  via CPUID.  Provide stub virtualisation of this MSR, as it is not exposed to
  guests at the moment.

  VMs may have booted before microcode is loaded, or before hosts have rebooted,
  and they still want to migrate freely.  A VM which booted seeing TSX can
  migrate safely to hosts with TSX disabled - TSX will start unconditionally
  aborting, but still behave in a manner compatible with the ABI.

  The guest-visible behaviour is equivalent to late loading the microcode and
  setting the RTM_DISABLE bit in the course of live patching.

  This is part of XSA-305 / CVE-2019-11135

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  fde09cb80c4de641826a4a733105a971e3739f95:x86/spec-ctrl: Mitigate the TSX Asynchronous Abort sidechannel

  See patch documentation and comments.

  This is part of XSA-305 / CVE-2019-11135

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  804ba02efc09797dfd70ce5106f30c725920d7bb:x86/tsx: Introduce tsx= to use MSR_TSX_CTRL when available

  To protect against the TSX Async Abort speculative vulnerability, Intel have
  released new microcode for affected parts which introduce the MSR_TSX_CTRL
  control, which allows TSX to be turned off.  This will be architectural on
  future parts.

  Introduce tsx= to provide a global on/off for TSX, including its enumeration
  via CPUID.  Provide stub virtualisation of this MSR, as it is not exposed to
  guests at the moment.

  VMs may have booted before microcode is loaded, or before hosts have rebooted,
  and they still want to migrate freely.  A VM which booted seeing TSX can
  migrate safely to hosts with TSX disabled - TSX will start unconditionally
  aborting, but still behave in a manner compatible with the ABI.

  The guest-visible behaviour is equivalent to late loading the microcode and
  setting the RTM_DISABLE bit in the course of live patching.

  This is part of XSA-305 / CVE-2019-11135

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  74507046dbd2c5d2991eeabd1af39af0d6b29d70:x86/spec-ctrl: Mitigate the TSX Asynchronous Abort sidechannel

  See patch documentation and comments.

  This is part of XSA-305 / CVE-2019-11135

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  56590acd7fe460514e27d520d28ec5dc66535b1e:x86/tsx: Introduce tsx= to use MSR_TSX_CTRL when available

  To protect against the TSX Async Abort speculative vulnerability, Intel have
  released new microcode for affected parts which introduce the MSR_TSX_CTRL
  control, which allows TSX to be turned off.  This will be architectural on
  future parts.

  Introduce tsx= to provide a global on/off for TSX, including its enumeration
  via CPUID.  Provide stub virtualisation of this MSR, as it is not exposed to
  guests at the moment.

  VMs may have booted before microcode is loaded, or before hosts have rebooted,
  and they still want to migrate freely.  A VM which booted seeing TSX can
  migrate safely to hosts with TSX disabled - TSX will start unconditionally
  aborting, but still behave in a manner compatible with the ABI.

  The guest-visible behaviour is equivalent to late loading the microcode and
  setting the RTM_DISABLE bit in the course of live patching.

  This is part of XSA-305 / CVE-2019-11135

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  0138da196c8c334589a25144d4d69bf6553e2658:x86/spec-ctrl: Mitigate the TSX Asynchronous Abort sidechannel

  See patch documentation and comments.

  This is part of XSA-305 / CVE-2019-11135

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  12a1ff9f521e2d3d827a67704d37345996f26c0a:x86/tsx: Introduce tsx= to use MSR_TSX_CTRL when available

  To protect against the TSX Async Abort speculative vulnerability, Intel have
  released new microcode for affected parts which introduce the MSR_TSX_CTRL
  control, which allows TSX to be turned off.  This will be architectural on
  future parts.

  Introduce tsx= to provide a global on/off for TSX, including its enumeration
  via CPUID.  Provide stub virtualisation of this MSR, as it is not exposed to
  guests at the moment.

  VMs may have booted before microcode is loaded, or before hosts have rebooted,
  and they still want to migrate freely.  A VM which booted seeing TSX can
  migrate safely to hosts with TSX disabled - TSX will start unconditionally
  aborting, but still behave in a manner compatible with the ABI.

  The guest-visible behaviour is equivalent to late loading the microcode and
  setting the RTM_DISABLE bit in the course of live patching.

  This is part of XSA-305 / CVE-2019-11135

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  8c4330818f6ee70cbf7428a40a28a73df1272d10:x86/spec-ctrl: Mitigate the TSX Asynchronous Abort sidechannel

  See patch documentation and comments.

  This is part of XSA-305 / CVE-2019-11135

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  070e8ce9d3ace4624bb0fa87252a516e6fb0e2ea:x86/tsx: Introduce tsx= to use MSR_TSX_CTRL when available

  To protect against the TSX Async Abort speculative vulnerability, Intel have
  released new microcode for affected parts which introduce the MSR_TSX_CTRL
  control, which allows TSX to be turned off.  This will be architectural on
  future parts.

  Introduce tsx= to provide a global on/off for TSX, including its enumeration
  via CPUID.  Provide stub virtualisation of this MSR, as it is not exposed to
  guests at the moment.

  VMs may have booted before microcode is loaded, or before hosts have rebooted,
  and they still want to migrate freely.  A VM which booted seeing TSX can
  migrate safely to hosts with TSX disabled - TSX will start unconditionally
  aborting, but still behave in a manner compatible with the ABI.

  The guest-visible behaviour is equivalent to late loading the microcode and
  setting the RTM_DISABLE bit in the course of live patching.

  This is part of XSA-305 / CVE-2019-11135

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
impacted_packages:
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: fa34ed5de82eca69673fa0d57d5b5a72a1baa65e
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 070e8ce9d3ace4624bb0fa87252a516e6fb0e2ea
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 12a1ff9f521e2d3d827a67704d37345996f26c0a
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 49db55fb3ba51a12613cb019ef13d452bc382ccb
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 74507046dbd2c5d2991eeabd1af39af0d6b29d70
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: fde09cb80c4de641826a4a733105a971e3739f95
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 0138da196c8c334589a25144d4d69bf6553e2658
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 56590acd7fe460514e27d520d28ec5dc66535b1e
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 8c4330818f6ee70cbf7428a40a28a73df1272d10
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: a70ba89abbeb72e1bfd7496eb853fad3058c881d
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 804ba02efc09797dfd70ce5106f30c725920d7bb
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 4c666a7e15567392a8a38331b8bf6f097c518f11
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/xen-project/xen/tree/0138da196c8c334589a25144d4d69bf6553e2658
    reference_type: commit
    reference_id: 0138da196c8c334589a25144d4d69bf6553e2658
  - url: https://github.com/xen-project/xen/tree/070e8ce9d3ace4624bb0fa87252a516e6fb0e2ea
    reference_type: commit
    reference_id: 070e8ce9d3ace4624bb0fa87252a516e6fb0e2ea
  - url: https://github.com/xen-project/xen/tree/12a1ff9f521e2d3d827a67704d37345996f26c0a
    reference_type: commit
    reference_id: 12a1ff9f521e2d3d827a67704d37345996f26c0a
  - url: https://github.com/xen-project/xen/tree/49db55fb3ba51a12613cb019ef13d452bc382ccb
    reference_type: commit
    reference_id: 49db55fb3ba51a12613cb019ef13d452bc382ccb
  - url: https://github.com/xen-project/xen/tree/4c666a7e15567392a8a38331b8bf6f097c518f11
    reference_type: commit
    reference_id: 4c666a7e15567392a8a38331b8bf6f097c518f11
  - url: https://github.com/xen-project/xen/tree/56590acd7fe460514e27d520d28ec5dc66535b1e
    reference_type: commit
    reference_id: 56590acd7fe460514e27d520d28ec5dc66535b1e
  - url: https://github.com/xen-project/xen/tree/74507046dbd2c5d2991eeabd1af39af0d6b29d70
    reference_type: commit
    reference_id: 74507046dbd2c5d2991eeabd1af39af0d6b29d70
  - url: https://github.com/xen-project/xen/tree/804ba02efc09797dfd70ce5106f30c725920d7bb
    reference_type: commit
    reference_id: 804ba02efc09797dfd70ce5106f30c725920d7bb
  - url: https://github.com/xen-project/xen/tree/8c4330818f6ee70cbf7428a40a28a73df1272d10
    reference_type: commit
    reference_id: 8c4330818f6ee70cbf7428a40a28a73df1272d10
  - url: https://github.com/xen-project/xen/tree/a70ba89abbeb72e1bfd7496eb853fad3058c881d
    reference_type: commit
    reference_id: a70ba89abbeb72e1bfd7496eb853fad3058c881d
  - url: https://github.com/xen-project/xen/tree/fa34ed5de82eca69673fa0d57d5b5a72a1baa65e
    reference_type: commit
    reference_id: fa34ed5de82eca69673fa0d57d5b5a72a1baa65e
  - url: https://github.com/xen-project/xen/tree/fde09cb80c4de641826a4a733105a971e3739f95
    reference_type: commit
    reference_id: fde09cb80c4de641826a4a733105a971e3739f95
