advisory_id: CVE-2018-3665
datasource_id: collect_xen_project_fix_commits/CVE-2018-3665
datasource_url: https://github.com/xen-project/xen
aliases: []
summary: |
  542f711567a3f1891cb75187eeaf5cce3f7d6893:x86/spec-ctrl: Mitigations for LazyFPU

  Intel Core processors since at least Nehalem speculate past #NM, which is the
  mechanism by which lazy FPU context switching is implemented.

  On affected processors, Xen must use fully eager FPU context switching to
  prevent guests from being able to read FPU state (SSE/AVX/etc) from previously
  scheduled vcpus.

  This is part of XSA-267 / CVE-2018-3665

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  (cherry picked from commit 243435bf67e8159495194f623b9e4d8c90140384)
  90dc163818139bf0a93ed709fc19a14dc9c7b1d9:x86: Support fully eager FPU context switching

  This is controlled on a per-vcpu bases for flexibility.

  This is part of XSA-267 / CVE-2018-3665

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  (cherry picked from commit 146dfe9277c2b4a8c399b229e00d819065e3167b)
  117ef5e270f2906465951f4abed7e71f51ba7b76:x86/spec-ctrl: Mitigations for LazyFPU

  Intel Core processors since at least Nehalem speculate past #NM, which is the
  mechanism by which lazy FPU context switching is implemented.

  On affected processors, Xen must use fully eager FPU context switching to
  prevent guests from being able to read FPU state (SSE/AVX/etc) from previously
  scheduled vcpus.

  This is part of XSA-267 / CVE-2018-3665

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  (cherry picked from commit 243435bf67e8159495194f623b9e4d8c90140384)
  536d16cbddbc863a46d923b83d1be310f6fc0ddd:x86: Support fully eager FPU context switching

  This is controlled on a per-vcpu bases for flexibility.

  This is part of XSA-267 / CVE-2018-3665

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  (cherry picked from commit 146dfe9277c2b4a8c399b229e00d819065e3167b)
  c1aaad5627448a84c4e49304d89b11a8e6f588e7:x86/spec-ctrl: Mitigations for LazyFPU

  Intel Core processors since at least Nehalem speculate past #NM, which is the
  mechanism by which lazy FPU context switching is implemented.

  On affected processors, Xen must use fully eager FPU context switching to
  prevent guests from being able to read FPU state (SSE/AVX/etc) from previously
  scheduled vcpus.

  This is part of XSA-267 / CVE-2018-3665

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  (cherry picked from commit 243435bf67e8159495194f623b9e4d8c90140384)
  c5a56920e8058263685e186718980d57d558b383:x86: Support fully eager FPU context switching

  This is controlled on a per-vcpu bases for flexibility.

  This is part of XSA-267 / CVE-2018-3665

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  (cherry picked from commit 146dfe9277c2b4a8c399b229e00d819065e3167b)
  0b1904c47556a032ebd1ca53a6f94687dd2eb718:x86/spec-ctrl: Mitigations for LazyFPU

  Intel Core processors since at least Nehalem speculate past #NM, which is the
  mechanism by which lazy FPU context switching is implemented.

  On affected processors, Xen must use fully eager FPU context switching to
  prevent guests from being able to read FPU state (SSE/AVX/etc) from previously
  scheduled vcpus.

  This is part of XSA-267 / CVE-2018-3665

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  (cherry picked from commit 243435bf67e8159495194f623b9e4d8c90140384)
  859fc55704f797129e6e338d73f14c78b6288add:x86: Support fully eager FPU context switching

  This is controlled on a per-vcpu bases for flexibility.

  This is part of XSA-267 / CVE-2018-3665

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  (cherry picked from commit 146dfe9277c2b4a8c399b229e00d819065e3167b)
  4b9dc6d0e6484927cf74a77d07f0de74e92a05f8:x86/spec-ctrl: Mitigations for LazyFPU

  Intel Core processors since at least Nehalem speculate past #NM, which is the
  mechanism by which lazy FPU context switching is implemented.

  On affected processors, Xen must use fully eager FPU context switching to
  prevent guests from being able to read FPU state (SSE/AVX/etc) from previously
  scheduled vcpus.

  This is part of XSA-267 / CVE-2018-3665

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  (cherry picked from commit 243435bf67e8159495194f623b9e4d8c90140384)
  52447b36f1d59193263e1f2f001eb6bbbde4d285:x86: Support fully eager FPU context switching

  This is controlled on a per-vcpu bases for flexibility.

  This is part of XSA-267 / CVE-2018-3665

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  (cherry picked from commit 146dfe9277c2b4a8c399b229e00d819065e3167b)
  243435bf67e8159495194f623b9e4d8c90140384:x86/spec-ctrl: Mitigations for LazyFPU

  Intel Core processors since at least Nehalem speculate past #NM, which is the
  mechanism by which lazy FPU context switching is implemented.

  On affected processors, Xen must use fully eager FPU context switching to
  prevent guests from being able to read FPU state (SSE/AVX/etc) from previously
  scheduled vcpus.

  This is part of XSA-267 / CVE-2018-3665

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
  146dfe9277c2b4a8c399b229e00d819065e3167b:x86: Support fully eager FPU context switching

  This is controlled on a per-vcpu bases for flexibility.

  This is part of XSA-267 / CVE-2018-3665

  Signed-off-by: Andrew Cooper <andrew.cooper3@citrix.com>
  Reviewed-by: Jan Beulich <jbeulich@suse.com>
impacted_packages:
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 542f711567a3f1891cb75187eeaf5cce3f7d6893
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 146dfe9277c2b4a8c399b229e00d819065e3167b
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 0b1904c47556a032ebd1ca53a6f94687dd2eb718
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 536d16cbddbc863a46d923b83d1be310f6fc0ddd
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 117ef5e270f2906465951f4abed7e71f51ba7b76
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 52447b36f1d59193263e1f2f001eb6bbbde4d285
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 4b9dc6d0e6484927cf74a77d07f0de74e92a05f8
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 90dc163818139bf0a93ed709fc19a14dc9c7b1d9
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 859fc55704f797129e6e338d73f14c78b6288add
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: c1aaad5627448a84c4e49304d89b11a8e6f588e7
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: c5a56920e8058263685e186718980d57d558b383
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 243435bf67e8159495194f623b9e4d8c90140384
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/xen-project/xen/tree/0b1904c47556a032ebd1ca53a6f94687dd2eb718
    reference_type: commit
    reference_id: 0b1904c47556a032ebd1ca53a6f94687dd2eb718
  - url: https://github.com/xen-project/xen/tree/117ef5e270f2906465951f4abed7e71f51ba7b76
    reference_type: commit
    reference_id: 117ef5e270f2906465951f4abed7e71f51ba7b76
  - url: https://github.com/xen-project/xen/tree/146dfe9277c2b4a8c399b229e00d819065e3167b
    reference_type: commit
    reference_id: 146dfe9277c2b4a8c399b229e00d819065e3167b
  - url: https://github.com/xen-project/xen/tree/243435bf67e8159495194f623b9e4d8c90140384
    reference_type: commit
    reference_id: 243435bf67e8159495194f623b9e4d8c90140384
  - url: https://github.com/xen-project/xen/tree/4b9dc6d0e6484927cf74a77d07f0de74e92a05f8
    reference_type: commit
    reference_id: 4b9dc6d0e6484927cf74a77d07f0de74e92a05f8
  - url: https://github.com/xen-project/xen/tree/52447b36f1d59193263e1f2f001eb6bbbde4d285
    reference_type: commit
    reference_id: 52447b36f1d59193263e1f2f001eb6bbbde4d285
  - url: https://github.com/xen-project/xen/tree/536d16cbddbc863a46d923b83d1be310f6fc0ddd
    reference_type: commit
    reference_id: 536d16cbddbc863a46d923b83d1be310f6fc0ddd
  - url: https://github.com/xen-project/xen/tree/542f711567a3f1891cb75187eeaf5cce3f7d6893
    reference_type: commit
    reference_id: 542f711567a3f1891cb75187eeaf5cce3f7d6893
  - url: https://github.com/xen-project/xen/tree/859fc55704f797129e6e338d73f14c78b6288add
    reference_type: commit
    reference_id: 859fc55704f797129e6e338d73f14c78b6288add
  - url: https://github.com/xen-project/xen/tree/90dc163818139bf0a93ed709fc19a14dc9c7b1d9
    reference_type: commit
    reference_id: 90dc163818139bf0a93ed709fc19a14dc9c7b1d9
  - url: https://github.com/xen-project/xen/tree/c1aaad5627448a84c4e49304d89b11a8e6f588e7
    reference_type: commit
    reference_id: c1aaad5627448a84c4e49304d89b11a8e6f588e7
  - url: https://github.com/xen-project/xen/tree/c5a56920e8058263685e186718980d57d558b383
    reference_type: commit
    reference_id: c5a56920e8058263685e186718980d57d558b383
