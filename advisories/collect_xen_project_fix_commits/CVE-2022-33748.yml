advisory_id: CVE-2022-33748
datasource_id: collect_xen_project_fix_commits/CVE-2022-33748
datasource_url: https://github.com/xen-project/xen
aliases: []
summary: |
  042de0843936b690acbc6dbcf57d26f6adccfc06:gnttab: correct locking on transitive grant copy error path

  While the comment next to the lock dropping in preparation of
  recursively calling acquire_grant_for_copy() mistakenly talks about the
  rd == td case (excluded a few lines further up), the same concerns apply
  to the calling of release_grant_for_copy() on a subsequent error path.

  This is CVE-2022-33748 / XSA-411.

  Fixes: ad48fb963dbf ("gnttab: fix transitive grant handling")
  Signed-off-by: Jan Beulich <jbeulich@suse.com>
  master commit: 6e3aab858eef614a21a782a3b73acc88e74690ea
  master date: 2022-10-11 14:29:30 +0200
  6e5608d1c50e0f91ed3226489d9591c70fa37c30:gnttab: correct locking on transitive grant copy error path

  While the comment next to the lock dropping in preparation of
  recursively calling acquire_grant_for_copy() mistakenly talks about the
  rd == td case (excluded a few lines further up), the same concerns apply
  to the calling of release_grant_for_copy() on a subsequent error path.

  This is CVE-2022-33748 / XSA-411.

  Fixes: ad48fb963dbf ("gnttab: fix transitive grant handling")
  Signed-off-by: Jan Beulich <jbeulich@suse.com>
  master commit: 6e3aab858eef614a21a782a3b73acc88e74690ea
  master date: 2022-10-11 14:29:30 +0200
  bb43a10fefe494ab747b020fef3e823b63fc566d:gnttab: correct locking on transitive grant copy error path

  While the comment next to the lock dropping in preparation of
  recursively calling acquire_grant_for_copy() mistakenly talks about the
  rd == td case (excluded a few lines further up), the same concerns apply
  to the calling of release_grant_for_copy() on a subsequent error path.

  This is CVE-2022-33748 / XSA-411.

  Fixes: ad48fb963dbf ("gnttab: fix transitive grant handling")
  Signed-off-by: Jan Beulich <jbeulich@suse.com>
  master commit: 6e3aab858eef614a21a782a3b73acc88e74690ea
  master date: 2022-10-11 14:29:30 +0200
  32cb81501c8b858fe9a451650804ec3024a8b364:gnttab: correct locking on transitive grant copy error path

  While the comment next to the lock dropping in preparation of
  recursively calling acquire_grant_for_copy() mistakenly talks about the
  rd == td case (excluded a few lines further up), the same concerns apply
  to the calling of release_grant_for_copy() on a subsequent error path.

  This is CVE-2022-33748 / XSA-411.

  Fixes: ad48fb963dbf ("gnttab: fix transitive grant handling")
  Signed-off-by: Jan Beulich <jbeulich@suse.com>
  master commit: 6e3aab858eef614a21a782a3b73acc88e74690ea
  master date: 2022-10-11 14:29:30 +0200
  6e3aab858eef614a21a782a3b73acc88e74690ea:gnttab: correct locking on transitive grant copy error path

  While the comment next to the lock dropping in preparation of
  recursively calling acquire_grant_for_copy() mistakenly talks about the
  rd == td case (excluded a few lines further up), the same concerns apply
  to the calling of release_grant_for_copy() on a subsequent error path.

  This is CVE-2022-33748 / XSA-411.

  Fixes: ad48fb963dbf ("gnttab: fix transitive grant handling")
  Signed-off-by: Jan Beulich <jbeulich@suse.com>
impacted_packages:
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 6e3aab858eef614a21a782a3b73acc88e74690ea
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 32cb81501c8b858fe9a451650804ec3024a8b364
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 6e5608d1c50e0f91ed3226489d9591c70fa37c30
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: bb43a10fefe494ab747b020fef3e823b63fc566d
    introduced_in_commits: []
  - purl: pkg:github/xen-project/xen
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/xen-project/xen
        commit: 042de0843936b690acbc6dbcf57d26f6adccfc06
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/xen-project/xen/tree/042de0843936b690acbc6dbcf57d26f6adccfc06
    reference_type: commit
    reference_id: 042de0843936b690acbc6dbcf57d26f6adccfc06
  - url: https://github.com/xen-project/xen/tree/32cb81501c8b858fe9a451650804ec3024a8b364
    reference_type: commit
    reference_id: 32cb81501c8b858fe9a451650804ec3024a8b364
  - url: https://github.com/xen-project/xen/tree/6e3aab858eef614a21a782a3b73acc88e74690ea
    reference_type: commit
    reference_id: 6e3aab858eef614a21a782a3b73acc88e74690ea
  - url: https://github.com/xen-project/xen/tree/6e5608d1c50e0f91ed3226489d9591c70fa37c30
    reference_type: commit
    reference_id: 6e5608d1c50e0f91ed3226489d9591c70fa37c30
  - url: https://github.com/xen-project/xen/tree/bb43a10fefe494ab747b020fef3e823b63fc566d
    reference_type: commit
    reference_id: bb43a10fefe494ab747b020fef3e823b63fc566d
