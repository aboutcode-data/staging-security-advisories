advisory_id: UBUNTU-CVE-2023-28117
datasource_id: ubuntu_osv_importer_v2/UBUNTU-CVE-2023-28117
datasource_url: https://github.com/canonical/ubuntu-security-notices/blob/main/osv/cve/2023/UBUNTU-CVE-2023-28117.json
aliases:
  - CVE-2023-28117
summary: Sentry SDK is the official Python SDK for Sentry, real-time crash reporting software.
  When using the Django integration of versions prior to 1.14.0 of the Sentry SDK in a specific
  configuration it is possible to leak sensitive cookies values, including the session cookie
  to Sentry. These sensitive cookies could then be used by someone with access to your Sentry
  issues to impersonate or escalate their privileges within your application. In order for these
  sensitive values to be leaked, the Sentry SDK configuration must have `sendDefaultPII` set
  to `True`; one must use a custom name for either `SESSION_COOKIE_NAME` or `CSRF_COOKIE_NAME`
  in one's Django settings; and one must not be configured in one's organization or project
  settings to use Sentry's data scrubbing features to account for the custom cookie names. As
  of version 1.14.0, the Django integration of the `sentry-sdk` will detect the custom cookie
  names based on one's Django settings and will remove the values from the payload before sending
  the data to Sentry. As a workaround, use the SDK's filtering mechanism to remove the cookies
  from the payload that is sent to Sentry. For error events, this can be done with the `before_send`
  callback method and for performance related events (transactions) one can use the `before_send_transaction`
  callback method. Those who want to handle filtering of these values on the server-side can
  also use Sentry's advanced data scrubbing feature to account for the custom cookie names.
  Look for the `$http.cookies`, `$http.headers`, `$request.cookies`, or `$request.headers` fields
  to target with a scrubbing rule.
impacted_packages:
  - purl: pkg:deb/ubuntu/sentry-python?arch=source&distro=focal
    affected_versions: vers:deb/0.12.2-1
    fixed_versions:
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/ubuntu/sentry-python?arch=source&distro=jammy
    affected_versions: vers:deb/0.13.2-1|1.4.3-1
    fixed_versions:
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/ubuntu/sentry-python?arch=source&distro=noble
    affected_versions: vers:deb/1.9.10-2|1.39.2-0.1
    fixed_versions:
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:deb/ubuntu/sentry-python?arch=source&distro=questing
    affected_versions: vers:deb/2.18.0-1
    fixed_versions:
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: '6.5'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N
    published_at: None
    url: https://github.com/canonical/ubuntu-security-notices/blob/main/osv/cve/2023/UBUNTU-CVE-2023-28117.json
  - score: '7.6'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:C/C:H/I:L/A:N
    published_at: None
    url: https://github.com/canonical/ubuntu-security-notices/blob/main/osv/cve/2023/UBUNTU-CVE-2023-28117.json
  - score: medium
    scoring_system: ubuntu-priority
    scoring_elements:
    published_at: None
    url: https://github.com/canonical/ubuntu-security-notices/blob/main/osv/cve/2023/UBUNTU-CVE-2023-28117.json
weaknesses: []
references:
  - url: https://github.com/getsentry/sentry-python/pull/1842
    reference_type:
    reference_id:
  - url: https://github.com/getsentry/sentry-python/releases/tag/1.14.0
    reference_type:
    reference_id:
  - url: https://github.com/getsentry/sentry-python/security/advisories/GHSA-29pr-6jr8-q5jm
    reference_type:
    reference_id:
  - url: https://ubuntu.com/security/CVE-2023-28117
    reference_type:
    reference_id:
  - url: https://www.cve.org/CVERecord?id=CVE-2023-28117
    reference_type:
    reference_id:
