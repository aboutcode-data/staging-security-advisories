advisory_id: UBUNTU-CVE-2024-27309
datasource_id: ubuntu_osv_importer_v2/UBUNTU-CVE-2024-27309
datasource_url: https://github.com/canonical/ubuntu-security-notices/blob/main/osv/cve/2024/UBUNTU-CVE-2024-27309.json
aliases:
  - CVE-2024-27309
summary: 'While an Apache Kafka cluster is being migrated from ZooKeeper mode to KRaft mode,
  in some cases ACLs will not be correctly enforced. Two preconditions are needed to trigger
  the bug: 1. The administrator decides to remove an ACL 2. The resource associated with the
  removed ACL continues to have two or more other ACLs associated with it after the removal.
  When those two preconditions are met, Kafka will treat the resource as if it had only one
  ACL associated with it after the removal, rather than the two or more that would be correct.
  The incorrect condition is cleared by removing all brokers in ZK mode, or by adding a new
  ACL to the affected resource. Once the migration is completed, there is no metadata loss (the
  ACLs all remain). The full impact depends on the ACLs in use. If only ALLOW ACLs were configured
  during the migration, the impact would be limited to availability impact. if DENY ACLs were
  configured, the impact could include confidentiality and integrity impact depending on the
  ACLs configured, as the DENY ACLs might be ignored due to this vulnerability during the migration
  period.'
impacted_packages:
  - purl: pkg:deb/ubuntu/kafka?arch=source&distro=esm-apps/bionic
    affected_versions: vers:deb/2.2.0u2-0ubuntu3.1|2.2.0u2-0ubuntu3.2|2.2.2u1-0ubuntu1+esm2
    fixed_versions:
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: '7.4'
    scoring_system: cvssv3.1
    scoring_elements: CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:N
    published_at: None
    url: https://github.com/canonical/ubuntu-security-notices/blob/main/osv/cve/2024/UBUNTU-CVE-2024-27309.json
  - score: medium
    scoring_system: ubuntu-priority
    scoring_elements:
    published_at: None
    url: https://github.com/canonical/ubuntu-security-notices/blob/main/osv/cve/2024/UBUNTU-CVE-2024-27309.json
weaknesses: []
references:
  - url: https://ubuntu.com/security/CVE-2024-27309
    reference_type:
    reference_id:
  - url: https://www.cve.org/CVERecord?id=CVE-2024-27309
    reference_type:
    reference_id:
