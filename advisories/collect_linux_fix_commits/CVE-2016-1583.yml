advisory_id: CVE-2016-1583
datasource_id: collect_linux_fix_commits/CVE-2016-1583
datasource_url: https://github.com/torvalds/linux
aliases: []
summary: |
  b987c759d21a1c7551357e3bc74e7f8026e696a2:Merge tag 'ecryptfs-4.7-rc7-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/tyhicks/ecryptfs

  Pull eCryptfs fixes from Tyler Hicks:
   "Provide a more concise fix for CVE-2016-1583:
     - Additionally fixes linux-stable regressions caused by the
       cherry-picking of the original fix

    Some very minor changes that have queued up:
     - Fix typos in code comments
     - Remove unnecessary check for NULL before destroying kmem_cache"

  * tag 'ecryptfs-4.7-rc7-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/tyhicks/ecryptfs:
    ecryptfs: don't allow mmap when the lower fs doesn't support it
    Revert "ecryptfs: forbid opening files without mmap handler"
    ecryptfs: fix spelling mistakes
    eCryptfs: fix typos in comment
    ecryptfs: drop null test before destroy functions
  f0fe970df3838c202ef6c07a4c2b36838ef0a88b:ecryptfs: don't allow mmap when the lower fs doesn't support it

  There are legitimate reasons to disallow mmap on certain files, notably
  in sysfs or procfs.  We shouldn't emulate mmap support on file systems
  that don't offer support natively.

  CVE-2016-1583

  Signed-off-by: Jeff Mahoney <jeffm@suse.com>
  Cc: stable@vger.kernel.org
  [tyhicks: clean up f_op check by using ecryptfs_file_to_lower()]
  Signed-off-by: Tyler Hicks <tyhicks@canonical.com>
impacted_packages:
  - purl: pkg:github/torvalds/linux
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/torvalds/linux
        commit: f0fe970df3838c202ef6c07a4c2b36838ef0a88b
    introduced_in_commits: []
  - purl: pkg:github/torvalds/linux
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/torvalds/linux
        commit: b987c759d21a1c7551357e3bc74e7f8026e696a2
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/torvalds/linux/tree/b987c759d21a1c7551357e3bc74e7f8026e696a2
    reference_type: commit
    reference_id: b987c759d21a1c7551357e3bc74e7f8026e696a2
  - url: https://github.com/torvalds/linux/tree/f0fe970df3838c202ef6c07a4c2b36838ef0a88b
    reference_type: commit
    reference_id: f0fe970df3838c202ef6c07a4c2b36838ef0a88b
