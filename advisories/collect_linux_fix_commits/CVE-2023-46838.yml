advisory_id: CVE-2023-46838
datasource_id: collect_linux_fix_commits/CVE-2023-46838
datasource_url: https://github.com/torvalds/linux
aliases: []
summary: |
  c7ec4f2d684e17d69bbdd7c4324db0ef5daac26a:xen-netback: don't produce zero-size SKB frags

  While frontends may submit zero-size requests (wasting a precious slot),
  core networking code as of at least 3ece782693c4b ("sock: skb_copy_ubufs
  support for compound pages") can't deal with SKBs when they have all
  zero-size fragments. Respond to empty requests right when populating
  fragments; all further processing is fragment based and hence won't
  encounter these empty requests anymore.

  In a way this should have been that way from the beginning: When no data
  is to be transferred for a particular request, there's not even a point
  in validating the respective grant ref. That's no different from e.g.
  passing NULL into memcpy() when at the same time the size is 0.

  This is XSA-448 / CVE-2023-46838.

  Cc: stable@vger.kernel.org
  Signed-off-by: Jan Beulich <jbeulich@suse.com>
  Reviewed-by: Juergen Gross <jgross@suse.com>
  Reviewed-by: Paul Durrant <paul@xen.org>
impacted_packages:
  - purl: pkg:github/torvalds/linux
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/torvalds/linux
        commit: c7ec4f2d684e17d69bbdd7c4324db0ef5daac26a
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/torvalds/linux/tree/c7ec4f2d684e17d69bbdd7c4324db0ef5daac26a
    reference_type: commit
    reference_id: c7ec4f2d684e17d69bbdd7c4324db0ef5daac26a
