advisory_id: CVE-2023-25775
datasource_id: collect_linux_fix_commits/CVE-2023-25775
datasource_url: https://github.com/torvalds/linux
aliases: []
summary: |
  bb6d73d9add68ad270888db327514384dfa44958:RDMA/irdma: Prevent zero-length STAG registration

  Currently irdma allows zero-length STAGs to be programmed in HW during
  the kernel mode fast register flow. Zero-length MR or STAG registration
  disable HW memory length checks.

  Improve gaps in bounds checking in irdma by preventing zero-length STAG or
  MR registrations except if the IB_PD_UNSAFE_GLOBAL_RKEY is set.

  This addresses the disclosure CVE-2023-25775.

  Fixes: b48c24c2d710 ("RDMA/irdma: Implement device supported verb APIs")
  Signed-off-by: Christopher Bednarz <christopher.n.bednarz@intel.com>
  Signed-off-by: Shiraz Saleem <shiraz.saleem@intel.com>
  Link: https://lore.kernel.org/r/20230818144838.1758-1-shiraz.saleem@intel.com
  Signed-off-by: Leon Romanovsky <leon@kernel.org>
impacted_packages:
  - purl: pkg:github/torvalds/linux
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/torvalds/linux
        commit: bb6d73d9add68ad270888db327514384dfa44958
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/torvalds/linux/tree/bb6d73d9add68ad270888db327514384dfa44958
    reference_type: commit
    reference_id: bb6d73d9add68ad270888db327514384dfa44958
