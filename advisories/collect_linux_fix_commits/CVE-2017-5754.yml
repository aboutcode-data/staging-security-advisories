advisory_id: CVE-2017-5754
datasource_id: collect_linux_fix_commits/CVE-2017-5754
datasource_url: https://github.com/torvalds/linux
aliases: []
summary: |
  0ba2e29c7fc1d58a90fab614d41bf487e28e3840:arm64: Turn on KPTI only on CPUs that need it

  Whitelist Broadcom Vulcan/Cavium ThunderX2 processors in
  unmap_kernel_at_el0(). These CPUs are not vulnerable to
  CVE-2017-5754 and do not need KPTI when KASLR is off.

  Acked-by: Will Deacon <will.deacon@arm.com>
  Signed-off-by: Jayachandran C <jnair@caviumnetworks.com>
  Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
  3214d01f139b7544e870fc0b7fcce8da13c1cb51:KVM: PPC: Book3S: Provide information about hardware/firmware CVE workarounds

  This adds a new ioctl, KVM_PPC_GET_CPU_CHAR, that gives userspace
  information about the underlying machine's level of vulnerability
  to the recently announced vulnerabilities CVE-2017-5715,
  CVE-2017-5753 and CVE-2017-5754, and whether the machine provides
  instructions to assist software to work around the vulnerabilities.

  The ioctl returns two u64 words describing characteristics of the
  CPU and required software behaviour respectively, plus two mask
  words which indicate which bits have been filled in by the kernel,
  for extensibility.  The bit definitions are the same as for the
  new H_GET_CPU_CHARACTERISTICS hypercall.

  There is also a new capability, KVM_CAP_PPC_GET_CPU_CHAR, which
  indicates whether the new ioctl is available.

  Signed-off-by: Paul Mackerras <paulus@ozlabs.org>
impacted_packages:
  - purl: pkg:github/torvalds/linux
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/torvalds/linux
        commit: 3214d01f139b7544e870fc0b7fcce8da13c1cb51
    introduced_in_commits: []
  - purl: pkg:github/torvalds/linux
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/torvalds/linux
        commit: 0ba2e29c7fc1d58a90fab614d41bf487e28e3840
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/torvalds/linux/tree/0ba2e29c7fc1d58a90fab614d41bf487e28e3840
    reference_type: commit
    reference_id: 0ba2e29c7fc1d58a90fab614d41bf487e28e3840
  - url: https://github.com/torvalds/linux/tree/3214d01f139b7544e870fc0b7fcce8da13c1cb51
    reference_type: commit
    reference_id: 3214d01f139b7544e870fc0b7fcce8da13c1cb51
