advisory_id: CVE-2017-0861
datasource_id: collect_linux_fix_commits/CVE-2017-0861
datasource_url: https://github.com/torvalds/linux
aliases: []
summary: |
  362bca57f5d78220f8b5907b875961af9436e229:ALSA: pcm: prevent UAF in snd_pcm_info

  When the device descriptor is closed, the `substream->runtime` pointer
  is freed. But another thread may be in the ioctl handler, case
  SNDRV_CTL_IOCTL_PCM_INFO. This case calls snd_pcm_info_user() which
  calls snd_pcm_info() which accesses the now freed `substream->runtime`.

  Note: this fixes CVE-2017-0861

  Signed-off-by: Robb Glasser <rglasser@google.com>
  Signed-off-by: Nick Desaulniers <ndesaulniers@google.com>
  Cc: <stable@vger.kernel.org>
  Signed-off-by: Takashi Iwai <tiwai@suse.de>
impacted_packages:
  - purl: pkg:github/torvalds/linux
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/torvalds/linux
        commit: 362bca57f5d78220f8b5907b875961af9436e229
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/torvalds/linux/tree/362bca57f5d78220f8b5907b875961af9436e229
    reference_type: commit
    reference_id: 362bca57f5d78220f8b5907b875961af9436e229
