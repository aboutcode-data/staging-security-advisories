advisory_id: CVE-2020-11008
datasource_id: collect_git_fix_commits/CVE-2020-11008
datasource_url: https://github.com/git/git
aliases: []
summary: "1aed817f99bf259ea18ec49829b8d46b914e0230:credential: document protocol updates\n\n\
  Document protocol changes after CVE-2020-11008, including the removal of\nreferences to the\
  \ override of attributes which is no longer recommended\nafter CVE-2020-5260 and that might\
  \ be removed in the future.\n\nWhile at it do some improvements for clarity and consistency.\n\
  \nSigned-off-by: Carlo Marcelo Arenas Bel贸n <carenas@gmail.com>\nSigned-off-by: Junio C Hamano\
  \ <gitster@pobox.com>\n9a121b0d226dd0017318be0d18120aeb766f1235:credential: handle `credential.<partial-URL>.<key>`\
  \ again\n\nIn the patches for CVE-2020-11008, the ability to specify credential\nsettings\
  \ in the config for partial URLs got lost. For example, it used\nto be possible to specify\
  \ a credential helper for a specific protocol:\n\n\t[credential \"https://\"]\n\t\thelper\
  \ = my-https-helper\n\nLikewise, it used to be possible to configure settings for a specific\n\
  host, e.g.:\n\n\t[credential \"dev.azure.com\"]\n\t\tuseHTTPPath = true\n\nLet's reinstate\
  \ this behavior.\n\nWhile at it, increase the test coverage to document and verify the\nbehavior\
  \ with a couple other categories of partial URLs.\n\nSigned-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>\n\
  Reviewed-by: Carlo Marcelo Arenas Bel贸n <carenas@gmail.com>\nSigned-off-by: Junio C Hamano\
  \ <gitster@pobox.com>\n12294990c90e043862be9eb7eb22c3784b526340:credential: handle `credential.<partial-URL>.<key>`\
  \ again\n\nIn the patches for CVE-2020-11008, the ability to specify credential\nsettings\
  \ in the config for partial URLs got lost. For example, it used\nto be possible to specify\
  \ a credential helper for a specific protocol:\n\n\t[credential \"https://\"]\n\t\thelper\
  \ = my-https-helper\n\nLikewise, it used to be possible to configure settings for a specific\n\
  host, e.g.:\n\n\t[credential \"dev.azure.com\"]\n\t\tuseHTTPPath = true\n\nLet's reinstate\
  \ this behavior.\n\nWhile at it, increase the test coverage to document and verify the\nbehavior\
  \ with a couple other categories of partial URLs.\n\nSigned-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>\n\
  Signed-off-by: Junio C Hamano <gitster@pobox.com>\nf52b0cb4184362b2f88ebbf9ea20016914ce469d:credential:\
  \ optionally allow partial URLs in credential_from_url_gently()\n\nPrior to the fixes for\
  \ CVE-2020-11008, we were _very_ lenient in what we\nrequired from a URL in order to parse\
  \ it into a `struct credential`.\nThat led to serious vulnerabilities.\n\nThere was one call\
  \ site, though, that really needed that leniency: when\nparsing config settings a la `credential.dev.azure.com.useHTTPPath`.\n\
  Settings like this might be desired when users want to use, say, a given\nuser name on a given\
  \ host, regardless of the protocol to be used.\n\nIn preparation for fixing that bug, let's\
  \ refactor the code to\noptionally allow for partial URLs. For the moment, this functionality\
  \ is\nonly exposed via the now-renamed function `credential_from_url_1()`, but\nit is not\
  \ used. The intention is to make it easier to verify that this\ncommit does not change the\
  \ existing behavior unless explicitly allowing\nfor partial URLs.\n\nPlease note that this\
  \ patch does more than just reinstating a way to\nimitate the behavior before those CVE-2020-11008\
  \ fixes: Before that, we\nwould simply ignore URLs without a protocol. In other words,\nmisleadingly,\
  \ the following setting would be applied to _all_ URLs:\n\n\t[credential \"example.com\"]\n\
  \t\tusername = that-me\n\nThe obvious intention is to match the host name only. With this\
  \ patch,\nwe allow precisely that: when parsing the URL with non-zero\n`allow_partial_url`,\
  \ we do not simply return success if there was no\nprotocol, but we simply leave the protocol\
  \ unset and continue parsing\nthe URL.\n\nSigned-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>\n\
  Signed-off-by: Junio C Hamano <gitster@pobox.com>\nf52b0cb4184362b2f88ebbf9ea20016914ce469d:credential:\
  \ optionally allow partial URLs in credential_from_url_gently()\n\nPrior to the fixes for\
  \ CVE-2020-11008, we were _very_ lenient in what we\nrequired from a URL in order to parse\
  \ it into a `struct credential`.\nThat led to serious vulnerabilities.\n\nThere was one call\
  \ site, though, that really needed that leniency: when\nparsing config settings a la `credential.dev.azure.com.useHTTPPath`.\n\
  Settings like this might be desired when users want to use, say, a given\nuser name on a given\
  \ host, regardless of the protocol to be used.\n\nIn preparation for fixing that bug, let's\
  \ refactor the code to\noptionally allow for partial URLs. For the moment, this functionality\
  \ is\nonly exposed via the now-renamed function `credential_from_url_1()`, but\nit is not\
  \ used. The intention is to make it easier to verify that this\ncommit does not change the\
  \ existing behavior unless explicitly allowing\nfor partial URLs.\n\nPlease note that this\
  \ patch does more than just reinstating a way to\nimitate the behavior before those CVE-2020-11008\
  \ fixes: Before that, we\nwould simply ignore URLs without a protocol. In other words,\nmisleadingly,\
  \ the following setting would be applied to _all_ URLs:\n\n\t[credential \"example.com\"]\n\
  \t\tusername = that-me\n\nThe obvious intention is to match the host name only. With this\
  \ patch,\nwe allow precisely that: when parsing the URL with non-zero\n`allow_partial_url`,\
  \ we do not simply return success if there was no\nprotocol, but we simply leave the protocol\
  \ unset and continue parsing\nthe URL.\n\nSigned-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>\n\
  Signed-off-by: Junio C Hamano <gitster@pobox.com>\n6828e5972b82f474cc14ca9cb9e01e897f205f4c:credential:\
  \ optionally allow partial URLs in credential_from_url_gently()\n\nPrior to the fixes for\
  \ CVE-2020-11008, we were _very_ lenient in what we\nrequired from a URL in order to parse\
  \ it into a `struct credential`.\nThat led to serious vulnerabilities.\n\nThere was one call\
  \ site, though, that really needed that leniency: when\nparsing config settings a la `credential.dev.azure.com.useHTTPPath`.\n\
  Settings like this might be desired when users want to use, say, a given\nuser name on a given\
  \ host, regardless of the protocol to be used.\n\nIn preparation for fixing that bug, let's\
  \ refactor the code to\noptionally allow for partial URLs. For the moment, this functionality\
  \ is\nonly exposed via the now-renamed function `credential_from_url_1()`, but\nit is not\
  \ used. The intention is to make it easier to verify that this\ncommit does not change the\
  \ existing behavior unless explicitly allowing\nfor partial URLs.\n\nPlease note that this\
  \ patch does more than just reinstating a way to\nimitate the behavior before those CVE-2020-11008\
  \ fixes: Before that, we\nwould simply ignore URLs without a protocol. In other words,\nmisleadingly,\
  \ the following setting would be applied to _all_ URLs:\n\n\t[credential \"example.com\"]\n\
  \t\tusername = that-me\n\nThe obvious intention is to match the host name only. With this\
  \ patch,\nwe allow precisely that: when parsing the URL with non-zero\n`allow_partial_url`,\
  \ we do not simply return success if there was no\nprotocol, but we simply leave the protocol\
  \ unset and continue parsing\nthe URL.\n\nSigned-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>\n\
  Reviewed-by: Carlo Marcelo Arenas Bel贸n <carenas@gmail.com>\nSigned-off-by: Junio C Hamano\
  \ <gitster@pobox.com>\n6828e5972b82f474cc14ca9cb9e01e897f205f4c:credential: optionally allow\
  \ partial URLs in credential_from_url_gently()\n\nPrior to the fixes for CVE-2020-11008, we\
  \ were _very_ lenient in what we\nrequired from a URL in order to parse it into a `struct\
  \ credential`.\nThat led to serious vulnerabilities.\n\nThere was one call site, though, that\
  \ really needed that leniency: when\nparsing config settings a la `credential.dev.azure.com.useHTTPPath`.\n\
  Settings like this might be desired when users want to use, say, a given\nuser name on a given\
  \ host, regardless of the protocol to be used.\n\nIn preparation for fixing that bug, let's\
  \ refactor the code to\noptionally allow for partial URLs. For the moment, this functionality\
  \ is\nonly exposed via the now-renamed function `credential_from_url_1()`, but\nit is not\
  \ used. The intention is to make it easier to verify that this\ncommit does not change the\
  \ existing behavior unless explicitly allowing\nfor partial URLs.\n\nPlease note that this\
  \ patch does more than just reinstating a way to\nimitate the behavior before those CVE-2020-11008\
  \ fixes: Before that, we\nwould simply ignore URLs without a protocol. In other words,\nmisleadingly,\
  \ the following setting would be applied to _all_ URLs:\n\n\t[credential \"example.com\"]\n\
  \t\tusername = that-me\n\nThe obvious intention is to match the host name only. With this\
  \ patch,\nwe allow precisely that: when parsing the URL with non-zero\n`allow_partial_url`,\
  \ we do not simply return success if there was no\nprotocol, but we simply leave the protocol\
  \ unset and continue parsing\nthe URL.\n\nSigned-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>\n\
  Reviewed-by: Carlo Marcelo Arenas Bel贸n <carenas@gmail.com>\nSigned-off-by: Junio C Hamano\
  \ <gitster@pobox.com>"
impacted_packages:
  - purl: pkg:github/git/git
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/git/git
        commit: f52b0cb4184362b2f88ebbf9ea20016914ce469d
    introduced_in_commits: []
  - purl: pkg:github/git/git
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/git/git
        commit: 9a121b0d226dd0017318be0d18120aeb766f1235
    introduced_in_commits: []
  - purl: pkg:github/git/git
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/git/git
        commit: 12294990c90e043862be9eb7eb22c3784b526340
    introduced_in_commits: []
  - purl: pkg:github/git/git
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/git/git
        commit: 1aed817f99bf259ea18ec49829b8d46b914e0230
    introduced_in_commits: []
  - purl: pkg:github/git/git
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/git/git
        commit: 6828e5972b82f474cc14ca9cb9e01e897f205f4c
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/git/git/tree/12294990c90e043862be9eb7eb22c3784b526340
    reference_type: commit
    reference_id: 12294990c90e043862be9eb7eb22c3784b526340
  - url: https://github.com/git/git/tree/1aed817f99bf259ea18ec49829b8d46b914e0230
    reference_type: commit
    reference_id: 1aed817f99bf259ea18ec49829b8d46b914e0230
  - url: https://github.com/git/git/tree/6828e5972b82f474cc14ca9cb9e01e897f205f4c
    reference_type: commit
    reference_id: 6828e5972b82f474cc14ca9cb9e01e897f205f4c
  - url: https://github.com/git/git/tree/9a121b0d226dd0017318be0d18120aeb766f1235
    reference_type: commit
    reference_id: 9a121b0d226dd0017318be0d18120aeb766f1235
  - url: https://github.com/git/git/tree/f52b0cb4184362b2f88ebbf9ea20016914ce469d
    reference_type: commit
    reference_id: f52b0cb4184362b2f88ebbf9ea20016914ce469d
