advisory_id: CVE-2014-3689
datasource_id: collect_qemu_fix_commits/CVE-2014-3689
datasource_url: https://gitlab.com/qemu-project/qemu
aliases: []
summary: |
  8bf7738ff2928f50c43f543554a0d08c0b132a74:vmware-vga: CVE-2014-3689: turn off hw accel

  Quick & easy stopgap for CVE-2014-3689:  We just compile out the
  hardware acceleration functions which lack sanity checks.  Thankfully
  we have capability bits for them (SVGA_CAP_RECT_COPY and
  SVGA_CAP_RECT_FILL), so guests should deal just fine, in theory.

  Subsequent patches will add the missing checks and re-enable the
  hardware acceleration emulation.

  Cc: qemu-stable@nongnu.org
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>
  Reviewed-by: Don Koch <dkoch@verizon.com>
  (cherry picked from commit 83afa38eb20ca27e30683edc7729880e091387fc)
  Signed-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>
  8bf7738ff2928f50c43f543554a0d08c0b132a74:vmware-vga: CVE-2014-3689: turn off hw accel

  Quick & easy stopgap for CVE-2014-3689:  We just compile out the
  hardware acceleration functions which lack sanity checks.  Thankfully
  we have capability bits for them (SVGA_CAP_RECT_COPY and
  SVGA_CAP_RECT_FILL), so guests should deal just fine, in theory.

  Subsequent patches will add the missing checks and re-enable the
  hardware acceleration emulation.

  Cc: qemu-stable@nongnu.org
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>
  Reviewed-by: Don Koch <dkoch@verizon.com>
  (cherry picked from commit 83afa38eb20ca27e30683edc7729880e091387fc)
  Signed-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>
  4239e2dc018c0defdbad35d387051ca2b208889d:Merge remote-tracking branch 'remotes/kraxel/tags/pull-cve-2014-3689-20141029-1' into staging

  vmware-vga: add rectangle verification (CVE-2014-3689)

  # gpg: Signature made Wed 29 Oct 2014 11:45:29 GMT using RSA key ID D3E87138
  # gpg: Good signature from "Gerd Hoffmann (work) <kraxel@redhat.com>"
  # gpg:                 aka "Gerd Hoffmann <gerd@kraxel.org>"
  # gpg:                 aka "Gerd Hoffmann (private) <kraxel@gmail.com>"

  * remotes/kraxel/tags/pull-cve-2014-3689-20141029-1:
    vmware-vga: use vmsvga_verify_rect in vmsvga_fill_rect
    vmware-vga: use vmsvga_verify_rect in vmsvga_copy_rect
    vmware-vga: use vmsvga_verify_rect in vmsvga_update_rect
    vmware-vga: add vmsvga_verify_rect
    vmware-vga: CVE-2014-3689: turn off hw accel

  Signed-off-by: Peter Maydell <peter.maydell@linaro.org>
  4239e2dc018c0defdbad35d387051ca2b208889d:Merge remote-tracking branch 'remotes/kraxel/tags/pull-cve-2014-3689-20141029-1' into staging

  vmware-vga: add rectangle verification (CVE-2014-3689)

  # gpg: Signature made Wed 29 Oct 2014 11:45:29 GMT using RSA key ID D3E87138
  # gpg: Good signature from "Gerd Hoffmann (work) <kraxel@redhat.com>"
  # gpg:                 aka "Gerd Hoffmann <gerd@kraxel.org>"
  # gpg:                 aka "Gerd Hoffmann (private) <kraxel@gmail.com>"

  * remotes/kraxel/tags/pull-cve-2014-3689-20141029-1:
    vmware-vga: use vmsvga_verify_rect in vmsvga_fill_rect
    vmware-vga: use vmsvga_verify_rect in vmsvga_copy_rect
    vmware-vga: use vmsvga_verify_rect in vmsvga_update_rect
    vmware-vga: add vmsvga_verify_rect
    vmware-vga: CVE-2014-3689: turn off hw accel

  Signed-off-by: Peter Maydell <peter.maydell@linaro.org>
  83afa38eb20ca27e30683edc7729880e091387fc:vmware-vga: CVE-2014-3689: turn off hw accel

  Quick & easy stopgap for CVE-2014-3689:  We just compile out the
  hardware acceleration functions which lack sanity checks.  Thankfully
  we have capability bits for them (SVGA_CAP_RECT_COPY and
  SVGA_CAP_RECT_FILL), so guests should deal just fine, in theory.

  Subsequent patches will add the missing checks and re-enable the
  hardware acceleration emulation.

  Cc: qemu-stable@nongnu.org
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>
  Reviewed-by: Don Koch <dkoch@verizon.com>
  83afa38eb20ca27e30683edc7729880e091387fc:vmware-vga: CVE-2014-3689: turn off hw accel

  Quick & easy stopgap for CVE-2014-3689:  We just compile out the
  hardware acceleration functions which lack sanity checks.  Thankfully
  we have capability bits for them (SVGA_CAP_RECT_COPY and
  SVGA_CAP_RECT_FILL), so guests should deal just fine, in theory.

  Subsequent patches will add the missing checks and re-enable the
  hardware acceleration emulation.

  Cc: qemu-stable@nongnu.org
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>
  Reviewed-by: Don Koch <dkoch@verizon.com>
impacted_packages:
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 8bf7738ff2928f50c43f543554a0d08c0b132a74
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 4239e2dc018c0defdbad35d387051ca2b208889d
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 83afa38eb20ca27e30683edc7729880e091387fc
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://gitlab.com/qemu-project/qemu
    reference_type: commit
    reference_id: 91c6438caffc880e999a7312825479685d659b44
