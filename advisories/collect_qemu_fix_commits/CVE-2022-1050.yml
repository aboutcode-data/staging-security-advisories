advisory_id: CVE-2022-1050
datasource_id: collect_qemu_fix_commits/CVE-2022-1050
datasource_url: https://gitlab.com/qemu-project/qemu
aliases: []
summary: |
  a2efa1fac49b7d7d10564ef0007b2ed02e69fdf5:hw/pvrdma: Protect against buggy or malicious guest driver

  Guest driver might execute HW commands when shared buffers are not yet
  allocated.
  This could happen on purpose (malicious guest) or because of some other
  guest/host address mapping error.
  We need to protect againts such case.

  Fixes: CVE-2022-1050

  Reported-by: Raven <wxhusst@gmail.com>
  Signed-off-by: Yuval Shaia <yuval.shaia.ml@gmail.com>
  Message-Id: <20220403095234.2210-1-yuval.shaia.ml@gmail.com>
  Signed-off-by: Laurent Vivier <laurent@vivier.eu>
  (cherry picked from commit 31c4b6fb0293e359f9ef8a61892667e76eea4c99)
  Signed-off-by: Michael Tokarev <mjt@tls.msk.ru>
  31c4b6fb0293e359f9ef8a61892667e76eea4c99:hw/pvrdma: Protect against buggy or malicious guest driver

  Guest driver might execute HW commands when shared buffers are not yet
  allocated.
  This could happen on purpose (malicious guest) or because of some other
  guest/host address mapping error.
  We need to protect againts such case.

  Fixes: CVE-2022-1050

  Reported-by: Raven <wxhusst@gmail.com>
  Signed-off-by: Yuval Shaia <yuval.shaia.ml@gmail.com>
  Message-Id: <20220403095234.2210-1-yuval.shaia.ml@gmail.com>
  Signed-off-by: Laurent Vivier <laurent@vivier.eu>
impacted_packages:
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: a2efa1fac49b7d7d10564ef0007b2ed02e69fdf5
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 31c4b6fb0293e359f9ef8a61892667e76eea4c99
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://gitlab.com/qemu-project/qemu
    reference_type: commit
    reference_id: 91c6438caffc880e999a7312825479685d659b44
