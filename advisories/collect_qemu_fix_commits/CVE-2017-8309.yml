advisory_id: CVE-2017-8309
datasource_id: collect_qemu_fix_commits/CVE-2017-8309
datasource_url: https://gitlab.com/qemu-project/qemu
aliases: []
summary: |
  3c6913263555bf43963d6ee8aa30b0ce1bd89b8d:audio: release capture buffers

  AUD_add_capture() allocates two buffers which are never released.
  Add the missing calls to AUD_del_capture().

  Impact: Allows vnc clients to exhaust host memory by repeatedly
  starting and stopping audio capture.

  Fixes: CVE-2017-8309
  Cc: P J P <ppandit@redhat.com>
  Cc: Huawei PSIRT <PSIRT@huawei.com>
  Reported-by: "Jiangxin (hunter, SCC)" <jiangxin1@huawei.com>
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>
  Reviewed-by: Prasad J Pandit <pjp@fedoraproject.org>
  Message-id: 20170428075612.9997-1-kraxel@redhat.com
  (cherry picked from commit 3268a845f41253fb55852a8429c32b50f36f349a)
  Signed-off-by: Michael Roth <mdroth@linux.vnet.ibm.com>
  3268a845f41253fb55852a8429c32b50f36f349a:audio: release capture buffers

  AUD_add_capture() allocates two buffers which are never released.
  Add the missing calls to AUD_del_capture().

  Impact: Allows vnc clients to exhaust host memory by repeatedly
  starting and stopping audio capture.

  Fixes: CVE-2017-8309
  Cc: P J P <ppandit@redhat.com>
  Cc: Huawei PSIRT <PSIRT@huawei.com>
  Reported-by: "Jiangxin (hunter, SCC)" <jiangxin1@huawei.com>
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>
  Reviewed-by: Prasad J Pandit <pjp@fedoraproject.org>
  Message-id: 20170428075612.9997-1-kraxel@redhat.com
impacted_packages:
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 3c6913263555bf43963d6ee8aa30b0ce1bd89b8d
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 3268a845f41253fb55852a8429c32b50f36f349a
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://gitlab.com/qemu-project/qemu
    reference_type: commit
    reference_id: 91c6438caffc880e999a7312825479685d659b44
