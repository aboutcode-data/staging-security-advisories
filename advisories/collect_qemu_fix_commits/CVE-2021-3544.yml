advisory_id: CVE-2021-3544
datasource_id: collect_qemu_fix_commits/CVE-2021-3544
datasource_url: https://gitlab.com/qemu-project/qemu
aliases: []
summary: "07daff4a9a5f9dd6e79e3aa4a9664aee3156bd7d:vhost-user-gpu: fix memory leak in 'virgl_resource_attach_backing'\
  \ (CVE-2021-3544)\n\nIf 'virgl_renderer_resource_attach_iov' failed, the 'res_iovs' will\n\
  be leaked.\n\nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\nvirtio-gpu fix:\
  \ 33243031da (\"virtio-gpu-3d: fix memory leak\nin resource attach backing\")\n\nSigned-off-by:\
  \ Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\n\
  Message-Id: <20210516030403.107723-7-liq3ea@163.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\n\
  (cherry picked from commit 63736af5a6571d9def93769431e0d7e38c6677bf)\nSigned-off-by: Michael\
  \ Roth <michael.roth@amd.com>\n07daff4a9a5f9dd6e79e3aa4a9664aee3156bd7d:vhost-user-gpu: fix\
  \ memory leak in 'virgl_resource_attach_backing' (CVE-2021-3544)\n\nIf 'virgl_renderer_resource_attach_iov'\
  \ failed, the 'res_iovs' will\nbe leaked.\n\nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\n\
  virtio-gpu fix: 33243031da (\"virtio-gpu-3d: fix memory leak\nin resource attach backing\"\
  )\n\nSigned-off-by: Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\n\
  Message-Id: <20210516030403.107723-7-liq3ea@163.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\n\
  (cherry picked from commit 63736af5a6571d9def93769431e0d7e38c6677bf)\nSigned-off-by: Michael\
  \ Roth <michael.roth@amd.com>\n4dda63d7edea4374dd3f5ec9982c255a6ec54d37:vhost-user-gpu: fix\
  \ memory leak in 'virgl_cmd_resource_unref' (CVE-2021-3544)\n\nThe 'res->iov' will be leaked\
  \ if the guest trigger following sequences:\n\n\tvirgl_cmd_create_resource_2d\n\tvirgl_resource_attach_backing\n\
  \tvirgl_cmd_resource_unref\n\nThis patch fixes this.\n\nFixes: CVE-2021-3544\nReported-by:\
  \ Li Qiang <liq3ea@163.com>\nvirtio-gpu fix: 5e8e3c4c75 (\"virtio-gpu: fix resource leak\n\
  in virgl_cmd_resource_unref\"\n\nSigned-off-by: Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André\
  \ Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20210516030403.107723-6-liq3ea@163.com>\n\
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>\n(cherry picked from commit f6091d86ba9ea05f4e111b9b42ee0005c37a6779)\n\
  Signed-off-by: Michael Roth <michael.roth@amd.com>\n4dda63d7edea4374dd3f5ec9982c255a6ec54d37:vhost-user-gpu:\
  \ fix memory leak in 'virgl_cmd_resource_unref' (CVE-2021-3544)\n\nThe 'res->iov' will be\
  \ leaked if the guest trigger following sequences:\n\n\tvirgl_cmd_create_resource_2d\n\tvirgl_resource_attach_backing\n\
  \tvirgl_cmd_resource_unref\n\nThis patch fixes this.\n\nFixes: CVE-2021-3544\nReported-by:\
  \ Li Qiang <liq3ea@163.com>\nvirtio-gpu fix: 5e8e3c4c75 (\"virtio-gpu: fix resource leak\n\
  in virgl_cmd_resource_unref\"\n\nSigned-off-by: Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André\
  \ Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20210516030403.107723-6-liq3ea@163.com>\n\
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>\n(cherry picked from commit f6091d86ba9ea05f4e111b9b42ee0005c37a6779)\n\
  Signed-off-by: Michael Roth <michael.roth@amd.com>\n457053998df9ab77fa82360bbe3115263063e17a:vhost-user-gpu:\
  \ fix memory leak while calling 'vg_resource_unref' (CVE-2021-3544)\n\nIf the guest trigger\
  \ following sequences, the attach_backing will be leaked:\n\n\tvg_resource_create_2d\n\tvg_resource_attach_backing\n\
  \tvg_resource_unref\n\nThis patch fix this by freeing 'res->iov' in vg_resource_destroy.\n\
  \nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\nvirtio-gpu fix: 5e8e3c4c75\
  \ (\"virtio-gpu: fix resource leak\nin virgl_cmd_resource_unref\")\n\nReviewed-by: Prasad\
  \ J Pandit <pjp@fedoraproject.org>\nSigned-off-by: Li Qiang <liq3ea@163.com>\nReviewed-by:\
  \ Marc-André Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20210516030403.107723-5-liq3ea@163.com>\n\
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>\n(cherry picked from commit b7afebcf9e6ecf3cf9b5a9b9b731ed04bca6aa3e)\n\
  Signed-off-by: Michael Roth <michael.roth@amd.com>\n457053998df9ab77fa82360bbe3115263063e17a:vhost-user-gpu:\
  \ fix memory leak while calling 'vg_resource_unref' (CVE-2021-3544)\n\nIf the guest trigger\
  \ following sequences, the attach_backing will be leaked:\n\n\tvg_resource_create_2d\n\tvg_resource_attach_backing\n\
  \tvg_resource_unref\n\nThis patch fix this by freeing 'res->iov' in vg_resource_destroy.\n\
  \nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\nvirtio-gpu fix: 5e8e3c4c75\
  \ (\"virtio-gpu: fix resource leak\nin virgl_cmd_resource_unref\")\n\nReviewed-by: Prasad\
  \ J Pandit <pjp@fedoraproject.org>\nSigned-off-by: Li Qiang <liq3ea@163.com>\nReviewed-by:\
  \ Marc-André Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20210516030403.107723-5-liq3ea@163.com>\n\
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>\n(cherry picked from commit b7afebcf9e6ecf3cf9b5a9b9b731ed04bca6aa3e)\n\
  Signed-off-by: Michael Roth <michael.roth@amd.com>\n6ae68dfd10e53466e341f8330e0c8f9f10bd5d54:vhost-user-gpu:\
  \ fix memory leak in vg_resource_attach_backing (CVE-2021-3544)\n\nCheck whether the 'res'\
  \ has already been attach_backing to avoid\nmemory leak.\n\nFixes: CVE-2021-3544\nReported-by:\
  \ Li Qiang <liq3ea@163.com>\nvirtio-gpu fix: 204f01b309 (\"virtio-gpu: fix memory leak\nin\
  \ resource attach backing\")\n\nSigned-off-by: Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André\
  \ Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20210516030403.107723-4-liq3ea@163.com>\n\
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>\n(cherry picked from commit b9f79858a614d95f5de875d0ca31096eaab72c3b)\n\
  Signed-off-by: Michael Roth <michael.roth@amd.com>\n6ae68dfd10e53466e341f8330e0c8f9f10bd5d54:vhost-user-gpu:\
  \ fix memory leak in vg_resource_attach_backing (CVE-2021-3544)\n\nCheck whether the 'res'\
  \ has already been attach_backing to avoid\nmemory leak.\n\nFixes: CVE-2021-3544\nReported-by:\
  \ Li Qiang <liq3ea@163.com>\nvirtio-gpu fix: 204f01b309 (\"virtio-gpu: fix memory leak\nin\
  \ resource attach backing\")\n\nSigned-off-by: Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André\
  \ Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20210516030403.107723-4-liq3ea@163.com>\n\
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>\n(cherry picked from commit b9f79858a614d95f5de875d0ca31096eaab72c3b)\n\
  Signed-off-by: Michael Roth <michael.roth@amd.com>\nc5300b8a94105dee1c44ac49d2bb3b35412b5ae6:vhost-user-gpu:\
  \ fix resource leak in 'vg_resource_create_2d' (CVE-2021-3544)\n\nCall 'vugbm_buffer_destroy'\
  \ in error path to avoid resource leak.\n\nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\n\
  Reviewed-by: Prasad J Pandit <pjp@fedoraproject.org>\nSigned-off-by: Li Qiang <liq3ea@163.com>\n\
  Reviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20210516030403.107723-3-liq3ea@163.com>\n\
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>\n(cherry picked from commit 86dd8fac2acc366930a5dc08d3fb1b1e816f4e1e)\n\
  Signed-off-by: Michael Roth <michael.roth@amd.com>\nc5300b8a94105dee1c44ac49d2bb3b35412b5ae6:vhost-user-gpu:\
  \ fix resource leak in 'vg_resource_create_2d' (CVE-2021-3544)\n\nCall 'vugbm_buffer_destroy'\
  \ in error path to avoid resource leak.\n\nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\n\
  Reviewed-by: Prasad J Pandit <pjp@fedoraproject.org>\nSigned-off-by: Li Qiang <liq3ea@163.com>\n\
  Reviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20210516030403.107723-3-liq3ea@163.com>\n\
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>\n(cherry picked from commit 86dd8fac2acc366930a5dc08d3fb1b1e816f4e1e)\n\
  Signed-off-by: Michael Roth <michael.roth@amd.com>\nf9dc72de91d2915b808e82da34bf613afa5cce43:Merge\
  \ remote-tracking branch 'remotes/kraxel/tags/vga-20210527-pull-request' into staging\n\n\
  virtio-gpu: add blob resource support.\nvhost-user-gpu: security fixes.\n\n# gpg: Signature\
  \ made Thu 27 May 2021 15:23:25 BST\n# gpg:                using RSA key A0328CFFB93A17A79901FE7D4CB6D8EED3E87138\n\
  # gpg: Good signature from \"Gerd Hoffmann (work) <kraxel@redhat.com>\" [full]\n# gpg:   \
  \              aka \"Gerd Hoffmann <gerd@kraxel.org>\" [full]\n# gpg:                 aka\
  \ \"Gerd Hoffmann (private) <kraxel@gmail.com>\" [full]\n# Primary key fingerprint: A032 8CFF\
  \ B93A 17A7 9901  FE7D 4CB6 D8EE D3E8 7138\n\n* remotes/kraxel/tags/vga-20210527-pull-request:\
  \ (23 commits)\n  virtio-gpu: Update cursor data using blob\n  virtio-gpu: Add virtio_gpu_set_scanout_blob\n\
  \  virtio-gpu: Factor out update scanout\n  virtio-gpu: Add helpers to create and destroy\
  \ dmabuf objects\n  ui/pixman: Add qemu_pixman_to_drm_format()\n  virtio-gpu: Add virtio_gpu_resource_create_blob\n\
  \  virtio-gpu: Add initial definitions for blob resources\n  virtio-gpu: Refactor virtio_gpu_create_mapping_iov\n\
  \  virtio-gpu: Refactor virtio_gpu_set_scanout\n  virtio-gpu: Add virtio_gpu_find_check_resource\n\
  \  stubs: Add stubs for udmabuf helpers\n  virtio-gpu: Add udmabuf helpers\n  headers: Add\
  \ udmabuf.h\n  ui: Get the fd associated with udmabuf driver\n  hw/display/qxl: Set pci rom\
  \ address aligned with page size\n  vhost-user-gpu: abstract vg_cleanup_mapping_iov\n  vhost-user-gpu:\
  \ fix OOB write in 'virgl_cmd_get_capset' (CVE-2021-3546)\n  vhost-user-gpu: fix memory leak\
  \ in 'virgl_resource_attach_backing' (CVE-2021-3544)\n  vhost-user-gpu: fix memory leak in\
  \ 'virgl_cmd_resource_unref' (CVE-2021-3544)\n  vhost-user-gpu: fix memory leak while calling\
  \ 'vg_resource_unref' (CVE-2021-3544)\n  ...\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\n\
  f9dc72de91d2915b808e82da34bf613afa5cce43:Merge remote-tracking branch 'remotes/kraxel/tags/vga-20210527-pull-request'\
  \ into staging\n\nvirtio-gpu: add blob resource support.\nvhost-user-gpu: security fixes.\n\
  \n# gpg: Signature made Thu 27 May 2021 15:23:25 BST\n# gpg:                using RSA key\
  \ A0328CFFB93A17A79901FE7D4CB6D8EED3E87138\n# gpg: Good signature from \"Gerd Hoffmann (work)\
  \ <kraxel@redhat.com>\" [full]\n# gpg:                 aka \"Gerd Hoffmann <gerd@kraxel.org>\"\
  \ [full]\n# gpg:                 aka \"Gerd Hoffmann (private) <kraxel@gmail.com>\" [full]\n\
  # Primary key fingerprint: A032 8CFF B93A 17A7 9901  FE7D 4CB6 D8EE D3E8 7138\n\n* remotes/kraxel/tags/vga-20210527-pull-request:\
  \ (23 commits)\n  virtio-gpu: Update cursor data using blob\n  virtio-gpu: Add virtio_gpu_set_scanout_blob\n\
  \  virtio-gpu: Factor out update scanout\n  virtio-gpu: Add helpers to create and destroy\
  \ dmabuf objects\n  ui/pixman: Add qemu_pixman_to_drm_format()\n  virtio-gpu: Add virtio_gpu_resource_create_blob\n\
  \  virtio-gpu: Add initial definitions for blob resources\n  virtio-gpu: Refactor virtio_gpu_create_mapping_iov\n\
  \  virtio-gpu: Refactor virtio_gpu_set_scanout\n  virtio-gpu: Add virtio_gpu_find_check_resource\n\
  \  stubs: Add stubs for udmabuf helpers\n  virtio-gpu: Add udmabuf helpers\n  headers: Add\
  \ udmabuf.h\n  ui: Get the fd associated with udmabuf driver\n  hw/display/qxl: Set pci rom\
  \ address aligned with page size\n  vhost-user-gpu: abstract vg_cleanup_mapping_iov\n  vhost-user-gpu:\
  \ fix OOB write in 'virgl_cmd_get_capset' (CVE-2021-3546)\n  vhost-user-gpu: fix memory leak\
  \ in 'virgl_resource_attach_backing' (CVE-2021-3544)\n  vhost-user-gpu: fix memory leak in\
  \ 'virgl_cmd_resource_unref' (CVE-2021-3544)\n  vhost-user-gpu: fix memory leak while calling\
  \ 'vg_resource_unref' (CVE-2021-3544)\n  ...\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\n\
  f9dc72de91d2915b808e82da34bf613afa5cce43:Merge remote-tracking branch 'remotes/kraxel/tags/vga-20210527-pull-request'\
  \ into staging\n\nvirtio-gpu: add blob resource support.\nvhost-user-gpu: security fixes.\n\
  \n# gpg: Signature made Thu 27 May 2021 15:23:25 BST\n# gpg:                using RSA key\
  \ A0328CFFB93A17A79901FE7D4CB6D8EED3E87138\n# gpg: Good signature from \"Gerd Hoffmann (work)\
  \ <kraxel@redhat.com>\" [full]\n# gpg:                 aka \"Gerd Hoffmann <gerd@kraxel.org>\"\
  \ [full]\n# gpg:                 aka \"Gerd Hoffmann (private) <kraxel@gmail.com>\" [full]\n\
  # Primary key fingerprint: A032 8CFF B93A 17A7 9901  FE7D 4CB6 D8EE D3E8 7138\n\n* remotes/kraxel/tags/vga-20210527-pull-request:\
  \ (23 commits)\n  virtio-gpu: Update cursor data using blob\n  virtio-gpu: Add virtio_gpu_set_scanout_blob\n\
  \  virtio-gpu: Factor out update scanout\n  virtio-gpu: Add helpers to create and destroy\
  \ dmabuf objects\n  ui/pixman: Add qemu_pixman_to_drm_format()\n  virtio-gpu: Add virtio_gpu_resource_create_blob\n\
  \  virtio-gpu: Add initial definitions for blob resources\n  virtio-gpu: Refactor virtio_gpu_create_mapping_iov\n\
  \  virtio-gpu: Refactor virtio_gpu_set_scanout\n  virtio-gpu: Add virtio_gpu_find_check_resource\n\
  \  stubs: Add stubs for udmabuf helpers\n  virtio-gpu: Add udmabuf helpers\n  headers: Add\
  \ udmabuf.h\n  ui: Get the fd associated with udmabuf driver\n  hw/display/qxl: Set pci rom\
  \ address aligned with page size\n  vhost-user-gpu: abstract vg_cleanup_mapping_iov\n  vhost-user-gpu:\
  \ fix OOB write in 'virgl_cmd_get_capset' (CVE-2021-3546)\n  vhost-user-gpu: fix memory leak\
  \ in 'virgl_resource_attach_backing' (CVE-2021-3544)\n  vhost-user-gpu: fix memory leak in\
  \ 'virgl_cmd_resource_unref' (CVE-2021-3544)\n  vhost-user-gpu: fix memory leak while calling\
  \ 'vg_resource_unref' (CVE-2021-3544)\n  ...\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\n\
  63736af5a6571d9def93769431e0d7e38c6677bf:vhost-user-gpu: fix memory leak in 'virgl_resource_attach_backing'\
  \ (CVE-2021-3544)\n\nIf 'virgl_renderer_resource_attach_iov' failed, the 'res_iovs' will\n\
  be leaked.\n\nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\nvirtio-gpu fix:\
  \ 33243031da (\"virtio-gpu-3d: fix memory leak\nin resource attach backing\")\n\nSigned-off-by:\
  \ Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\n\
  Message-Id: <20210516030403.107723-7-liq3ea@163.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\n\
  63736af5a6571d9def93769431e0d7e38c6677bf:vhost-user-gpu: fix memory leak in 'virgl_resource_attach_backing'\
  \ (CVE-2021-3544)\n\nIf 'virgl_renderer_resource_attach_iov' failed, the 'res_iovs' will\n\
  be leaked.\n\nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\nvirtio-gpu fix:\
  \ 33243031da (\"virtio-gpu-3d: fix memory leak\nin resource attach backing\")\n\nSigned-off-by:\
  \ Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\n\
  Message-Id: <20210516030403.107723-7-liq3ea@163.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\n\
  f6091d86ba9ea05f4e111b9b42ee0005c37a6779:vhost-user-gpu: fix memory leak in 'virgl_cmd_resource_unref'\
  \ (CVE-2021-3544)\n\nThe 'res->iov' will be leaked if the guest trigger following sequences:\n\
  \n\tvirgl_cmd_create_resource_2d\n\tvirgl_resource_attach_backing\n\tvirgl_cmd_resource_unref\n\
  \nThis patch fixes this.\n\nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\n\
  virtio-gpu fix: 5e8e3c4c75 (\"virtio-gpu: fix resource leak\nin virgl_cmd_resource_unref\"\
  \n\nSigned-off-by: Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\n\
  Message-Id: <20210516030403.107723-6-liq3ea@163.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\n\
  f6091d86ba9ea05f4e111b9b42ee0005c37a6779:vhost-user-gpu: fix memory leak in 'virgl_cmd_resource_unref'\
  \ (CVE-2021-3544)\n\nThe 'res->iov' will be leaked if the guest trigger following sequences:\n\
  \n\tvirgl_cmd_create_resource_2d\n\tvirgl_resource_attach_backing\n\tvirgl_cmd_resource_unref\n\
  \nThis patch fixes this.\n\nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\n\
  virtio-gpu fix: 5e8e3c4c75 (\"virtio-gpu: fix resource leak\nin virgl_cmd_resource_unref\"\
  \n\nSigned-off-by: Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\n\
  Message-Id: <20210516030403.107723-6-liq3ea@163.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\n\
  b7afebcf9e6ecf3cf9b5a9b9b731ed04bca6aa3e:vhost-user-gpu: fix memory leak while calling 'vg_resource_unref'\
  \ (CVE-2021-3544)\n\nIf the guest trigger following sequences, the attach_backing will be\
  \ leaked:\n\n\tvg_resource_create_2d\n\tvg_resource_attach_backing\n\tvg_resource_unref\n\n\
  This patch fix this by freeing 'res->iov' in vg_resource_destroy.\n\nFixes: CVE-2021-3544\n\
  Reported-by: Li Qiang <liq3ea@163.com>\nvirtio-gpu fix: 5e8e3c4c75 (\"virtio-gpu: fix resource\
  \ leak\nin virgl_cmd_resource_unref\")\n\nReviewed-by: Prasad J Pandit <pjp@fedoraproject.org>\n\
  Signed-off-by: Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\n\
  Message-Id: <20210516030403.107723-5-liq3ea@163.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\n\
  b7afebcf9e6ecf3cf9b5a9b9b731ed04bca6aa3e:vhost-user-gpu: fix memory leak while calling 'vg_resource_unref'\
  \ (CVE-2021-3544)\n\nIf the guest trigger following sequences, the attach_backing will be\
  \ leaked:\n\n\tvg_resource_create_2d\n\tvg_resource_attach_backing\n\tvg_resource_unref\n\n\
  This patch fix this by freeing 'res->iov' in vg_resource_destroy.\n\nFixes: CVE-2021-3544\n\
  Reported-by: Li Qiang <liq3ea@163.com>\nvirtio-gpu fix: 5e8e3c4c75 (\"virtio-gpu: fix resource\
  \ leak\nin virgl_cmd_resource_unref\")\n\nReviewed-by: Prasad J Pandit <pjp@fedoraproject.org>\n\
  Signed-off-by: Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\n\
  Message-Id: <20210516030403.107723-5-liq3ea@163.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\n\
  b9f79858a614d95f5de875d0ca31096eaab72c3b:vhost-user-gpu: fix memory leak in vg_resource_attach_backing\
  \ (CVE-2021-3544)\n\nCheck whether the 'res' has already been attach_backing to avoid\nmemory\
  \ leak.\n\nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\nvirtio-gpu fix: 204f01b309\
  \ (\"virtio-gpu: fix memory leak\nin resource attach backing\")\n\nSigned-off-by: Li Qiang\
  \ <liq3ea@163.com>\nReviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\nMessage-Id:\
  \ <20210516030403.107723-4-liq3ea@163.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\n\
  b9f79858a614d95f5de875d0ca31096eaab72c3b:vhost-user-gpu: fix memory leak in vg_resource_attach_backing\
  \ (CVE-2021-3544)\n\nCheck whether the 'res' has already been attach_backing to avoid\nmemory\
  \ leak.\n\nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\nvirtio-gpu fix: 204f01b309\
  \ (\"virtio-gpu: fix memory leak\nin resource attach backing\")\n\nSigned-off-by: Li Qiang\
  \ <liq3ea@163.com>\nReviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\nMessage-Id:\
  \ <20210516030403.107723-4-liq3ea@163.com>\nSigned-off-by: Gerd Hoffmann <kraxel@redhat.com>\n\
  86dd8fac2acc366930a5dc08d3fb1b1e816f4e1e:vhost-user-gpu: fix resource leak in 'vg_resource_create_2d'\
  \ (CVE-2021-3544)\n\nCall 'vugbm_buffer_destroy' in error path to avoid resource leak.\n\n\
  Fixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\nReviewed-by: Prasad J Pandit\
  \ <pjp@fedoraproject.org>\nSigned-off-by: Li Qiang <liq3ea@163.com>\nReviewed-by: Marc-André\
  \ Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20210516030403.107723-3-liq3ea@163.com>\n\
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>\n86dd8fac2acc366930a5dc08d3fb1b1e816f4e1e:vhost-user-gpu:\
  \ fix resource leak in 'vg_resource_create_2d' (CVE-2021-3544)\n\nCall 'vugbm_buffer_destroy'\
  \ in error path to avoid resource leak.\n\nFixes: CVE-2021-3544\nReported-by: Li Qiang <liq3ea@163.com>\n\
  Reviewed-by: Prasad J Pandit <pjp@fedoraproject.org>\nSigned-off-by: Li Qiang <liq3ea@163.com>\n\
  Reviewed-by: Marc-André Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20210516030403.107723-3-liq3ea@163.com>\n\
  Signed-off-by: Gerd Hoffmann <kraxel@redhat.com>"
impacted_packages:
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: b9f79858a614d95f5de875d0ca31096eaab72c3b
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: b7afebcf9e6ecf3cf9b5a9b9b731ed04bca6aa3e
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 86dd8fac2acc366930a5dc08d3fb1b1e816f4e1e
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 07daff4a9a5f9dd6e79e3aa4a9664aee3156bd7d
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 4dda63d7edea4374dd3f5ec9982c255a6ec54d37
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 63736af5a6571d9def93769431e0d7e38c6677bf
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 457053998df9ab77fa82360bbe3115263063e17a
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: f6091d86ba9ea05f4e111b9b42ee0005c37a6779
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: c5300b8a94105dee1c44ac49d2bb3b35412b5ae6
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: f9dc72de91d2915b808e82da34bf613afa5cce43
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 6ae68dfd10e53466e341f8330e0c8f9f10bd5d54
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://gitlab.com/qemu-project/qemu
    reference_type: commit
    reference_id: 91c6438caffc880e999a7312825479685d659b44
