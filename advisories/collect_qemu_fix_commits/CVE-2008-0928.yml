advisory_id: CVE-2008-0928
datasource_id: collect_qemu_fix_commits/CVE-2008-0928
datasource_url: https://gitlab.com/qemu-project/qemu
aliases: []
summary: |
  71d0770c4cec9f1dc04f4dadcbf7fd6c335030a9:Fix CVE-2008-0928 - insufficient block device address range checking (Anthony Liguori)

  Introduce a growable flag that's set by bdrv_file_open().  Block devices should
  never be growable, only files that are being used by block devices.

  I went through Fabrice's early comments about the patch that was first applied.
  While I disagree with that patch, I also disagree with Fabrice's suggestion.

  There's no good reason to do the checks in the block drivers themselves.  It
  just increases the possibility that this bug could show up again.  Since we're
  calling bdrv_getlength() to determine the length, we're giving the block drivers
  a chance to chime in and let us know what range is valid.

  Basically, this patch makes the BlockDriver API guarantee that all requests are
  within 0..bdrv_getlength() which to me seems like a Good Thing.

  What do others think?

  Signed-off-by: Anthony Liguori <aliguori@us.ibm.com>
  Signed-off-by: Anthony Liguori <aliguori@us.ibm.com>


  git-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@6677 c046a42c-6fe2-441c-8c8c-71466251a162
  b5eff355460643d09e533024360fe0522f368c07:Revert fix for CVE-2008-0928. Will be fixed in a different way later.


  git-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4041 c046a42c-6fe2-441c-8c8c-71466251a162
  902b27d0b8d5bfa840eaf389d7cbcc28b57e3fbe:Fix CVE-2008-0928 - insufficient block device address range checking

  Qemu 0.9.1 and earlier does not perform range checks for block device
  read or write requests, which allows guest host users with root
  privileges to access arbitrary memory and escape the virtual machine.


  git-svn-id: svn://svn.savannah.nongnu.org/qemu/trunk@4037 c046a42c-6fe2-441c-8c8c-71466251a162
impacted_packages:
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 71d0770c4cec9f1dc04f4dadcbf7fd6c335030a9
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: b5eff355460643d09e533024360fe0522f368c07
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 902b27d0b8d5bfa840eaf389d7cbcc28b57e3fbe
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://gitlab.com/qemu-project/qemu
    reference_type: commit
    reference_id: 91c6438caffc880e999a7312825479685d659b44
