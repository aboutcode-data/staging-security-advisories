advisory_id: CVE-2021-3607
datasource_id: collect_qemu_fix_commits/CVE-2021-3607
datasource_url: https://gitlab.com/qemu-project/qemu
aliases: []
summary: |
  46d3c9e9f5b067a784f24a40134ed9a97e145094:pvrdma: Ensure correct input on ring init (CVE-2021-3607)

  Check the guest passed a non zero page count
  for pvrdma device ring buffers.

  Fixes: CVE-2021-3607
  Reported-by: VictorV (Kunlun Lab) <vv474172261@gmail.com>
  Reviewed-by: VictorV (Kunlun Lab) <vv474172261@gmail.com>
  Signed-off-by: Marcel Apfelbaum <marcel@redhat.com>
  Message-Id: <20210630114634.2168872-1-marcel@redhat.com>
  Reviewed-by: Yuval Shaia <yuval.shaia.ml@gmail.com>
  Tested-by: Yuval Shaia <yuval.shaia.ml@gmail.com>
  Signed-off-by: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>
  (cherry picked from commit 32e5703cfea07c91e6e84bcb0313f633bb146534)
  Signed-off-by: Michael Roth <michael.roth@amd.com>
  46d3c9e9f5b067a784f24a40134ed9a97e145094:pvrdma: Ensure correct input on ring init (CVE-2021-3607)

  Check the guest passed a non zero page count
  for pvrdma device ring buffers.

  Fixes: CVE-2021-3607
  Reported-by: VictorV (Kunlun Lab) <vv474172261@gmail.com>
  Reviewed-by: VictorV (Kunlun Lab) <vv474172261@gmail.com>
  Signed-off-by: Marcel Apfelbaum <marcel@redhat.com>
  Message-Id: <20210630114634.2168872-1-marcel@redhat.com>
  Reviewed-by: Yuval Shaia <yuval.shaia.ml@gmail.com>
  Tested-by: Yuval Shaia <yuval.shaia.ml@gmail.com>
  Signed-off-by: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>
  (cherry picked from commit 32e5703cfea07c91e6e84bcb0313f633bb146534)
  Signed-off-by: Michael Roth <michael.roth@amd.com>
  4fb2820854a796ab75ffb2ec896b67268281ecde:Merge remote-tracking branch 'remotes/marcel/tags/pvrdma-04-07-2021-v2' into staging

  PVRDMA queue

  Several CVE fixes for the PVRDMA device.

  # gpg: Signature made Sun 04 Jul 2021 20:56:05 BST
  # gpg:                using RSA key 36D4C0F0CF2FE46D
  # gpg: Good signature from "Marcel Apfelbaum <marcel.apfelbaum@zoho.com>" [marginal]
  # gpg:                 aka "Marcel Apfelbaum <marcel@redhat.com>" [marginal]
  # gpg:                 aka "Marcel Apfelbaum <marcel.apfelbaum@gmail.com>" [marginal]
  # gpg: WARNING: This key is not certified with sufficiently trusted signatures!
  # gpg:          It is not certain that the signature belongs to the owner.
  # Primary key fingerprint: B1C6 3A57 F92E 08F2 640F  31F5 36D4 C0F0 CF2F E46D

  * remotes/marcel/tags/pvrdma-04-07-2021-v2:
    pvrdma: Fix the ring init error flow (CVE-2021-3608)
    pvrdma: Ensure correct input on ring init (CVE-2021-3607)
    hw/rdma: Fix possible mremap overflow in the pvrdma device (CVE-2021-3582)

  Signed-off-by: Peter Maydell <peter.maydell@linaro.org>
  32e5703cfea07c91e6e84bcb0313f633bb146534:pvrdma: Ensure correct input on ring init (CVE-2021-3607)

  Check the guest passed a non zero page count
  for pvrdma device ring buffers.

  Fixes: CVE-2021-3607
  Reported-by: VictorV (Kunlun Lab) <vv474172261@gmail.com>
  Reviewed-by: VictorV (Kunlun Lab) <vv474172261@gmail.com>
  Signed-off-by: Marcel Apfelbaum <marcel@redhat.com>
  Message-Id: <20210630114634.2168872-1-marcel@redhat.com>
  Reviewed-by: Yuval Shaia <yuval.shaia.ml@gmail.com>
  Tested-by: Yuval Shaia <yuval.shaia.ml@gmail.com>
  Signed-off-by: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>
  32e5703cfea07c91e6e84bcb0313f633bb146534:pvrdma: Ensure correct input on ring init (CVE-2021-3607)

  Check the guest passed a non zero page count
  for pvrdma device ring buffers.

  Fixes: CVE-2021-3607
  Reported-by: VictorV (Kunlun Lab) <vv474172261@gmail.com>
  Reviewed-by: VictorV (Kunlun Lab) <vv474172261@gmail.com>
  Signed-off-by: Marcel Apfelbaum <marcel@redhat.com>
  Message-Id: <20210630114634.2168872-1-marcel@redhat.com>
  Reviewed-by: Yuval Shaia <yuval.shaia.ml@gmail.com>
  Tested-by: Yuval Shaia <yuval.shaia.ml@gmail.com>
  Signed-off-by: Marcel Apfelbaum <marcel.apfelbaum@gmail.com>
impacted_packages:
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 32e5703cfea07c91e6e84bcb0313f633bb146534
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 4fb2820854a796ab75ffb2ec896b67268281ecde
    introduced_in_commits: []
  - purl: pkg:gitlab/qemu-project/qemu
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://gitlab.com/qemu-project/qemu
        commit: 46d3c9e9f5b067a784f24a40134ed9a97e145094
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://gitlab.com/qemu-project/qemu
    reference_type: commit
    reference_id: 91c6438caffc880e999a7312825479685d659b44
