advisory_id: CVE-2023-44487
datasource_id: collect_containerd_fix_commits/CVE-2023-44487
datasource_url: https://github.com/containerd/containerd
aliases: []
summary: |
  fb5568608079ed772381c52297e474c9f951d285:vendor: golang.org/x/net v0.17.0

  full diff: https://github.com/golang/text/compare/v0.13.0...v0.17.0

  This fixes the same CVE as go1.21.3 and go1.20.10;

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  (cherry picked from commit f7c9e99)
  Signed-off-by: Kern Walster <walster@amazon.com>
  6741f819bfe4e8da485af2d0e1c7b134b40543b2:[release/1.6] update to go1.20.10, test go1.21.3

  go1.20.10 (released 2023-10-10) includes a security fix to the net/http package.
  See the Go 1.20.10 milestone on our issue tracker for details:

  https://github.com/golang/go/issues?q=milestone%3AGo1.20.10+label%3ACherryPickApproved

  full diff: https://github.com/golang/go/compare/go1.20.9...go1.20.10

  From the security mailing:

  [security] Go 1.21.3 and Go 1.20.10 are released

  Hello gophers,

  We have just released Go versions 1.21.3 and 1.20.10, minor point releases.

  These minor releases include 1 security fixes following the security policy:

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  c67a5319050614a947c9e5c133e44164e487a223:vendor: golang.org/x/net v0.17.0

  full diff: https://github.com/golang/text/compare/v0.13.0...v0.17.0

  This fixes the same CVE as go1.21.3 and go1.20.10;

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  (cherry picked from commit f7c9e99422f208f29c68121a1030aeae160418db)
  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  2479c332173014f3086d9b016214c536a7c03f39:[release/1.7] update to go1.20.10, test go1.21.3

  go1.20.10 (released 2023-10-10) includes a security fix to the net/http package.
  See the Go 1.20.10 milestone on our issue tracker for details:

  https://github.com/golang/go/issues?q=milestone%3AGo1.20.10+label%3ACherryPickApproved

  full diff: https://github.com/golang/go/compare/go1.20.9...go1.20.10

  From the security mailing:

  [security] Go 1.21.3 and Go 1.20.10 are released

  Hello gophers,

  We have just released Go versions 1.21.3 and 1.20.10, minor point releases.

  These minor releases include 1 security fixes following the security policy:

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  f7c9e99422f208f29c68121a1030aeae160418db:vendor: golang.org/x/net v0.17.0

  full diff: https://github.com/golang/text/compare/v0.13.0...v0.17.0

  This fixes the same CVE as go1.21.3 and go1.20.10;

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  26736d6e1af5f45386ae9382a6a951aee33c9ca7:vendor: google.golang.org/grpc v1.56.3

  server: prohibit more than MaxConcurrentStreams handlers from running at once
  (CVE-2023-44487).

  In addition to this change, applications should ensure they do not leave running
  tasks behind related to the RPC before returning from method handlers, or should
  enforce appropriate limits on any such work.

  - https://github.com/grpc/grpc-go/compare/v1.53.0...v1.56.3
  - https://github.com/googleapis/go-genproto/compare/7f2fa6fef1f4...daa745c078e1

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  39b168cdb7219bc67ab0ab80d99f76f040eb9c61:vendor: google.golang.org/grpc v1.57.1

  server: prohibit more than MaxConcurrentStreams handlers from running at once
  (CVE-2023-44487).

  In addition to this change, applications should ensure they do not leave running
  tasks behind related to the RPC before returning from method handlers, or should
  enforce appropriate limits on any such work.

  - https://github.com/grpc/grpc-go/compare/v1.57.0...v1.57.1

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  313f514fdd1c3754136ebe7ca85abce0f7f4fcf5:update to go1.21.3. gp1.20.10

  go1.21.3 (released 2023-10-10) includes a security fix to the net/http package.
  See the Go 1.21.3 milestone on our issue tracker for details:

  https://github.com/golang/go/issues?q=milestone%3AGo1.21.3+label%3ACherryPickApproved

  full diff: https://github.com/golang/go/compare/go1.21.2...go1.21.3

  From the security mailing:

  [security] Go 1.21.3 and Go 1.20.10 are released

  Hello gophers,

  We have just released Go versions 1.21.3 and 1.20.10, minor point releases.

  These minor releases include 1 security fixes following the security policy:

  - net/http: rapid stream resets can cause excessive work

    A malicious HTTP/2 client which rapidly creates requests and
    immediately resets them can cause excessive server resource consumption.
    While the total number of requests is bounded to the
    http2.Server.MaxConcurrentStreams setting, resetting an in-progress
    request allows the attacker to create a new request while the existing
    one is still executing.

    HTTP/2 servers now bound the number of simultaneously executing
    handler goroutines to the stream concurrency limit. New requests
    arriving when at the limit (which can only happen after the client
    has reset an existing, in-flight request) will be queued until a
    handler exits. If the request queue grows too large, the server
    will terminate the connection.

    This issue is also fixed in golang.org/x/net/http2 v0.17.0,
    for users manually configuring HTTP/2.

    The default stream concurrency limit is 250 streams (requests)
    per HTTP/2 connection. This value may be adjusted using the
    golang.org/x/net/http2 package; see the Server.MaxConcurrentStreams
    setting and the ConfigureServer function.

    This is CVE-2023-39325 and Go issue https://go.dev/issue/63417.
    This is also tracked by CVE-2023-44487.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
impacted_packages:
  - purl: pkg:github/containerd/containerd
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/containerd/containerd
        commit: 6741f819bfe4e8da485af2d0e1c7b134b40543b2
    introduced_in_commits: []
  - purl: pkg:github/containerd/containerd
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/containerd/containerd
        commit: 313f514fdd1c3754136ebe7ca85abce0f7f4fcf5
    introduced_in_commits: []
  - purl: pkg:github/containerd/containerd
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/containerd/containerd
        commit: 39b168cdb7219bc67ab0ab80d99f76f040eb9c61
    introduced_in_commits: []
  - purl: pkg:github/containerd/containerd
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/containerd/containerd
        commit: f7c9e99422f208f29c68121a1030aeae160418db
    introduced_in_commits: []
  - purl: pkg:github/containerd/containerd
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/containerd/containerd
        commit: c67a5319050614a947c9e5c133e44164e487a223
    introduced_in_commits: []
  - purl: pkg:github/containerd/containerd
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/containerd/containerd
        commit: 26736d6e1af5f45386ae9382a6a951aee33c9ca7
    introduced_in_commits: []
  - purl: pkg:github/containerd/containerd
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/containerd/containerd
        commit: 2479c332173014f3086d9b016214c536a7c03f39
    introduced_in_commits: []
  - purl: pkg:github/containerd/containerd
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/containerd/containerd
        commit: fb5568608079ed772381c52297e474c9f951d285
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/containerd/containerd/tree/2479c332173014f3086d9b016214c536a7c03f39
    reference_type: commit
    reference_id: 2479c332173014f3086d9b016214c536a7c03f39
  - url: https://github.com/containerd/containerd/tree/26736d6e1af5f45386ae9382a6a951aee33c9ca7
    reference_type: commit
    reference_id: 26736d6e1af5f45386ae9382a6a951aee33c9ca7
  - url: https://github.com/containerd/containerd/tree/313f514fdd1c3754136ebe7ca85abce0f7f4fcf5
    reference_type: commit
    reference_id: 313f514fdd1c3754136ebe7ca85abce0f7f4fcf5
  - url: https://github.com/containerd/containerd/tree/39b168cdb7219bc67ab0ab80d99f76f040eb9c61
    reference_type: commit
    reference_id: 39b168cdb7219bc67ab0ab80d99f76f040eb9c61
  - url: https://github.com/containerd/containerd/tree/6741f819bfe4e8da485af2d0e1c7b134b40543b2
    reference_type: commit
    reference_id: 6741f819bfe4e8da485af2d0e1c7b134b40543b2
  - url: https://github.com/containerd/containerd/tree/c67a5319050614a947c9e5c133e44164e487a223
    reference_type: commit
    reference_id: c67a5319050614a947c9e5c133e44164e487a223
  - url: https://github.com/containerd/containerd/tree/f7c9e99422f208f29c68121a1030aeae160418db
    reference_type: commit
    reference_id: f7c9e99422f208f29c68121a1030aeae160418db
  - url: https://github.com/containerd/containerd/tree/fb5568608079ed772381c52297e474c9f951d285
    reference_type: commit
    reference_id: fb5568608079ed772381c52297e474c9f951d285
