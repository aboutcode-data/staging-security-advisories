advisory_id: CVE-2024-24786
datasource_id: collect_containerd_fix_commits/CVE-2024-24786
datasource_url: https://github.com/containerd/containerd
aliases: []
summary: |
  e6d91d843fcc26c04e0d33144211aef965f79295:vendor: github.com/golang/protobuf v1.5.4

  commit 10c7f03b3b42dd36a421bca5f436a8da6def83dc updated google.golang.org/protobuf
  to v1.33.0, which addresses CVE-2024-24786, however a follow-up post on the
  Golang security list issued a warning that the v1.33.0 update introduced a
  breaking change, causing compatibility with github.com/golang/protobuf to be
  broken;

  > A small correction: This vulnerability applies when the UnmarshalOptions.DiscardUnknown
  > option is set (as well as when unmarshaling into any message which contains a
  > google.protobuf.Any). There is no UnmarshalUnknown option.
  >
  > In addition, version 1.33.0 of google.golang.org/protobuf inadvertently
  > introduced an incompatibility with the older github.com/golang/protobuf
  > module. (https://github.com/golang/protobuf/issues/1596) Users of the older
  > module should update to github.com/golang/protobuf@v1.5.4.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  (cherry picked from commit 45e425cccee2a6461fccf5f76a135c6ca01cbf9c)
  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  2dbb59b5af8b373085c2dcb272a78d586eeb6bfc:vendor: github.com/golang/protobuf v1.5.4

  commit 10c7f03b3b42dd36a421bca5f436a8da6def83dc updated google.golang.org/protobuf
  to v1.33.0, which addresses CVE-2024-24786, however a follow-up post on the
  Golang security list issued a warning that the v1.33.0 update introduced a
  breaking change, causing compatibility with github.com/golang/protobuf to be
  broken;

  > A small correction: This vulnerability applies when the UnmarshalOptions.DiscardUnknown
  > option is set (as well as when unmarshaling into any message which contains a
  > google.protobuf.Any). There is no UnmarshalUnknown option.
  >
  > In addition, version 1.33.0 of google.golang.org/protobuf inadvertently
  > introduced an incompatibility with the older github.com/golang/protobuf
  > module. (https://github.com/golang/protobuf/issues/1596) Users of the older
  > module should update to github.com/golang/protobuf@v1.5.4.

  Containerd itself does not appear to be using this code, but consumers may be,
  so update the github.com/golang/protobuf to restore compatibility.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  (cherry picked from commit 45e425cccee2a6461fccf5f76a135c6ca01cbf9c)
  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
  45e425cccee2a6461fccf5f76a135c6ca01cbf9c:vendor: github.com/golang/protobuf v1.5.4

  commit 10c7f03b3b42dd36a421bca5f436a8da6def83dc updated google.golang.org/protobuf
  to v1.33.0, which addresses CVE-2024-24786, however a follow-up post on the
  Golang security list issued a warning that the v1.33.0 update introduced a
  breaking change, causing compatibility with github.com/golang/protobuf to be
  broken;

  > A small correction: This vulnerability applies when the UnmarshalOptions.DiscardUnknown
  > option is set (as well as when unmarshaling into any message which contains a
  > google.protobuf.Any). There is no UnmarshalUnknown option.
  >
  > In addition, version 1.33.0 of google.golang.org/protobuf inadvertently
  > introduced an incompatibility with the older github.com/golang/protobuf
  > module. (https://github.com/golang/protobuf/issues/1596) Users of the older
  > module should update to github.com/golang/protobuf@v1.5.4.

  Containerd itself does not appear to be using this code, but consumers may be,
  so update the github.com/golang/protobuf to restore compatibility.

  Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
impacted_packages:
  - purl: pkg:github/containerd/containerd
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/containerd/containerd
        commit: 2dbb59b5af8b373085c2dcb272a78d586eeb6bfc
    introduced_in_commits: []
  - purl: pkg:github/containerd/containerd
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/containerd/containerd
        commit: e6d91d843fcc26c04e0d33144211aef965f79295
    introduced_in_commits: []
  - purl: pkg:github/containerd/containerd
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/containerd/containerd
        commit: 45e425cccee2a6461fccf5f76a135c6ca01cbf9c
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/containerd/containerd/tree/2dbb59b5af8b373085c2dcb272a78d586eeb6bfc
    reference_type: commit
    reference_id: 2dbb59b5af8b373085c2dcb272a78d586eeb6bfc
  - url: https://github.com/containerd/containerd/tree/45e425cccee2a6461fccf5f76a135c6ca01cbf9c
    reference_type: commit
    reference_id: 45e425cccee2a6461fccf5f76a135c6ca01cbf9c
  - url: https://github.com/containerd/containerd/tree/e6d91d843fcc26c04e0d33144211aef965f79295
    reference_type: commit
    reference_id: e6d91d843fcc26c04e0d33144211aef965f79295
