advisory_id: OSV-2022-327
datasource_id: oss_fuzz_importer_v2/OSV-2022-327
datasource_url: https://github.com/google/oss-fuzz-vulns/blob/main/vulns/qt/OSV-2022-327.yaml
aliases: []
summary: |
  Stack-use-after-return in QSemaphore::release
  OSS-Fuzz report: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=46525

  The issue already existed before oss-fuzz could reproduce it. oss-fuzz found
  it after qdrawhelper routines were made multithreaded. There might be ways to
  trigger the issue before that.

  ```
  Crash type: Stack-use-after-return WRITE 8
  Crash state:
  QSemaphore::release
  std::__1::__function::__func<void handleSpans<BlendSrcGeneric>
  FunctionRunnable::run
  ```
impacted_packages: []
severities: []
weaknesses: []
references:
  - url: https://bugreports.qt.io/browse/QTBUG-102484
    reference_type:
    reference_id:
  - url: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=46525
    reference_type:
    reference_id:
  - url: https://codereview.qt-project.org/c/qt/qtbase/+/405857
    reference_type:
    reference_id:
  - url: https://codereview.qt-project.org/c/qt/qtbase/+/406260
    reference_type:
    reference_id:
  - url: https://codereview.qt-project.org/c/qt/qtbase/+/406261
    reference_type:
    reference_id:
  - url: git://code.qt.io/qt/qtbase.git
    reference_type: commit
    reference_id: da5a55e034c74a42485358cf704e75467a62696e
