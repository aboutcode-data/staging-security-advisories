advisory_id: PYSEC-2021-556
datasource_id: pypa_importer_v2/PYSEC-2021-556
datasource_url: https://github.com/pypa/advisory-database/blob/main/vulns/tensorflow-cpu/PYSEC-2021-556.yaml
aliases:
  - CVE-2021-37643
  - GHSA-fcwc-p4fc-c5cc
summary: TensorFlow is an end-to-end open source platform for machine learning. If a user does
  not provide a valid padding value to `tf.raw_ops.MatrixDiagPartOp`, then the code triggers
  a null pointer dereference (if input is empty) or produces invalid behavior, ignoring all
  values after the first. The [implementation](https://github.com/tensorflow/tensorflow/blob/8d72537c6abf5a44103b57b9c2e22c14f5f49698/tensorflow/core/kernels/linalg/matrix_diag_op.cc#L89)
  reads the first value from a tensor buffer without first checking that the tensor has values
  to read from. We have patched the issue in GitHub commit 482da92095c4d48f8784b1f00dda4f81c28d2988.
  The fix will be included in TensorFlow 2.6.0. We will also cherrypick this commit on TensorFlow
  2.5.1, TensorFlow 2.4.3, and TensorFlow 2.3.4, as these are also affected and still in supported
  range.
impacted_packages:
  - purl: pkg:pypi/tensorflow-cpu
    affected_versions: vers:pypi/2.3.0|2.3.1|2.3.2|2.3.3|2.4.0|2.4.1|2.4.2
    fixed_versions: vers:pypi/2.3.4|2.4.3
    fixed_in_commits:
      - vcs_url: https://github.com/tensorflow/tensorflow
        commit: 482da92095c4d48f8784b1f00dda4f81c28d2988
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/tensorflow/tensorflow/commit/482da92095c4d48f8784b1f00dda4f81c28d2988
    reference_type:
    reference_id:
  - url: https://github.com/tensorflow/tensorflow/security/advisories/GHSA-fcwc-p4fc-c5cc
    reference_type:
    reference_id:
