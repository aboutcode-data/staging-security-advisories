advisory_id: CVE-2018-1052
datasource_id: collect_postgresql_fix_commits/CVE-2018-1052
datasource_url: https://github.com/postgres/postgres
aliases: []
summary: |
  7ac0069fb880b9b64223f104058c82773321851c:A small tweak to some comments for PartitionKeyData

  It was not really that obvious that there's meant to be exactly 1 item
  in the partexprs List for each zero-valued partattrs element.  Some
  incorrect code using these fields was the cause of CVE-2018-1052, so
  it's worthwhile to mention how they should be used in the comments.

  Author: David Rowley <david.rowley@2ndquadrant.com>
  01b2db1cd6673a94cc5249aa25b34e7d98535c11:Last-minute updates for release notes.

  Security: CVE-2018-1052, CVE-2018-1053
  9a12ac37be9683da09c3dc33d0ee43728ca49517:Last-minute updates for release notes.

  Security: CVE-2018-1052, CVE-2018-1053
  2a08ab38d33021d92d8ee31d9e386da63c39424d:Last-minute updates for release notes.

  Security: CVE-2018-1052, CVE-2018-1053
  0ba3e3ec8166907df835895279bb9b832f6ae348:Last-minute updates for release notes.

  Security: CVE-2018-1052, CVE-2018-1053
  cbe0dd581e7c7a815f6df6d849449225c902b17c:Last-minute updates for release notes.

  Security: CVE-2018-1052, CVE-2018-1053
  1eb5d43beed9d8cdc61377867f0a53eb2cfba0c4:Last-minute updates for release notes.

  Security: CVE-2018-1052, CVE-2018-1053
  3492a0af0bd37e7f23e27fd3f5537f414ee9ab9b:Fix RelationBuildPartitionKey's processing of partition key expressions.

  Failure to advance the list pointer while reading partition expressions
  from a list results in invoking an input function with inappropriate data,
  possibly leading to crashes or, with carefully crafted input, disclosure
  of arbitrary backend memory.

  Bug discovered independently by Álvaro Herrera and David Rowley.
  This patch is by Álvaro but owes something to David's proposed fix.
  Back-patch to v10 where the issue was introduced.

  Security: CVE-2018-1052
  fe921a360a4858f537c99d1872d3c3a5a09d6df0:Fix RelationBuildPartitionKey's processing of partition key expressions.

  Failure to advance the list pointer while reading partition expressions
  from a list results in invoking an input function with inappropriate data,
  possibly leading to crashes or, with carefully crafted input, disclosure
  of arbitrary backend memory.

  Bug discovered independently by Álvaro Herrera and David Rowley.
  This patch is by Álvaro but owes something to David's proposed fix.
  Back-patch to v10 where the issue was introduced.

  Security: CVE-2018-1052
impacted_packages:
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 0ba3e3ec8166907df835895279bb9b832f6ae348
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 3492a0af0bd37e7f23e27fd3f5537f414ee9ab9b
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 1eb5d43beed9d8cdc61377867f0a53eb2cfba0c4
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 7ac0069fb880b9b64223f104058c82773321851c
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: fe921a360a4858f537c99d1872d3c3a5a09d6df0
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 01b2db1cd6673a94cc5249aa25b34e7d98535c11
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: cbe0dd581e7c7a815f6df6d849449225c902b17c
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 9a12ac37be9683da09c3dc33d0ee43728ca49517
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 2a08ab38d33021d92d8ee31d9e386da63c39424d
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/postgres/postgres/tree/01b2db1cd6673a94cc5249aa25b34e7d98535c11
    reference_type: commit
    reference_id: 01b2db1cd6673a94cc5249aa25b34e7d98535c11
  - url: https://github.com/postgres/postgres/tree/0ba3e3ec8166907df835895279bb9b832f6ae348
    reference_type: commit
    reference_id: 0ba3e3ec8166907df835895279bb9b832f6ae348
  - url: https://github.com/postgres/postgres/tree/1eb5d43beed9d8cdc61377867f0a53eb2cfba0c4
    reference_type: commit
    reference_id: 1eb5d43beed9d8cdc61377867f0a53eb2cfba0c4
  - url: https://github.com/postgres/postgres/tree/2a08ab38d33021d92d8ee31d9e386da63c39424d
    reference_type: commit
    reference_id: 2a08ab38d33021d92d8ee31d9e386da63c39424d
  - url: https://github.com/postgres/postgres/tree/3492a0af0bd37e7f23e27fd3f5537f414ee9ab9b
    reference_type: commit
    reference_id: 3492a0af0bd37e7f23e27fd3f5537f414ee9ab9b
  - url: https://github.com/postgres/postgres/tree/7ac0069fb880b9b64223f104058c82773321851c
    reference_type: commit
    reference_id: 7ac0069fb880b9b64223f104058c82773321851c
  - url: https://github.com/postgres/postgres/tree/9a12ac37be9683da09c3dc33d0ee43728ca49517
    reference_type: commit
    reference_id: 9a12ac37be9683da09c3dc33d0ee43728ca49517
  - url: https://github.com/postgres/postgres/tree/cbe0dd581e7c7a815f6df6d849449225c902b17c
    reference_type: commit
    reference_id: cbe0dd581e7c7a815f6df6d849449225c902b17c
  - url: https://github.com/postgres/postgres/tree/fe921a360a4858f537c99d1872d3c3a5a09d6df0
    reference_type: commit
    reference_id: fe921a360a4858f537c99d1872d3c3a5a09d6df0
