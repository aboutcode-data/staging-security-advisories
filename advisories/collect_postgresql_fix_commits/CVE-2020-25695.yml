advisory_id: CVE-2020-25695
datasource_id: collect_postgresql_fix_commits/CVE-2020-25695
datasource_url: https://github.com/postgres/postgres
aliases: []
summary: |
  d43ba1d84ccb74fd394c01ff23b033b26ab154c0:Last-minute updates for release notes.

  Security: CVE-2020-25694, CVE-2020-25695, CVE-2020-25696
  0425151233e018edfc03d2c3fe38f94ef3a67e77:Last-minute updates for release notes.

  Security: CVE-2020-25694, CVE-2020-25695, CVE-2020-25696
  b0529799960e910c4cf1e3d5509572dc8c653d67:Last-minute updates for release notes.

  Security: CVE-2020-25694, CVE-2020-25695, CVE-2020-25696
  cb2fffe0d627d3437737ab5293c435b302f6bccf:Last-minute updates for release notes.

  Security: CVE-2020-25694, CVE-2020-25695, CVE-2020-25696
  0b59df670bd15065a87d1d9c216c3787839937fe:Last-minute updates for release notes.

  Security: CVE-2020-25694, CVE-2020-25695, CVE-2020-25696
  90cf59c8c8c66c8b0b4c719b6f7ba8fce60b87e1:Last-minute updates for release notes.

  Security: CVE-2020-25694, CVE-2020-25695, CVE-2020-25696
  aefc625dedae52073e7d279feb43f6255f992ea7:In security-restricted operations, block enqueue of at-commit user code.

  Specifically, this blocks DECLARE ... WITH HOLD and firing of deferred
  triggers within index expressions and materialized view queries.  An
  attacker having permission to create non-temp objects in at least one
  schema could execute arbitrary SQL functions under the identity of the
  bootstrap superuser.  One can work around the vulnerability by disabling
  autovacuum and not manually running ANALYZE, CLUSTER, REINDEX, CREATE
  INDEX, VACUUM FULL, or REFRESH MATERIALIZED VIEW.  (Don't restore from
  pg_dump, since it runs some of those commands.)  Plain VACUUM (without
  FULL) is safe, and all commands are fine when a trusted user owns the
  target object.  Performance may degrade quickly under this workaround,
  however.  Back-patch to 9.5 (all supported versions).

  Reviewed by Robert Haas.  Reported by Etienne Stalmans.

  Security: CVE-2020-25695
  ff3de4c21a462f2da773848c53faedac88d6e54d:In security-restricted operations, block enqueue of at-commit user code.

  Specifically, this blocks DECLARE ... WITH HOLD and firing of deferred
  triggers within index expressions and materialized view queries.  An
  attacker having permission to create non-temp objects in at least one
  schema could execute arbitrary SQL functions under the identity of the
  bootstrap superuser.  One can work around the vulnerability by disabling
  autovacuum and not manually running ANALYZE, CLUSTER, REINDEX, CREATE
  INDEX, VACUUM FULL, or REFRESH MATERIALIZED VIEW.  (Don't restore from
  pg_dump, since it runs some of those commands.)  Plain VACUUM (without
  FULL) is safe, and all commands are fine when a trusted user owns the
  target object.  Performance may degrade quickly under this workaround,
  however.  Back-patch to 9.5 (all supported versions).

  Reviewed by Robert Haas.  Reported by Etienne Stalmans.

  Security: CVE-2020-25695
  f97ecea1ed7b09c6f1398540a1d72a57eee70c9f:In security-restricted operations, block enqueue of at-commit user code.

  Specifically, this blocks DECLARE ... WITH HOLD and firing of deferred
  triggers within index expressions and materialized view queries.  An
  attacker having permission to create non-temp objects in at least one
  schema could execute arbitrary SQL functions under the identity of the
  bootstrap superuser.  One can work around the vulnerability by disabling
  autovacuum and not manually running ANALYZE, CLUSTER, REINDEX, CREATE
  INDEX, VACUUM FULL, or REFRESH MATERIALIZED VIEW.  (Don't restore from
  pg_dump, since it runs some of those commands.)  Plain VACUUM (without
  FULL) is safe, and all commands are fine when a trusted user owns the
  target object.  Performance may degrade quickly under this workaround,
  however.  Back-patch to 9.5 (all supported versions).

  Reviewed by Robert Haas.  Reported by Etienne Stalmans.

  Security: CVE-2020-25695
  43ebfea5a988582e9edc752cb1e22e929edac03b:In security-restricted operations, block enqueue of at-commit user code.

  Specifically, this blocks DECLARE ... WITH HOLD and firing of deferred
  triggers within index expressions and materialized view queries.  An
  attacker having permission to create non-temp objects in at least one
  schema could execute arbitrary SQL functions under the identity of the
  bootstrap superuser.  One can work around the vulnerability by disabling
  autovacuum and not manually running ANALYZE, CLUSTER, REINDEX, CREATE
  INDEX, VACUUM FULL, or REFRESH MATERIALIZED VIEW.  (Don't restore from
  pg_dump, since it runs some of those commands.)  Plain VACUUM (without
  FULL) is safe, and all commands are fine when a trusted user owns the
  target object.  Performance may degrade quickly under this workaround,
  however.  Back-patch to 9.5 (all supported versions).

  Reviewed by Robert Haas.  Reported by Etienne Stalmans.

  Security: CVE-2020-25695
  ac8f6243cb002f3386322fb231a0c5daa637941d:In security-restricted operations, block enqueue of at-commit user code.

  Specifically, this blocks DECLARE ... WITH HOLD and firing of deferred
  triggers within index expressions and materialized view queries.  An
  attacker having permission to create non-temp objects in at least one
  schema could execute arbitrary SQL functions under the identity of the
  bootstrap superuser.  One can work around the vulnerability by disabling
  autovacuum and not manually running ANALYZE, CLUSTER, REINDEX, CREATE
  INDEX, VACUUM FULL, or REFRESH MATERIALIZED VIEW.  (Don't restore from
  pg_dump, since it runs some of those commands.)  Plain VACUUM (without
  FULL) is safe, and all commands are fine when a trusted user owns the
  target object.  Performance may degrade quickly under this workaround,
  however.  Back-patch to 9.5 (all supported versions).

  Reviewed by Robert Haas.  Reported by Etienne Stalmans.

  Security: CVE-2020-25695
  c90c84b3f797a54a40ebc6795fbd743bdf44adad:In security-restricted operations, block enqueue of at-commit user code.

  Specifically, this blocks DECLARE ... WITH HOLD and firing of deferred
  triggers within index expressions and materialized view queries.  An
  attacker having permission to create non-temp objects in at least one
  schema could execute arbitrary SQL functions under the identity of the
  bootstrap superuser.  One can work around the vulnerability by disabling
  autovacuum and not manually running ANALYZE, CLUSTER, REINDEX, CREATE
  INDEX, VACUUM FULL, or REFRESH MATERIALIZED VIEW.  (Don't restore from
  pg_dump, since it runs some of those commands.)  Plain VACUUM (without
  FULL) is safe, and all commands are fine when a trusted user owns the
  target object.  Performance may degrade quickly under this workaround,
  however.  Back-patch to 9.5 (all supported versions).

  Reviewed by Robert Haas.  Reported by Etienne Stalmans.

  Security: CVE-2020-25695
  0c3185e963d9f9dd0608214f7d732b84aa0888fe:In security-restricted operations, block enqueue of at-commit user code.

  Specifically, this blocks DECLARE ... WITH HOLD and firing of deferred
  triggers within index expressions and materialized view queries.  An
  attacker having permission to create non-temp objects in at least one
  schema could execute arbitrary SQL functions under the identity of the
  bootstrap superuser.  One can work around the vulnerability by disabling
  autovacuum and not manually running ANALYZE, CLUSTER, REINDEX, CREATE
  INDEX, VACUUM FULL, or REFRESH MATERIALIZED VIEW.  (Don't restore from
  pg_dump, since it runs some of those commands.)  Plain VACUUM (without
  FULL) is safe, and all commands are fine when a trusted user owns the
  target object.  Performance may degrade quickly under this workaround,
  however.  Back-patch to 9.5 (all supported versions).

  Reviewed by Robert Haas.  Reported by Etienne Stalmans.

  Security: CVE-2020-25695
impacted_packages:
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 43ebfea5a988582e9edc752cb1e22e929edac03b
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 0425151233e018edfc03d2c3fe38f94ef3a67e77
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: b0529799960e910c4cf1e3d5509572dc8c653d67
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: cb2fffe0d627d3437737ab5293c435b302f6bccf
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: ff3de4c21a462f2da773848c53faedac88d6e54d
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: f97ecea1ed7b09c6f1398540a1d72a57eee70c9f
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 0b59df670bd15065a87d1d9c216c3787839937fe
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 90cf59c8c8c66c8b0b4c719b6f7ba8fce60b87e1
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: c90c84b3f797a54a40ebc6795fbd743bdf44adad
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: ac8f6243cb002f3386322fb231a0c5daa637941d
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: d43ba1d84ccb74fd394c01ff23b033b26ab154c0
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 0c3185e963d9f9dd0608214f7d732b84aa0888fe
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: aefc625dedae52073e7d279feb43f6255f992ea7
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/postgres/postgres/tree/0425151233e018edfc03d2c3fe38f94ef3a67e77
    reference_type: commit
    reference_id: 0425151233e018edfc03d2c3fe38f94ef3a67e77
  - url: https://github.com/postgres/postgres/tree/0b59df670bd15065a87d1d9c216c3787839937fe
    reference_type: commit
    reference_id: 0b59df670bd15065a87d1d9c216c3787839937fe
  - url: https://github.com/postgres/postgres/tree/0c3185e963d9f9dd0608214f7d732b84aa0888fe
    reference_type: commit
    reference_id: 0c3185e963d9f9dd0608214f7d732b84aa0888fe
  - url: https://github.com/postgres/postgres/tree/43ebfea5a988582e9edc752cb1e22e929edac03b
    reference_type: commit
    reference_id: 43ebfea5a988582e9edc752cb1e22e929edac03b
  - url: https://github.com/postgres/postgres/tree/90cf59c8c8c66c8b0b4c719b6f7ba8fce60b87e1
    reference_type: commit
    reference_id: 90cf59c8c8c66c8b0b4c719b6f7ba8fce60b87e1
  - url: https://github.com/postgres/postgres/tree/ac8f6243cb002f3386322fb231a0c5daa637941d
    reference_type: commit
    reference_id: ac8f6243cb002f3386322fb231a0c5daa637941d
  - url: https://github.com/postgres/postgres/tree/aefc625dedae52073e7d279feb43f6255f992ea7
    reference_type: commit
    reference_id: aefc625dedae52073e7d279feb43f6255f992ea7
  - url: https://github.com/postgres/postgres/tree/b0529799960e910c4cf1e3d5509572dc8c653d67
    reference_type: commit
    reference_id: b0529799960e910c4cf1e3d5509572dc8c653d67
  - url: https://github.com/postgres/postgres/tree/c90c84b3f797a54a40ebc6795fbd743bdf44adad
    reference_type: commit
    reference_id: c90c84b3f797a54a40ebc6795fbd743bdf44adad
  - url: https://github.com/postgres/postgres/tree/cb2fffe0d627d3437737ab5293c435b302f6bccf
    reference_type: commit
    reference_id: cb2fffe0d627d3437737ab5293c435b302f6bccf
  - url: https://github.com/postgres/postgres/tree/d43ba1d84ccb74fd394c01ff23b033b26ab154c0
    reference_type: commit
    reference_id: d43ba1d84ccb74fd394c01ff23b033b26ab154c0
  - url: https://github.com/postgres/postgres/tree/f97ecea1ed7b09c6f1398540a1d72a57eee70c9f
    reference_type: commit
    reference_id: f97ecea1ed7b09c6f1398540a1d72a57eee70c9f
  - url: https://github.com/postgres/postgres/tree/ff3de4c21a462f2da773848c53faedac88d6e54d
    reference_type: commit
    reference_id: ff3de4c21a462f2da773848c53faedac88d6e54d
