advisory_id: CVE-2007-0556
datasource_id: collect_postgresql_fix_commits/CVE-2007-0556
datasource_url: https://github.com/postgres/postgres
aliases: []
summary: |
  af8a4243245abea0b8ed6ddb9e008d287019ad37:Stamp release 7.3.18.

  Security: CVE-2007-0555, CVE-2007-0556
  de59c01f26edd8913d23870b858b2b79ada43e8e:Stamp release 7.4.16.

  Security: CVE-2007-0555, CVE-2007-0556
  d724689b73d6f0721264f3bcc1944abbdbaed8e4:Stamp release 8.0.11.

  Security: CVE-2007-0555, CVE-2007-0556
  924c1d4ceb968e94aa87b8cf09798102b13ef935:Stamp release 8.1.7.

  Security: CVE-2007-0555, CVE-2007-0556
  d06a16c589c7acf9d130706769f491297fa86c3a:Stamp release 8.2.2.

  Security: CVE-2007-0555, CVE-2007-0556
  c07313161fd11ee0e0283bc51b66ee80fffa008f:Update release notes for security-related releases in all active branches.

  Security: CVE-2007-0555, CVE-2007-0556
  abeae11765ccc7edd9a6c825c1cb8c04346fadb4:Update release notes for security-related releases in all active branches.

  Security: CVE-2007-0555, CVE-2007-0556
  384f05d55afaddde04c6df0ba2a927b02707fb08:Update release notes for security-related releases in all active branches.

  Security: CVE-2007-0555, CVE-2007-0556
  43072a7ec1f744ba146d76f8ded5dd51ef02423b:Update release notes for security-related releases in all active branches.

  Security: CVE-2007-0555, CVE-2007-0556
  40cf433eb6e98f64cc508fabdb3a745062e22786:Update release notes for security-related releases in all active branches.

  Security: CVE-2007-0555, CVE-2007-0556
  bd01a4e3b7faa7f01985435b3c290de58f823dae:Update release notes for security-related releases in all active branches.

  Security: CVE-2007-0555, CVE-2007-0556
  7fbfa4e96a3fc2012bbdb394a2b7ada846770ce3:Repair failure to check that a table is still compatible with a previously
  made query plan.  Use of ALTER COLUMN TYPE creates a hazard for cached
  query plans: they could contain Vars that claim a column has a different
  type than it now has.  Fix this by checking during plan startup that Vars
  at relation scan level match the current relation tuple descriptor.  Since
  at that point we already have at least AccessShareLock, we can be sure the
  column type will not change underneath us later in the query.  However,
  since a backend's locks do not conflict against itself, there is still a
  hole for an attacker to exploit: he could try to execute ALTER COLUMN TYPE
  while a query is in progress in the current backend.  Seal that hole by
  rejecting ALTER TABLE whenever the target relation is already open in
  the current backend.

  This is a significant security hole: not only can one trivially crash the
  backend, but with appropriate misuse of pass-by-reference datatypes it is
  possible to read out arbitrary locations in the server process's memory,
  which could allow retrieving database content the user should not be able
  to see.  Our thanks to Jeff Trout for the initial report.

  Security: CVE-2007-0556
  1f1f5efa82c8d4243888b46c400a1fae1bc68359:Repair failure to check that a table is still compatible with a previously
  made query plan.  Use of ALTER COLUMN TYPE creates a hazard for cached
  query plans: they could contain Vars that claim a column has a different
  type than it now has.  Fix this by checking during plan startup that Vars
  at relation scan level match the current relation tuple descriptor.  Since
  at that point we already have at least AccessShareLock, we can be sure the
  column type will not change underneath us later in the query.  However,
  since a backend's locks do not conflict against itself, there is still a
  hole for an attacker to exploit: he could try to execute ALTER COLUMN TYPE
  while a query is in progress in the current backend.  Seal that hole by
  rejecting ALTER TABLE whenever the target relation is already open in
  the current backend.

  This is a significant security hole: not only can one trivially crash the
  backend, but with appropriate misuse of pass-by-reference datatypes it is
  possible to read out arbitrary locations in the server process's memory,
  which could allow retrieving database content the user should not be able
  to see.  Our thanks to Jeff Trout for the initial report.

  Security: CVE-2007-0556
  23326cd18bbb9f9a237f65a4d54c66869c99aef2:Repair failure to check that a table is still compatible with a previously
  made query plan.  Use of ALTER COLUMN TYPE creates a hazard for cached
  query plans: they could contain Vars that claim a column has a different
  type than it now has.  Fix this by checking during plan startup that Vars
  at relation scan level match the current relation tuple descriptor.  Since
  at that point we already have at least AccessShareLock, we can be sure the
  column type will not change underneath us later in the query.  However,
  since a backend's locks do not conflict against itself, there is still a
  hole for an attacker to exploit: he could try to execute ALTER COLUMN TYPE
  while a query is in progress in the current backend.  Seal that hole by
  rejecting ALTER TABLE whenever the target relation is already open in
  the current backend.

  This is a significant security hole: not only can one trivially crash the
  backend, but with appropriate misuse of pass-by-reference datatypes it is
  possible to read out arbitrary locations in the server process's memory,
  which could allow retrieving database content the user should not be able
  to see.  Our thanks to Jeff Trout for the initial report.

  Security: CVE-2007-0556
  5413eef8dcd2dbf2cc46eed4f9fe4024987b8a38:Repair failure to check that a table is still compatible with a previously
  made query plan.  Use of ALTER COLUMN TYPE creates a hazard for cached
  query plans: they could contain Vars that claim a column has a different
  type than it now has.  Fix this by checking during plan startup that Vars
  at relation scan level match the current relation tuple descriptor.  Since
  at that point we already have at least AccessShareLock, we can be sure the
  column type will not change underneath us later in the query.  However,
  since a backend's locks do not conflict against itself, there is still a
  hole for an attacker to exploit: he could try to execute ALTER COLUMN TYPE
  while a query is in progress in the current backend.  Seal that hole by
  rejecting ALTER TABLE whenever the target relation is already open in
  the current backend.

  This is a significant security hole: not only can one trivially crash the
  backend, but with appropriate misuse of pass-by-reference datatypes it is
  possible to read out arbitrary locations in the server process's memory,
  which could allow retrieving database content the user should not be able
  to see.  Our thanks to Jeff Trout for the initial report.

  Security: CVE-2007-0556
impacted_packages:
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: d06a16c589c7acf9d130706769f491297fa86c3a
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 40cf433eb6e98f64cc508fabdb3a745062e22786
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: abeae11765ccc7edd9a6c825c1cb8c04346fadb4
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 5413eef8dcd2dbf2cc46eed4f9fe4024987b8a38
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: c07313161fd11ee0e0283bc51b66ee80fffa008f
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 43072a7ec1f744ba146d76f8ded5dd51ef02423b
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 384f05d55afaddde04c6df0ba2a927b02707fb08
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: af8a4243245abea0b8ed6ddb9e008d287019ad37
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: d724689b73d6f0721264f3bcc1944abbdbaed8e4
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: bd01a4e3b7faa7f01985435b3c290de58f823dae
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 7fbfa4e96a3fc2012bbdb394a2b7ada846770ce3
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 23326cd18bbb9f9a237f65a4d54c66869c99aef2
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 1f1f5efa82c8d4243888b46c400a1fae1bc68359
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 924c1d4ceb968e94aa87b8cf09798102b13ef935
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: de59c01f26edd8913d23870b858b2b79ada43e8e
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/postgres/postgres/tree/1f1f5efa82c8d4243888b46c400a1fae1bc68359
    reference_type: commit
    reference_id: 1f1f5efa82c8d4243888b46c400a1fae1bc68359
  - url: https://github.com/postgres/postgres/tree/23326cd18bbb9f9a237f65a4d54c66869c99aef2
    reference_type: commit
    reference_id: 23326cd18bbb9f9a237f65a4d54c66869c99aef2
  - url: https://github.com/postgres/postgres/tree/384f05d55afaddde04c6df0ba2a927b02707fb08
    reference_type: commit
    reference_id: 384f05d55afaddde04c6df0ba2a927b02707fb08
  - url: https://github.com/postgres/postgres/tree/40cf433eb6e98f64cc508fabdb3a745062e22786
    reference_type: commit
    reference_id: 40cf433eb6e98f64cc508fabdb3a745062e22786
  - url: https://github.com/postgres/postgres/tree/43072a7ec1f744ba146d76f8ded5dd51ef02423b
    reference_type: commit
    reference_id: 43072a7ec1f744ba146d76f8ded5dd51ef02423b
  - url: https://github.com/postgres/postgres/tree/5413eef8dcd2dbf2cc46eed4f9fe4024987b8a38
    reference_type: commit
    reference_id: 5413eef8dcd2dbf2cc46eed4f9fe4024987b8a38
  - url: https://github.com/postgres/postgres/tree/7fbfa4e96a3fc2012bbdb394a2b7ada846770ce3
    reference_type: commit
    reference_id: 7fbfa4e96a3fc2012bbdb394a2b7ada846770ce3
  - url: https://github.com/postgres/postgres/tree/924c1d4ceb968e94aa87b8cf09798102b13ef935
    reference_type: commit
    reference_id: 924c1d4ceb968e94aa87b8cf09798102b13ef935
  - url: https://github.com/postgres/postgres/tree/abeae11765ccc7edd9a6c825c1cb8c04346fadb4
    reference_type: commit
    reference_id: abeae11765ccc7edd9a6c825c1cb8c04346fadb4
  - url: https://github.com/postgres/postgres/tree/af8a4243245abea0b8ed6ddb9e008d287019ad37
    reference_type: commit
    reference_id: af8a4243245abea0b8ed6ddb9e008d287019ad37
  - url: https://github.com/postgres/postgres/tree/bd01a4e3b7faa7f01985435b3c290de58f823dae
    reference_type: commit
    reference_id: bd01a4e3b7faa7f01985435b3c290de58f823dae
  - url: https://github.com/postgres/postgres/tree/c07313161fd11ee0e0283bc51b66ee80fffa008f
    reference_type: commit
    reference_id: c07313161fd11ee0e0283bc51b66ee80fffa008f
  - url: https://github.com/postgres/postgres/tree/d06a16c589c7acf9d130706769f491297fa86c3a
    reference_type: commit
    reference_id: d06a16c589c7acf9d130706769f491297fa86c3a
  - url: https://github.com/postgres/postgres/tree/d724689b73d6f0721264f3bcc1944abbdbaed8e4
    reference_type: commit
    reference_id: d724689b73d6f0721264f3bcc1944abbdbaed8e4
  - url: https://github.com/postgres/postgres/tree/de59c01f26edd8913d23870b858b2b79ada43e8e
    reference_type: commit
    reference_id: de59c01f26edd8913d23870b858b2b79ada43e8e
