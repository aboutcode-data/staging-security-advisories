advisory_id: CVE-2017-12172
datasource_id: collect_postgresql_fix_commits/CVE-2017-12172
datasource_url: https://github.com/postgres/postgres
aliases: []
summary: |
  92d830f4bff643953a09563abaa106af42625207:Last-minute updates for release notes.

  Security: CVE-2017-12172, CVE-2017-15098, CVE-2017-15099
  203b965f275061894621a5a359213ac77558d33f:Last-minute updates for release notes.

  Security: CVE-2017-12172, CVE-2017-15098, CVE-2017-15099
  fb3930ab1fdb53ad842307a47ddaa1fed4e85d5c:Last-minute updates for release notes.

  Security: CVE-2017-12172, CVE-2017-15098, CVE-2017-15099
  e7bae63e02dee20fdcbad2664d4722c80febf8a1:Last-minute updates for release notes.

  Security: CVE-2017-12172, CVE-2017-15098, CVE-2017-15099
  7b4c179b70a59ad2dbd5c928ce8fc84629da0237:Last-minute updates for release notes.

  Security: CVE-2017-12172, CVE-2017-15098, CVE-2017-15099
  d69c0710a68068c7a415aaefd2c7d51f3197fe38:Last-minute updates for release notes.

  Security: CVE-2017-12172, CVE-2017-15098, CVE-2017-15099
  50abeafc74a812d2449ec49dc16e99baf8c5023a:Last-minute updates for release notes.

  Security: CVE-2017-12172, CVE-2017-15098, CVE-2017-15099
  eda780281c9c09599d12e783c51905078674b2e8:start-scripts: switch to $PGUSER before opening $PGLOG.

  By default, $PGUSER has permission to unlink $PGLOG.  If $PGUSER
  replaces $PGLOG with a symbolic link, the server will corrupt the
  link-targeted file by appending log messages.  Since these scripts open
  $PGLOG as root, the attack works regardless of target file ownership.

  "make install" does not install these scripts anywhere.  Users having
  manually installed them in the past should repeat that process to
  acquire this fix.  Most script users have $PGLOG writable to root only,
  located in $PGDATA.  Just before updating one of these scripts, such
  users should rename $PGLOG to $PGLOG.old.  The script will then recreate
  $PGLOG with proper ownership.

  Reviewed by Peter Eisentraut.  Reported by Antoine Scemama.

  Security: CVE-2017-12172
  b5002976804cfd42ada725b30cff324ebd3e9638:start-scripts: switch to $PGUSER before opening $PGLOG.

  By default, $PGUSER has permission to unlink $PGLOG.  If $PGUSER
  replaces $PGLOG with a symbolic link, the server will corrupt the
  link-targeted file by appending log messages.  Since these scripts open
  $PGLOG as root, the attack works regardless of target file ownership.

  "make install" does not install these scripts anywhere.  Users having
  manually installed them in the past should repeat that process to
  acquire this fix.  Most script users have $PGLOG writable to root only,
  located in $PGDATA.  Just before updating one of these scripts, such
  users should rename $PGLOG to $PGLOG.old.  The script will then recreate
  $PGLOG with proper ownership.

  Reviewed by Peter Eisentraut.  Reported by Antoine Scemama.

  Security: CVE-2017-12172
  29d06705194396d46004a48bf56e741c79269790:start-scripts: switch to $PGUSER before opening $PGLOG.

  By default, $PGUSER has permission to unlink $PGLOG.  If $PGUSER
  replaces $PGLOG with a symbolic link, the server will corrupt the
  link-targeted file by appending log messages.  Since these scripts open
  $PGLOG as root, the attack works regardless of target file ownership.

  "make install" does not install these scripts anywhere.  Users having
  manually installed them in the past should repeat that process to
  acquire this fix.  Most script users have $PGLOG writable to root only,
  located in $PGDATA.  Just before updating one of these scripts, such
  users should rename $PGLOG to $PGLOG.old.  The script will then recreate
  $PGLOG with proper ownership.

  Reviewed by Peter Eisentraut.  Reported by Antoine Scemama.

  Security: CVE-2017-12172
  ed546dd06195c27d92ae46f2bb1a74261bcb49e6:start-scripts: switch to $PGUSER before opening $PGLOG.

  By default, $PGUSER has permission to unlink $PGLOG.  If $PGUSER
  replaces $PGLOG with a symbolic link, the server will corrupt the
  link-targeted file by appending log messages.  Since these scripts open
  $PGLOG as root, the attack works regardless of target file ownership.

  "make install" does not install these scripts anywhere.  Users having
  manually installed them in the past should repeat that process to
  acquire this fix.  Most script users have $PGLOG writable to root only,
  located in $PGDATA.  Just before updating one of these scripts, such
  users should rename $PGLOG to $PGLOG.old.  The script will then recreate
  $PGLOG with proper ownership.

  Reviewed by Peter Eisentraut.  Reported by Antoine Scemama.

  Security: CVE-2017-12172
  b7d6f75072b3569d7d2acce04669e72086b547cb:start-scripts: switch to $PGUSER before opening $PGLOG.

  By default, $PGUSER has permission to unlink $PGLOG.  If $PGUSER
  replaces $PGLOG with a symbolic link, the server will corrupt the
  link-targeted file by appending log messages.  Since these scripts open
  $PGLOG as root, the attack works regardless of target file ownership.

  "make install" does not install these scripts anywhere.  Users having
  manually installed them in the past should repeat that process to
  acquire this fix.  Most script users have $PGLOG writable to root only,
  located in $PGDATA.  Just before updating one of these scripts, such
  users should rename $PGLOG to $PGLOG.old.  The script will then recreate
  $PGLOG with proper ownership.

  Reviewed by Peter Eisentraut.  Reported by Antoine Scemama.

  Security: CVE-2017-12172
  6b0b983f793b5c9ea68167a408ef58d40b942596:start-scripts: switch to $PGUSER before opening $PGLOG.

  By default, $PGUSER has permission to unlink $PGLOG.  If $PGUSER
  replaces $PGLOG with a symbolic link, the server will corrupt the
  link-targeted file by appending log messages.  Since these scripts open
  $PGLOG as root, the attack works regardless of target file ownership.

  "make install" does not install these scripts anywhere.  Users having
  manually installed them in the past should repeat that process to
  acquire this fix.  Most script users have $PGLOG writable to root only,
  located in $PGDATA.  Just before updating one of these scripts, such
  users should rename $PGLOG to $PGLOG.old.  The script will then recreate
  $PGLOG with proper ownership.

  Reviewed by Peter Eisentraut.  Reported by Antoine Scemama.

  Security: CVE-2017-12172
  dfc015dcf46c1996bd7ed5866e9e045d258604b3:start-scripts: switch to $PGUSER before opening $PGLOG.

  By default, $PGUSER has permission to unlink $PGLOG.  If $PGUSER
  replaces $PGLOG with a symbolic link, the server will corrupt the
  link-targeted file by appending log messages.  Since these scripts open
  $PGLOG as root, the attack works regardless of target file ownership.

  "make install" does not install these scripts anywhere.  Users having
  manually installed them in the past should repeat that process to
  acquire this fix.  Most script users have $PGLOG writable to root only,
  located in $PGDATA.  Just before updating one of these scripts, such
  users should rename $PGLOG to $PGLOG.old.  The script will then recreate
  $PGLOG with proper ownership.

  Reviewed by Peter Eisentraut.  Reported by Antoine Scemama.

  Security: CVE-2017-12172
impacted_packages:
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 29d06705194396d46004a48bf56e741c79269790
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 7b4c179b70a59ad2dbd5c928ce8fc84629da0237
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: b7d6f75072b3569d7d2acce04669e72086b547cb
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 6b0b983f793b5c9ea68167a408ef58d40b942596
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: eda780281c9c09599d12e783c51905078674b2e8
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: d69c0710a68068c7a415aaefd2c7d51f3197fe38
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: ed546dd06195c27d92ae46f2bb1a74261bcb49e6
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: b5002976804cfd42ada725b30cff324ebd3e9638
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: dfc015dcf46c1996bd7ed5866e9e045d258604b3
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: e7bae63e02dee20fdcbad2664d4722c80febf8a1
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 203b965f275061894621a5a359213ac77558d33f
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: fb3930ab1fdb53ad842307a47ddaa1fed4e85d5c
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 92d830f4bff643953a09563abaa106af42625207
    introduced_in_commits: []
  - purl: pkg:github/postgres/postgres
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/postgres/postgres
        commit: 50abeafc74a812d2449ec49dc16e99baf8c5023a
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/postgres/postgres/tree/203b965f275061894621a5a359213ac77558d33f
    reference_type: commit
    reference_id: 203b965f275061894621a5a359213ac77558d33f
  - url: https://github.com/postgres/postgres/tree/29d06705194396d46004a48bf56e741c79269790
    reference_type: commit
    reference_id: 29d06705194396d46004a48bf56e741c79269790
  - url: https://github.com/postgres/postgres/tree/50abeafc74a812d2449ec49dc16e99baf8c5023a
    reference_type: commit
    reference_id: 50abeafc74a812d2449ec49dc16e99baf8c5023a
  - url: https://github.com/postgres/postgres/tree/6b0b983f793b5c9ea68167a408ef58d40b942596
    reference_type: commit
    reference_id: 6b0b983f793b5c9ea68167a408ef58d40b942596
  - url: https://github.com/postgres/postgres/tree/7b4c179b70a59ad2dbd5c928ce8fc84629da0237
    reference_type: commit
    reference_id: 7b4c179b70a59ad2dbd5c928ce8fc84629da0237
  - url: https://github.com/postgres/postgres/tree/92d830f4bff643953a09563abaa106af42625207
    reference_type: commit
    reference_id: 92d830f4bff643953a09563abaa106af42625207
  - url: https://github.com/postgres/postgres/tree/b5002976804cfd42ada725b30cff324ebd3e9638
    reference_type: commit
    reference_id: b5002976804cfd42ada725b30cff324ebd3e9638
  - url: https://github.com/postgres/postgres/tree/b7d6f75072b3569d7d2acce04669e72086b547cb
    reference_type: commit
    reference_id: b7d6f75072b3569d7d2acce04669e72086b547cb
  - url: https://github.com/postgres/postgres/tree/d69c0710a68068c7a415aaefd2c7d51f3197fe38
    reference_type: commit
    reference_id: d69c0710a68068c7a415aaefd2c7d51f3197fe38
  - url: https://github.com/postgres/postgres/tree/dfc015dcf46c1996bd7ed5866e9e045d258604b3
    reference_type: commit
    reference_id: dfc015dcf46c1996bd7ed5866e9e045d258604b3
  - url: https://github.com/postgres/postgres/tree/e7bae63e02dee20fdcbad2664d4722c80febf8a1
    reference_type: commit
    reference_id: e7bae63e02dee20fdcbad2664d4722c80febf8a1
  - url: https://github.com/postgres/postgres/tree/ed546dd06195c27d92ae46f2bb1a74261bcb49e6
    reference_type: commit
    reference_id: ed546dd06195c27d92ae46f2bb1a74261bcb49e6
  - url: https://github.com/postgres/postgres/tree/eda780281c9c09599d12e783c51905078674b2e8
    reference_type: commit
    reference_id: eda780281c9c09599d12e783c51905078674b2e8
  - url: https://github.com/postgres/postgres/tree/fb3930ab1fdb53ad842307a47ddaa1fed4e85d5c
    reference_type: commit
    reference_id: fb3930ab1fdb53ad842307a47ddaa1fed4e85d5c
