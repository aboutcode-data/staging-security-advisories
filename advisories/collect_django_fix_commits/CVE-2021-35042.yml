advisory_id: CVE-2021-35042
datasource_id: collect_django_fix_commits/CVE-2021-35042
datasource_url: https://github.com/django/django
aliases: []
summary: |
  2efb39deb8d001dc8e84d1f4097c23812f83945c:[3.1.x] Added CVE-2021-35042 to security archive.

  Backport of 8feb2a49fa37528823cc900bbd9609319738193e from main
  9fadb97583a6246fbce8a70714e3ebd54b90f45c:[3.2.x] Added CVE-2021-35042 to security archive.

  Backport of 8feb2a49fa37528823cc900bbd9609319738193e from main
  8feb2a49fa37528823cc900bbd9609319738193e:Added CVE-2021-35042 to security archive.
  dae83a24519d6f284c74414e0b81d64d9b5a0db4:Forwardported release notes for CVE-2021-35042.
  0bd57a879a0d54920bb9038a732645fb917040e9:[3.1.x] Fixed CVE-2021-35042 -- Prevented SQL injection in QuerySet.order_by().

  Regression introduced in 513948735b799239f3ef8c89397592445e1a0cd5
  by marking the raw SQL column reference feature for deprecation in
  Django 4.0 while lifting the column format validation.

  In retrospective the validation should have been kept around and the
  user should have been pointed at using RawSQL expressions during the
  deprecation period.

  The main branch is not affected because the raw SQL column reference
  support has been removed in 06eec3197009b88e3a633128bbcbd76eea0b46ff
  per the 4.0 deprecation life cycle.

  Thanks Joel Saunders for the report.
  a34a5f724c5d5adb2109374ba3989ebb7b11f81f:[3.2.x] Fixed CVE-2021-35042 -- Prevented SQL injection in QuerySet.order_by().

  Regression introduced in 513948735b799239f3ef8c89397592445e1a0cd5
  by marking the raw SQL column reference feature for deprecation in
  Django 4.0 while lifting the column format validation.

  In retrospective the validation should have been kept around and the
  user should have been pointed at using RawSQL expressions during the
  deprecation period.

  The main branch is not affected because the raw SQL column reference
  support has been removed in 06eec3197009b88e3a633128bbcbd76eea0b46ff
  per the 4.0 deprecation life cycle.

  Thanks Joel Saunders for the report.
impacted_packages:
  - purl: pkg:github/django/django
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/django/django
        commit: 2efb39deb8d001dc8e84d1f4097c23812f83945c
    introduced_in_commits: []
  - purl: pkg:github/django/django
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/django/django
        commit: 0bd57a879a0d54920bb9038a732645fb917040e9
    introduced_in_commits: []
  - purl: pkg:github/django/django
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/django/django
        commit: a34a5f724c5d5adb2109374ba3989ebb7b11f81f
    introduced_in_commits: []
  - purl: pkg:github/django/django
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/django/django
        commit: dae83a24519d6f284c74414e0b81d64d9b5a0db4
    introduced_in_commits: []
  - purl: pkg:github/django/django
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/django/django
        commit: 8feb2a49fa37528823cc900bbd9609319738193e
    introduced_in_commits: []
  - purl: pkg:github/django/django
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/django/django
        commit: 9fadb97583a6246fbce8a70714e3ebd54b90f45c
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/django/django/tree/0bd57a879a0d54920bb9038a732645fb917040e9
    reference_type: commit
    reference_id: 0bd57a879a0d54920bb9038a732645fb917040e9
  - url: https://github.com/django/django/tree/2efb39deb8d001dc8e84d1f4097c23812f83945c
    reference_type: commit
    reference_id: 2efb39deb8d001dc8e84d1f4097c23812f83945c
  - url: https://github.com/django/django/tree/8feb2a49fa37528823cc900bbd9609319738193e
    reference_type: commit
    reference_id: 8feb2a49fa37528823cc900bbd9609319738193e
  - url: https://github.com/django/django/tree/9fadb97583a6246fbce8a70714e3ebd54b90f45c
    reference_type: commit
    reference_id: 9fadb97583a6246fbce8a70714e3ebd54b90f45c
  - url: https://github.com/django/django/tree/a34a5f724c5d5adb2109374ba3989ebb7b11f81f
    reference_type: commit
    reference_id: a34a5f724c5d5adb2109374ba3989ebb7b11f81f
  - url: https://github.com/django/django/tree/dae83a24519d6f284c74414e0b81d64d9b5a0db4
    reference_type: commit
    reference_id: dae83a24519d6f284c74414e0b81d64d9b5a0db4
