advisory_id: RHBA-2018:1796
datasource_id: redhat_importer_v2/RHBA-2018:1796
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2018/rhba-2018_1796.json
aliases:
  - CVE-2018-1000400
  - CVE-2018-1002100
summary: |
  Red Hat OpenShift Container Platform release 3.9.30 is now available with updates to packages and images that fix several bugs and add enhancements.

  Red Hat OpenShift Container Platform is the company's cloud computing Platform-as-a-Service (PaaS) solution designed for on-premise or private cloud deployments.

  This advisory contains the RPM packages for Red Hat OpenShift Container Platform 3.9.30. See the following advisory for the container images for this release:

  https://access.redhat.com/errata/RHBA-2018:1797

  This update fixes the following bugs:

  * Jenkins no_proxy processing could not handle suffixes like ".svc". As a result, communication between a Jenkins k8s agent pod and the Jenkins master would attempt to go through a configured http_proxy and fail.
  With this bug fix, the OpenShift Container Platform jenkins agent images are updated to automatically include the jenkins master and jnlp hosts in the no_proxy list. The Jenkins limitation for no_proxy processing is now circumvented.(BZ#1578989)

  * When creating the Elasticsearch server certificate, the external Elasticsearch host names were unconditionally added to the subjectAltName. Installation would fail because only host name components beginning with a letter are allowed in the subjectAltName, so hostnames like es.0xdeadbeef.com were disallowed and would cause an error. A warning is now issued if the Elasticsearch host name contains a component which does not begin with a letter, and it is not added to the subjectAltName. Logging installation now completes successfully. (BZ#1567767)

  * The plug-in only caught the KubeException, but not more general exceptions. Therefore, consumers were stuck cycling until the API server could be contacted. Metadata fetch is now more relaxed and gracefully catches the exception, returning no metadata, and subsequently the record is orphaned. (BZ#1560170)

  * logging-elasticsearch-ops was missing in the delete configmaps list in the openshift-ansible delete_logging role. The logging-elasticsearch-ops configmap still exists after running uninstall ansible playbook for logging. logging-elasticsearch-ops is added to the delete configmaps list. All of the logging configmaps including logging-elasticsearch-ops are now uninstalled by running the uninstall ansible playbook for logging. (BZ#1549220)

  * The Create Project button was incorrectly displayed to users when they had no projects and self-provisioning had been disabled on the projects list page of the web console. The action would always fail, so the button should have been hidden. The bug is now fixed, and Create Project is now correctly hidden in the console when self-provisioning is disabled. (BZ#1577359)

  * This bug fix addresses an issue pulling images from a private docker hub registry. (BZ#1578088)

  * This bug fix addresseswhere cfs_quota might still be set on a pod even when cpu-cfs-quota is set to false on the node. (BZ#1581860)

  This update includes the following enhancement:

  * Users are now allowed to disable JSON payload parsing. Parsing each log message into JSON and attaching it to the final payload is an expensive operation. Fluentd can now be configured to disable parsing of message payloads. This is the initial configuration change to deprecating the feature from the fluent-plugin-kubernetes_metadata_filter. (BZ#1569825)

  All OpenShift Container Platform 3.9 users are advised to upgrade to these updated packages and images.
impacted_packages:
  - purl: pkg:rpm/redhat/cri-o?arch=x86_64
    affected_versions: vers:rpm/<1.9.12-1.gitfa11beb.el7
    fixed_versions: vers:rpm/1.9.12-1.gitfa11beb.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/cri-o-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<1.9.12-1.gitfa11beb.el7
    fixed_versions: vers:rpm/1.9.12-1.gitfa11beb.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-dockerregistry?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.349.8b7912c.el7
    fixed_versions: vers:rpm/3.9.30-1.git.349.8b7912c.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/prometheus-node-exporter?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.890.7ea5173.el7
    fixed_versions: vers:rpm/3.9.30-1.git.890.7ea5173.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/cri-tools-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<1.0.0-5.rhaos3.9.git8e6013a.el7
    fixed_versions: vers:rpm/1.0.0-5.rhaos3.9.git8e6013a.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/cri-tools?arch=x86_64
    affected_versions: vers:rpm/<1.0.0-5.rhaos3.9.git8e6013a.el7
    fixed_versions: vers:rpm/1.0.0-5.rhaos3.9.git8e6013a.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-web-console?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.245.4a3aade.el7
    fixed_versions: vers:rpm/3.9.30-1.git.245.4a3aade.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-master?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-node?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-tests?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-clients-redistributable?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-cluster-capacity?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-pod?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-template-service-broker?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-service-catalog?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-clients?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-federation-services?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-sdn-ovs?arch=x86_64
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/cri-o?arch=src
    affected_versions: vers:rpm/<1.9.12-1.gitfa11beb.el7
    fixed_versions: vers:rpm/1.9.12-1.gitfa11beb.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-fluent-plugin-elasticsearch?arch=src
    affected_versions: vers:rpm/<1.16.1-1.el7
    fixed_versions: vers:rpm/1.16.1-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/golang-github-prometheus-node_exporter?arch=src
    affected_versions: vers:rpm/<3.9.30-1.git.890.7ea5173.el7
    fixed_versions: vers:rpm/3.9.30-1.git.890.7ea5173.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/cri-tools?arch=src
    affected_versions: vers:rpm/<1.0.0-5.rhaos3.9.git8e6013a.el7
    fixed_versions: vers:rpm/1.0.0-5.rhaos3.9.git8e6013a.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-web-console?arch=src
    affected_versions: vers:rpm/<3.9.30-1.git.245.4a3aade.el7
    fixed_versions: vers:rpm/3.9.30-1.git.245.4a3aade.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-fluent-plugin-kubernetes_metadata_filter?arch=src
    affected_versions: vers:rpm/<1.0.3-1.el7
    fixed_versions: vers:rpm/1.0.3-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift?arch=src
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible?arch=src
    affected_versions: vers:rpm/<3.9.30-1.git.7.46f8678.el7
    fixed_versions: vers:rpm/3.9.30-1.git.7.46f8678.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-fluent-plugin-elasticsearch-doc?arch=noarch
    affected_versions: vers:rpm/<1.16.1-1.el7
    fixed_versions: vers:rpm/1.16.1-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-fluent-plugin-elasticsearch?arch=noarch
    affected_versions: vers:rpm/<1.16.1-1.el7
    fixed_versions: vers:rpm/1.16.1-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-fluent-plugin-kubernetes_metadata_filter-doc?arch=noarch
    affected_versions: vers:rpm/<1.0.3-1.el7
    fixed_versions: vers:rpm/1.0.3-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-fluent-plugin-kubernetes_metadata_filter?arch=noarch
    affected_versions: vers:rpm/<1.0.3-1.el7
    fixed_versions: vers:rpm/1.0.3-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-docker-excluder?arch=noarch
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-excluder?arch=noarch
    affected_versions: vers:rpm/<3.9.30-1.git.0.dec1ba7.el7
    fixed_versions: vers:rpm/3.9.30-1.git.0.dec1ba7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-playbooks?arch=noarch
    affected_versions: vers:rpm/<3.9.30-1.git.7.46f8678.el7
    fixed_versions: vers:rpm/3.9.30-1.git.7.46f8678.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-roles?arch=noarch
    affected_versions: vers:rpm/<3.9.30-1.git.7.46f8678.el7
    fixed_versions: vers:rpm/3.9.30-1.git.7.46f8678.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible?arch=noarch
    affected_versions: vers:rpm/<3.9.30-1.git.7.46f8678.el7
    fixed_versions: vers:rpm/3.9.30-1.git.7.46f8678.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-docs?arch=noarch
    affected_versions: vers:rpm/<3.9.30-1.git.7.46f8678.el7
    fixed_versions: vers:rpm/3.9.30-1.git.7.46f8678.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-utils?arch=noarch
    affected_versions: vers:rpm/<3.9.30-1.git.7.46f8678.el7
    fixed_versions: vers:rpm/3.9.30-1.git.7.46f8678.el7
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2018/rhba-2018_1796.json
weaknesses: []
references:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2018/rhba-2018_1796.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1549220
    reference_type: bug
    reference_id: 1549220
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1550847
    reference_type: bug
    reference_id: 1550847
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1554407
    reference_type: bug
    reference_id: 1554407
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1557290
    reference_type: bug
    reference_id: 1557290
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1559443
    reference_type: bug
    reference_id: 1559443
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1560170
    reference_type: bug
    reference_id: 1560170
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1564847
    reference_type: bug
    reference_id: 1564847
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1565372
    reference_type: bug
    reference_id: 1565372
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1567250
    reference_type: bug
    reference_id: 1567250
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1567767
    reference_type: bug
    reference_id: 1567767
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1568361
    reference_type: bug
    reference_id: 1568361
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1569825
    reference_type: bug
    reference_id: 1569825
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1570540
    reference_type: bug
    reference_id: 1570540
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1570982
    reference_type: bug
    reference_id: 1570982
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1572192
    reference_type: bug
    reference_id: 1572192
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1577357
    reference_type: bug
    reference_id: 1577357
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1577359
    reference_type: bug
    reference_id: 1577359
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1577877
    reference_type: bug
    reference_id: 1577877
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1578088
    reference_type: bug
    reference_id: 1578088
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1578989
    reference_type: bug
    reference_id: 1578989
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1579898
    reference_type: bug
    reference_id: 1579898
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1581860
    reference_type: bug
    reference_id: 1581860
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1582190
    reference_type: bug
    reference_id: 1582190
  - url: https://access.redhat.com/errata/RHBA-2018:1796
    reference_type:
    reference_id: RHBA-2018:1796
