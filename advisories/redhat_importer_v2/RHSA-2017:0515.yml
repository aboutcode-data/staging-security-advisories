advisory_id: RHSA-2017:0515
datasource_id: redhat_importer_v2/RHSA-2017:0515
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2017/rhsa-2017_0515.json
aliases:
  - CVE-2016-9587
summary: |
  An update for ansible and ceph-ansible is now available for Red Hat Storage Console 2.

  Red Hat Product Security has rated this update as having a security impact of Important. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

  The ceph-ansible package provides Ansible playbooks for installing, maintaining, and upgrading Red Hat Ceph Storage.

  Ansible is a simple model-driven configuration management, multi-node deployment, and remote task execution system. Ansible works over SSH and does not require any software or daemons to be installed on remote nodes. Extension modules can be written in any language and are transferred to managed machines automatically.

  The following packages have been upgraded to a later upstream version: ceph-installer (1.2.2), ansible (2.2.1.0), python-passlib (1.6.5), ceph-ansible (2.1.9). (BZ#1405630)

  Security Fix(es):

  * An input validation vulnerability was found in Ansible's handling of data sent from client systems. An attacker with control over a client system being managed by Ansible and the ability to send facts back to the Ansible server could use this flaw to execute arbitrary code on the Ansible server using the Ansible server privileges. (CVE-2016-9587)

  Bug Fix(es):

  * Previously, the ceph-ansible utility permanently disabled the swap partition. With this update, ceph-ansible can no longer disable swap. (BZ#1364167)

  * Previously, the ceph-ansible utility did not support adding encrypted OSD nodes. As a consequence, an attempt to upgrade to a newer, minor, or major version failed on encrypted OSD nodes. In addition, Ansible returned the following error message during the disk activation task:

      mount: unknown filesystem type 'crypto_LUKS'

  With this update, ceph-ansible supports adding encrypted OSD nodes, and upgrading works as expected. (BZ#1366808)

  * Due to a bug in the underlying source code, the ceph-ansible utility in some cases failed on the copy roundep task. Consequently, the installation process was unsuccessful. This bug has been fixed, and the installation now proceeds as expected. (BZ#1382878)

  * Previously, installation using the ceph-ansible utility failed on the "fix partitions gpt header or labels of the journal devices" task in the ceph-osd role because of an empty variable. The underlying source code has been modified, and the installation no longer fails in this case. (BZ#1400967)

  * Previously, Red Hat Console Agent setup performed by the ceph-ansible utility only supported installations by using the Content Delivery Network (CDN). Installations with an ISO file or local Yum repository failed. With this update, all installations are successful. (BZ#1403576)

  * Previously, the ceph-ansible utility was unable to purge a cluster with encrypted OSD devices because the underlying ceph-disk utility was unable to destroy the partition table on an encrypted device by using the "--zap-disk" option. The underlying source code has been fixed allowing ceph-disk to use the "--zap-disk" option on encrypted devices. As a result, ceph-ansible can purge clusters with encrypted OSD devices as expected. (BZ#1414647)

  * Previously, during the creation of Ceph clusters with nodes that use IPv6 addressing, ceph-ansible added the "ms bind ipv6" key to the Ceph configuration file, but it did not assign any value to it. This behavior caused an error when parsing the configuration file after the cluster creation. With this update, the "ms bind ipv6" key is properly set in the Ceph configuration file allowing for proper configuration file parsing on clusters that use IPv6 addressing. (BZ#1419814)

  Enhancement(s):

  * The ceph-ansible utility now supports the client role. This new role enables you to install Ceph clients by using Ansible and deploy nodes to run tests against the Ceph cluster. (BZ#1384622)

  * The ceph-installer API now supports installation of OSD nodes that have journals collocated on the same devices. (BZ#1412867)
impacted_packages:
  - purl: pkg:rpm/redhat/ansible?arch=src
    affected_versions: vers:rpm/<2.2.1.0-1.el7
    fixed_versions: vers:rpm/2.2.1.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-passlib?arch=src
    affected_versions: vers:rpm/<1.6.5-1.1.el7
    fixed_versions: vers:rpm/1.6.5-1.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-installer?arch=src
    affected_versions: vers:rpm/<1.2.2-1.el7scon
    fixed_versions: vers:rpm/1.2.2-1.el7scon
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-ansible?arch=src
    affected_versions: vers:rpm/<2.1.9-1.el7scon
    fixed_versions: vers:rpm/2.1.9-1.el7scon
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ansible?arch=noarch
    affected_versions: vers:rpm/<2.2.1.0-1.el7
    fixed_versions: vers:rpm/2.2.1.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-passlib?arch=noarch
    affected_versions: vers:rpm/<1.6.5-1.1.el7
    fixed_versions: vers:rpm/1.6.5-1.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-installer?arch=noarch
    affected_versions: vers:rpm/<1.2.2-1.el7scon
    fixed_versions: vers:rpm/1.2.2-1.el7scon
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-ansible?arch=noarch
    affected_versions: vers:rpm/<2.1.9-1.el7scon
    fixed_versions: vers:rpm/2.1.9-1.el7scon
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Important
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2017/rhsa-2017_0515.json
weaknesses: []
references:
  - url: https://access.redhat.com/documentation/en/red-hat-storage-console/2.0/paged/release-notes/
    reference_type:
    reference_id:
  - url: https://access.redhat.com/errata/RHSA-2017:0515
    reference_type:
    reference_id:
  - url: https://access.redhat.com/security/updates/classification/#important
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2017/rhsa-2017_0515.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1312443
    reference_type: bug
    reference_id: 1312443
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1339576
    reference_type: bug
    reference_id: 1339576
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1364167
    reference_type: bug
    reference_id: 1364167
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1366808
    reference_type: bug
    reference_id: 1366808
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1382878
    reference_type: bug
    reference_id: 1382878
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1384622
    reference_type: bug
    reference_id: 1384622
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1400967
    reference_type: bug
    reference_id: 1400967
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1403576
    reference_type: bug
    reference_id: 1403576
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1404378
    reference_type: bug
    reference_id: 1404378
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1404515
    reference_type: bug
    reference_id: 1404515
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1405630
    reference_type: bug
    reference_id: 1405630
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1405985
    reference_type: bug
    reference_id: 1405985
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1406556
    reference_type: bug
    reference_id: 1406556
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1412867
    reference_type: bug
    reference_id: 1412867
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1413985
    reference_type: bug
    reference_id: 1413985
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1414647
    reference_type: bug
    reference_id: 1414647
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1416010
    reference_type: bug
    reference_id: 1416010
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1418980
    reference_type: bug
    reference_id: 1418980
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1419814
    reference_type: bug
    reference_id: 1419814
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1422134
    reference_type: bug
    reference_id: 1422134
