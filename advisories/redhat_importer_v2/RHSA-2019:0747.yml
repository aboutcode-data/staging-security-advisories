advisory_id: RHSA-2019:0747
datasource_id: redhat_importer_v2/RHSA-2019:0747
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2019/rhsa-2019_0747.json
aliases:
  - CVE-2018-19039
summary: |
  An update for ceph and grafana is now available for Red Hat Ceph Storage 2.5 for Red Hat Enterprise Linux 7.

  Red Hat Product Security has rated this update as having a security impact of Moderate. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

  Red Hat Ceph Storage is a scalable, open, software-defined storage platform that combines the most stable version of the Ceph storage system with a Ceph management platform, deployment utilities, and support services.

  Security Fix(es):

  * grafana: File exfiltration (CVE-2018-19039)

  For more details about the security issue(s), including the impact, a CVSS score, acknowledgments, and other related information, refer to the CVE page(s) listed in the References section.

  Bug Fix(es):

  * This issue was discovered with OpenStack Cinder Backup when 'rados_connect_timeout' was set. Normally the timeout is not enabled. If the cluster was highly loaded the timeout could be reached, causing the segfault. With this update to Red Hat Ceph Storage, if the timeout is reached a segfault no longer occurs. (BZ#1655685)

  * With this release, you now have the ability to reset a user's statistics using the 'radosgw-admin' command. In previous versions, the user's recorded statistics diverged from the actual statistics. When using the '--reset-stats' option with the 'radosgw-admin' command, along with specifying the Ceph Object Gateway user, the stats will be recalculated. (BZ#1673217)

  * In the duplicate checking code an inconsistency was found that caused duplicate indices to be added, instead of trimming them. The duplicate checking code logic has been fixed, making adding and trimming duplicate indices consistent, which results in correctly trimming duplicate indices. (BZ#1676709)

  * Two bugs were found in the garbage collection list iteration logic. One of these bugs was a race condition when doing system restarts. These bugs were causing higher-than-expected workloads and stalling in garbage collection processing. Issues with list truncation and entry deletion were fixed, reducing the potential for garbage collection stalls and high-read I/O during garbage collection removal. (BZ#1680050)

  * Due to a bug in multi-site sync of versioning-suspended buckets, certain object versioning attributes were overwritten with incorrect values. Consequently, the objects failed to sync and attempted to retry endlessly, blocking further sync progress. With this update, the sync process no longer overwrites versioning attributes. In addition, any broken attributes are now detected and repaired. As a result, objects are synced correctly in versioning-suspended buckets. (BZ#1690927)

  * Previously, bucket indices could include "false entries" that did not represent actual objects and that resulted from a prior bug. Consequently, during the process of deleting such buckets, encountering a false entry caused the process to stop and return an error code. With this update, when a false entry is encountered, Ceph ignores it, and deleting buckets with false entries works as expected. (BZ#1690930)
impacted_packages:
  - purl: pkg:rpm/redhat/grafana?arch=x86_64
    affected_versions: vers:rpm/<4.3.2-4.el7cp
    fixed_versions: vers:rpm/4.3.2-4.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-cephfs?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-mds?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-radosgw?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-base?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/librados2-devel?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rbd-mirror?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/librgw2-devel?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-selinux?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-fuse?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/librgw2?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/librbd1?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-rbd?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-debuginfo?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-common?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-rados?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/librados2?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/librbd1-devel?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/libcephfs1?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/libcephfs1-devel?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-test?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-osd?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph-mon?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/grafana?arch=src
    affected_versions: vers:rpm/<4.3.2-4.el7cp
    fixed_versions: vers:rpm/4.3.2-4.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ceph?arch=src&epoch=2
    affected_versions: vers:rpm/<10.2.10-49.el7cp
    fixed_versions: vers:rpm/10.2.10-49.el7cp
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2019/rhsa-2019_0747.json
weaknesses: []
references:
  - url: https://access.redhat.com/errata/RHSA-2019:0747
    reference_type:
    reference_id:
  - url: https://access.redhat.com/security/updates/classification/#moderate
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2019/rhsa-2019_0747.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1493597
    reference_type: bug
    reference_id: 1493597
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1565221
    reference_type: bug
    reference_id: 1565221
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1649697
    reference_type: bug
    reference_id: 1649697
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1655685
    reference_type: bug
    reference_id: 1655685
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1660611
    reference_type: bug
    reference_id: 1660611
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1676709
    reference_type: bug
    reference_id: 1676709
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1680050
    reference_type: bug
    reference_id: 1680050
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1690922
    reference_type: bug
    reference_id: 1690922
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1690927
    reference_type: bug
    reference_id: 1690927
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1690930
    reference_type: bug
    reference_id: 1690930
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1690932
    reference_type: bug
    reference_id: 1690932
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1690934
    reference_type: bug
    reference_id: 1690934
