advisory_id: RHSA-2014:0704
datasource_id: redhat_importer_v2/RHSA-2014:0704
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2014/rhsa-2014_0704.json
aliases:
  - CVE-2014-2894
summary: |
  Updated qemu-kvm packages that fix one security issue and several bugs are
  now available for Red Hat Enterprise Linux 7.

  The Red Hat Security Response Team has rated this update as having Moderate
  security impact. A Common Vulnerability Scoring System (CVSS) base score,
  which gives a detailed severity rating, is available from the CVE link in
  the References section.

  KVM (Kernel-based Virtual Machine) is a full virtualization solution for
  Linux on AMD64 and Intel 64 systems. The qemu-kvm packages provide a
  user-space component to run virtual machines using KVM.

  An out-of-bounds memory access flaw was found in the way QEMU's IDE device
  driver handled the execution of SMART EXECUTE OFFLINE commands.
  A privileged guest user could use this flaw to corrupt QEMU process memory
  on the host, which could potentially result in arbitrary code execution on
  the host with the privileges of the QEMU process. (CVE-2014-2894)

  This update also fixes the following bugs:

  * Prior to this update, a bug in the migration code caused the following
  error on specific machine types: after a Red Hat Enterprise Linux 6.5 guest
  was migrated from a Red Hat Enterprise Linux 6.5 host to a Red Hat
  Enterprise Linux 7.0 host and then restarted, the boot failed and the guest
  automatically restarted. Thus, the guest entered an endless loop. With this
  update, the migration code has been fixed and the Red Hat Enterprise Linux
  6.5 guests migrated in the aforementioned scenario now boot properly.
  (BZ#1091322)

  * Due to a regression bug in the iSCSI driver, the qemu-kvm process
  terminated unexpectedly with a segmentation fault when the "write same"
  command was executed in guest mode under the iSCSI protocol. This update
  fixes the regression and the "write same" command now functions in guest
  mode under iSCSI as intended. (BZ#1090978)

  * Due to a mismatch in interrupt request (IRQ) routing, migration of a Red
  Hat Enterprise Linux 6.5 guest from a Red Hat Enterprise Linux 6.5 host to
  a Red Hat Enterprise Linux 7.0 host could produce a call trace.
  This happened if memory ballooning and a Universal Host Control Interface
  (UHCI) device were used at the same time on certain machine types.
  With this patch, the IRQ routing mismatch has been amended and the
  described migration now proceeds as expected. (BZ#1090981)

  * Previously, an internal error prevented KVM from executing a CPU hot plug
  on a Red Hat Enterprise Linux 7 guest running on a Red Hat Enterprise Linux
  7 host. This update addresses the internal error and CPU hot plugging in
  the described scenario now functions correctly. (BZ#1094820)

  All qemu-kvm users are advised to upgrade to these updated packages, which
  contain backported patches to correct these issues. After installing this
  update, shut down all running virtual machines. Once all virtual machines
  have shut down, start them again for this update to take effect.
impacted_packages:
  - purl: pkg:rpm/redhat/qemu-kvm-debuginfo?arch=x86_64&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/libcacard-devel?arch=x86_64&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/libcacard-tools?arch=x86_64&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/qemu-guest-agent?arch=x86_64&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/qemu-kvm?arch=x86_64&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/qemu-kvm-tools?arch=x86_64&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/libcacard?arch=x86_64&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/qemu-kvm-common?arch=x86_64&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/qemu-img?arch=x86_64&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/qemu-kvm-debuginfo?arch=i686&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/libcacard-devel?arch=i686&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/libcacard?arch=i686&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/qemu-kvm?arch=src&epoch=10
    affected_versions: vers:rpm/<1.5.3-60.el7_0.2
    fixed_versions: vers:rpm/1.5.3-60.el7_0.2
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2014/rhsa-2014_0704.json
weaknesses: []
references:
  - url: https://access.redhat.com/security/updates/classification/#moderate
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2014/rhsa-2014_0704.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1087971
    reference_type: bug
    reference_id: 1087971
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1090978
    reference_type: bug
    reference_id: 1090978
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1090981
    reference_type: bug
    reference_id: 1090981
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1091322
    reference_type: bug
    reference_id: 1091322
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1094820
    reference_type: bug
    reference_id: 1094820
  - url: https://access.redhat.com/errata/RHSA-2014:0704
    reference_type:
    reference_id: RHSA-2014:0704
