advisory_id: RHBA-2015:1167
datasource_id: redhat_importer_v2/RHBA-2015:1167
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2015/rhba-2015_1167.json
aliases:
  - CVE-2015-3627
  - CVE-2015-3629
  - CVE-2015-3630
  - CVE-2015-3631
summary: |
  Updated docker packages that fix several bugs are now available for Red Hat Enterprise Linux 7 Extras.

  Docker is an open-source engine that automates the deployment of any application as a lightweight, portable, self-sufficient container that will run virtually anywhere.

  This update fixes the following bugs:

  * Previously, if you had one image tagged in at least two repositories, running the "docker rmi ID" command untagged the image from just one repository and the other persisted. This bug has been fixed and "docker rmi ID" now untags all associated images. (BZ#1222784)

  * Previously, the docker service did not try to match short names against local fully qualified images names while doing a push. As a consequence, the push command reported that the image name could not be found and the user had to fully qualify the argument and execute the push again. This bug has been fixed and the docker service now tries to match short names against local images fully qualified with the default registry (those added with the "--add-registry flag"). Now, the user does not have to fully qualify the image name in order to push it to one of the default registries. (BZ#1218639)

  * During initialization of both the Docker client and daemon, the public Docker registry was resolved, in order to check whether it was secured or not. This happened regardless of the docker.io registry being blocked. Consequently, docker was attempting to resolve docker.io to an IP address any time a Docker client was run. This prolonged commands execution in environments without external DNS lookups. After this update, docker no longer checks whether the public Docker index is secure. As a result, no DNS lookups for docker.io are done unless a public Docker registry is enabled and a pull, push, or search operation is performed on it. (BZ#1224387)

  * The default handling of SELinux labeling did not work correctly and the docker service was unable to mount certain directories into containers. This bug has been fixed and mounting a directory into a container now executes successfully. (BZ#1209625)

  * Previously, the docker service was labeling shared volumes as private by default. As a consequence, other containers could not execute the content from them. With this update, the underlying source code has been fixed to label shared volumes correctly. As a result, shared volumes now work correctly with SELinux in enforcing mode. (BZ#1226320, BZ#1225549)

  * If a volume was specified with more than one object, the docker service did not perform relabeling. As a consequence, you could not, for example, mount a volume that is both read-only and needs relabeling at the same time. The labeling check has been fixed, and docker now relabels correctly in the described scenario. (BZ#1225556)

  * Previously, the docker service and SELinux were blocking relabels of the /usr directory, even if the user did not request relabeling. As a consequence, certain volume mounts of content in /usr were blocked and a container could not run. The check on relabeling has been fixed and volumes in /usr can now be mounted into a container successfully. (BZ#1230192)

  Users of docker are advised to upgrade to these updated packages, which fix these bugs.
impacted_packages:
  - purl: pkg:rpm/redhat/atomic?arch=x86_64
    affected_versions: vers:rpm/<0-0.40.gitf863afd.el7
    fixed_versions: vers:rpm/0-0.40.gitf863afd.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/docker-selinux?arch=x86_64
    affected_versions: vers:rpm/<1.6.2-14.el7
    fixed_versions: vers:rpm/1.6.2-14.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/docker?arch=x86_64
    affected_versions: vers:rpm/<1.6.2-14.el7
    fixed_versions: vers:rpm/1.6.2-14.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/docker-logrotate?arch=x86_64
    affected_versions: vers:rpm/<1.6.2-14.el7
    fixed_versions: vers:rpm/1.6.2-14.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/docker-python?arch=x86_64
    affected_versions: vers:rpm/<1.0.0-53.el7
    fixed_versions: vers:rpm/1.0.0-53.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/docker?arch=src
    affected_versions: vers:rpm/<1.6.2-14.el7
    fixed_versions: vers:rpm/1.6.2-14.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-websocket-client?arch=noarch
    affected_versions: vers:rpm/<0.14.1-97.el7
    fixed_versions: vers:rpm/0.14.1-97.el7
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2015/rhba-2015_1167.json
weaknesses: []
references:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2015/rhba-2015_1167.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1209576
    reference_type: bug
    reference_id: 1209576
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1209625
    reference_type: bug
    reference_id: 1209625
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1214070
    reference_type: bug
    reference_id: 1214070
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1215667
    reference_type: bug
    reference_id: 1215667
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1215819
    reference_type: bug
    reference_id: 1215819
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1218639
    reference_type: bug
    reference_id: 1218639
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1222453
    reference_type: bug
    reference_id: 1222453
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1222784
    reference_type: bug
    reference_id: 1222784
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1225549
    reference_type: bug
    reference_id: 1225549
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1225556
    reference_type: bug
    reference_id: 1225556
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1225965
    reference_type: bug
    reference_id: 1225965
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1226320
    reference_type: bug
    reference_id: 1226320
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1226989
    reference_type: bug
    reference_id: 1226989
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1226990
    reference_type: bug
    reference_id: 1226990
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1227040
    reference_type: bug
    reference_id: 1227040
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1228167
    reference_type: bug
    reference_id: 1228167
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1228397
    reference_type: bug
    reference_id: 1228397
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1229374
    reference_type: bug
    reference_id: 1229374
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1231936
    reference_type: bug
    reference_id: 1231936
  - url: https://access.redhat.com/errata/RHBA-2015:1167
    reference_type:
    reference_id: RHBA-2015:1167
