advisory_id: RHSA-2013:0791
datasource_id: redhat_importer_v2/RHSA-2013:0791
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2013/rhsa-2013_0791.json
aliases: []
summary: |
  Updated qemu-kvm-rhev packages that fix one security issue and two bugs are
  now available for Red Hat Enterprise Linux 6.

  The Red Hat Security Response Team has rated this update as having moderate
  security impact. A Common Vulnerability Scoring System (CVSS) base score,
  which gives a detailed severity rating, is available from the CVE link in
  the References section.

  KVM (Kernel-based Virtual Machine) is a full virtualization solution for
  Linux on AMD64 and Intel 64 systems. The qemu-kvm-rhev packages form the
  user-space component for running virtual machines using KVM.

  It was found that QEMU Guest Agent (the "qemu-ga" service) created
  certain files with world-writable permissions when run in daemon mode
  (the default mode). An unprivileged guest user could use this flaw to
  consume all free space on the partition containing the qemu-ga log file, or
  modify the contents of the log. When a UNIX domain socket transport was
  explicitly configured to be used (not the default), an unprivileged guest
  user could potentially use this flaw to escalate their privileges in the
  guest. This update requires manual action. Refer below for details.
  (CVE-2013-2007)

  This update does not change the permissions of the existing log file or
  the UNIX domain socket. For these to be changed, stop the qemu-ga service,
  and then manually remove all "group" and "other" permissions on the
  affected files, or remove the files.

  Note that after installing this update, files created by the
  guest-file-open QEMU Monitor Protocol (QMP) command will still continue to
  be created with world-writable permissions for backwards compatibility.

  This issue was discovered by Laszlo Ersek of Red Hat.

  This update also fixes the following bugs:

  * Previously, due to integer overflow in code calculations, the qemu-kvm
  utility was reporting incorrect memory size on QMP events when using the
  virtio balloon driver with more than 4 GB of memory. This update fixes the
  overflow in the code and qemu-kvm works as expected in the described
  scenario. (BZ#958750)

  * When the set_link flag is set to "off" to change the status of a network
  card, the status is changed to "down" on the respective guest. Previously,
  with certain network cards, when such a guest was restarted, the status of
  the network card was unexpectedly reset to "up", even though the network
  was unavailable. A patch has been provided to address this bug and the link
  status change is now preserved across restarts for all network cards.
  (BZ#927591)

  All users of qemu-kvm-rhev are advised to upgrade to these updated
  packages, which contain backported patches to correct these issues. After
  installing this update, shut down all running virtual machines. Once all
  virtual machines have shut down, start them again for this update to take
  effect.
impacted_packages:
  - purl: pkg:rpm/redhat/qemu-kvm-rhev?arch=src&epoch=2
    affected_versions: vers:rpm/<0.12.1.2-2.355.el6_4.5
    fixed_versions: vers:rpm/0.12.1.2-2.355.el6_4.5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/qemu-kvm-rhev?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<0.12.1.2-2.355.el6_4.5
    fixed_versions: vers:rpm/0.12.1.2-2.355.el6_4.5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/qemu-kvm-rhev-tools?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<0.12.1.2-2.355.el6_4.5
    fixed_versions: vers:rpm/0.12.1.2-2.355.el6_4.5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/qemu-img-rhev?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<0.12.1.2-2.355.el6_4.5
    fixed_versions: vers:rpm/0.12.1.2-2.355.el6_4.5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/qemu-kvm-rhev-debuginfo?arch=x86_64&epoch=2
    affected_versions: vers:rpm/<0.12.1.2-2.355.el6_4.5
    fixed_versions: vers:rpm/0.12.1.2-2.355.el6_4.5
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2013/rhsa-2013_0791.json
weaknesses: []
references:
  - url: https://access.redhat.com/security/updates/classification/#moderate
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2013/rhsa-2013_0791.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=956082
    reference_type: bug
    reference_id: 956082
  - url: https://access.redhat.com/errata/RHSA-2013:0791
    reference_type:
    reference_id: RHSA-2013:0791
