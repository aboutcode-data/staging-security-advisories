advisory_id: RHSA-2011:1580
datasource_id: redhat_importer_v2/RHSA-2011:1580
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2011/rhsa-2011_1580.json
aliases:
  - CVE-2010-3389
summary: |
  An updated resource-agents package that fixes one security issue, several
  bugs, and adds multiple enhancements is now available for Red Hat
  Enterprise Linux 6.

  The Red Hat Security Response Team has rated this update as having low
  security impact. A Common Vulnerability Scoring System (CVSS) base score,
  which gives a detailed severity rating, is available from the CVE link in
  the References section.

  The resource-agents package contains a set of scripts to interface with
  several services to operate in a High Availability environment for both
  Pacemaker and rgmanager service managers.

  It was discovered that certain resource agent scripts set the
  LD_LIBRARY_PATH environment variable to an insecure value containing empty
  path elements. A local user able to trick a user running those scripts to
  run them while working from an attacker-writable directory could use this
  flaw to escalate their privileges via a specially-crafted dynamic library.
  (CVE-2010-3389)

  Red Hat would like to thank Raphael Geissert for reporting this issue.

  This update also fixes the following bugs:

  * When using the Sybase database and the ASEHAagent resource in the
  cluster.conf file, it was not possible to run more than one ASEHAagent per
  Sybase installation. Consequently, a second ASEHA (Sybase Adaptive Server
  Enterprise (ASE) with the High Availability Option) agent could not be run.
  This bug has been fixed and it is now possible to use two ASEHA agents
  using the same Sybase installation. (BZ#711852)

  * The s/lang scripts, which implement internal functionality for the
  rgmanager package, while the central_processing option is in use, were
  included in the wrong package. Now, the rgmanager and resource-agents
  packages require each other for installation to prevent problems when they
  are used separately. (BZ#693518)

  * Previously, the oracledb.sh script was using the "shutdown abort" command
  as the first attempt to shut down a database. With this update, oracledb.sh
  first attempts a graceful shutdown via the "shutdown immediate" command
  before forcing the shutdown. (BZ#689801)

  * Previously, when setting up a service on a cluster with a shared IP
  resource and an Apache resource, the generated httpd.conf file contained a
  bug in the line describing the shared IP address (the "Listen" line). Now,
  the Apache resource agent generates the "Listen" line properly. (BZ#667217)

  * If a high-availability (HA) cluster service was defined with an Apache
  resource and was named with two words, such as "kickstart httpd", the
  service never started because it could not find a directory with the space
  character in its name escaped. Now, Apache resources work properly if a
  name contains a space as described above. (BZ#667222)

  * When inheritance was used in the cluster.conf file, a bug in the
  /usr/share/cluster/nfsclient.sh file prevented it from monitoring NFS
  exports properly. Consequently, monitoring of NFS exports to NFS clients
  resulted in an endless loop. This bug has been fixed and the monitoring now
  works as expected. (BZ#691814)

  * Previously, the postgres-8 resource agent did not detect when a
  PostgreSQL server failed to start. This bug has been fixed and postgres-8
  now works as expected in the described scenario. (BZ#694816)

  * When using the Pacemaker resource manager, the fs.sh resource agent
  reported an error condition, if called with the "monitor" parameter and the
  referenced device did not exist. Consequently, the error condition
  prevented the resource from being started. Now, fs.sh returns the proper
  response code in the described scenario, thus fixing this bug. (BZ#709400)

  * Previously, numerous RGManager resource agents returned incorrect
  response codes when coupled with the Pacemaker resource manager. Now, the
  agents have been updated to work with Pacemaker properly. (BZ#727643)

  This update also adds the following enhancement:

  * With this update, when the network is removed from a node using the
  netfs.sh resource agent, it now recovers faster than previously.
  (BZ#678497)

  As well, this update upgrades the resource-agents package to upstream
  version 3.9.2, which provides a number of bug fixes and enhancements over
  the previous version. (BZ#707127)

  All users of resource-agents are advised to upgrade to this updated
  package, which corrects these issues and adds these enhancements.
impacted_packages:
  - purl: pkg:rpm/redhat/resource-agents-debuginfo?arch=i686
    affected_versions: vers:rpm/<3.9.2-7.el6
    fixed_versions: vers:rpm/3.9.2-7.el6
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/resource-agents?arch=i686
    affected_versions: vers:rpm/<3.9.2-7.el6
    fixed_versions: vers:rpm/3.9.2-7.el6
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/resource-agents-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<3.9.2-7.el6
    fixed_versions: vers:rpm/3.9.2-7.el6
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/resource-agents?arch=x86_64
    affected_versions: vers:rpm/<3.9.2-7.el6
    fixed_versions: vers:rpm/3.9.2-7.el6
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/resource-agents?arch=src
    affected_versions: vers:rpm/<3.9.2-7.el6
    fixed_versions: vers:rpm/3.9.2-7.el6
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Low
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2011/rhsa-2011_1580.json
weaknesses: []
references:
  - url: https://access.redhat.com/security/updates/classification/#low
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=639044
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2011/rhsa-2011_1580.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=661888
    reference_type: bug
    reference_id: 661888
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=667217
    reference_type: bug
    reference_id: 667217
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=667222
    reference_type: bug
    reference_id: 667222
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=678497
    reference_type: bug
    reference_id: 678497
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=691814
    reference_type: bug
    reference_id: 691814
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=693518
    reference_type: bug
    reference_id: 693518
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=694816
    reference_type: bug
    reference_id: 694816
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=707127
    reference_type: bug
    reference_id: 707127
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=709400
    reference_type: bug
    reference_id: 709400
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=711852
    reference_type: bug
    reference_id: 711852
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=727643
    reference_type: bug
    reference_id: 727643
  - url: https://access.redhat.com/errata/RHSA-2011:1580
    reference_type:
    reference_id: RHSA-2011:1580
