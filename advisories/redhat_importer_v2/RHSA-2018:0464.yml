advisory_id: RHSA-2018:0464
datasource_id: redhat_importer_v2/RHSA-2018:0464
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2018/rhsa-2018_0464.json
aliases:
  - CVE-2017-5753
  - CVE-2017-5754
summary: |
  An update for kernel is now available for Red Hat Enterprise Linux 5.9 Long Life.

  Red Hat Product Security has rated this update as having a security impact of Important. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

  The kernel packages contain the Linux kernel, the core of any Linux operating system.

  Security Fix(es):

  An industry-wide issue was found in the way many modern microprocessor designs have implemented speculative execution of instructions (a commonly used performance optimization). There are three primary variants of the issue which differ in the way the speculative execution can be exploited.

  Note: This issue is present in hardware and cannot be fully fixed via software update. The updated kernel packages provide software mitigation for this hardware issue at a cost of potential performance penalty. Please refer to References section for further information about this issue and the performance impact.

  In this update mitigations for x86-64 architecture are provided.

  * Variant CVE-2017-5753 triggers the speculative execution by performing a bounds-check bypass. It relies on the presence of a precisely-defined instruction sequence in the privileged code as well as the fact that memory accesses may cause allocation into the microprocessor's data cache even for speculatively executed instructions that never actually commit (retire). As a result, an unprivileged attacker could use this flaw to cross the syscall boundary and read privileged memory by conducting targeted cache side-channel attacks. (CVE-2017-5753, Important)

  * Variant CVE-2017-5754 relies on the fact that, on impacted microprocessors, during speculative execution of instruction permission faults, exception generation triggered by a faulting access is suppressed until the retirement of the whole instruction block. In a combination with the fact that memory accesses may populate the cache even when the block is being dropped and never committed (executed), an unprivileged local attacker could use this flaw to read privileged (kernel space) memory by conducting targeted cache side-channel attacks. (CVE-2017-5754, Important)

  Red Hat would like to thank Google Project Zero for reporting these issues.

  Bug Fix(es):

  * Previously, the page table isolation feature was able to modify the kernel Page Global Directory (PGD) entries with the _NX bit even for CPUs without the capability to use the "no execute" (NX) bit technology. Consequently, the page tables got corrupted, and the kernel panicked at the first page-fault occurrence. This update adds the check of CPU capabilities before modifying kernel PGD entries with _NX. As a result, the operating system no longer panics on boot due to corrupted page tables under the described circumstances. (BZ#1538169)

  * When booting the operating system with the Kernel Page Table Isolation option enabled, the HPET VSYSCALL shadow mapping was not placed correctly. Consequently, the High Precision Event Timer (HPET) feature was not available early enough, and warnings on boot time occurred. This update fixes the placement of HPET VSYSCALL, and the warnings on boot time due to this behavior no longer occur. (BZ#1541281)

  * Previously, the routine preparing the kexec crashkernel area did not properly clear the page allocated to be kexec's Page Global Directory (PGD). Consequently, the page table isolation shadow mapping routines failed with a warning message when setting up page table entries. With this update, the underlying source code has been fixed to clear the kexec PGD allocated page before setting up its page table entries. As a result, warnings are no longer issued when setting up kexec. (BZ#1541285)

  * When changing a kernel page mapping from Read Only (RO) to Read Write (RW), the Translation Lookaside Buffer (TLB) entry was previously not updated. Consequently, a protection fault on a write operation occurred, which led to a kernel panic. With this update, the underlying source code has been fixed to handle such kind of fault properly, and the kernel no longer panics in the described situation. (BZ#1541892)
impacted_packages:
  - purl: pkg:rpm/redhat/kernel?arch=x86_64
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug?arch=x86_64
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-devel?arch=x86_64
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo-common?arch=x86_64
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-xen?arch=x86_64
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-xen-devel?arch=x86_64
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-xen-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-devel?arch=x86_64
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-headers?arch=x86_64
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel?arch=src
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-debuginfo?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-PAE-debuginfo?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-PAE-devel?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-devel?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-PAE?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo-common?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-xen?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-xen-devel?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-xen-debuginfo?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-devel?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo?arch=i686
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-headers?arch=i386
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-doc?arch=noarch
    affected_versions: vers:rpm/<2.6.18-348.35.1.el5
    fixed_versions: vers:rpm/2.6.18-348.35.1.el5
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Important
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2018/rhsa-2018_0464.json
weaknesses: []
references:
  - url: https://access.redhat.com/security/updates/classification/#important
    reference_type:
    reference_id:
  - url: https://access.redhat.com/security/vulnerabilities/speculativeexecution
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2018/rhsa-2018_0464.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1519778
    reference_type: bug
    reference_id: 1519778
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1519781
    reference_type: bug
    reference_id: 1519781
  - url: https://access.redhat.com/security/cve/CVE-2017-5753
    reference_type:
    reference_id: CVE-2017-5753
  - url: https://access.redhat.com/security/cve/CVE-2017-5754
    reference_type:
    reference_id: CVE-2017-5754
  - url: https://access.redhat.com/errata/RHSA-2018:0464
    reference_type:
    reference_id: RHSA-2018:0464
