advisory_id: RHBA-2015:2194
datasource_id: redhat_importer_v2/RHBA-2015:2194
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2015/rhba-2015_2194.json
aliases:
  - CVE-2020-11985
summary: |
  Updated httpd packages that fix several bugs and add various enhancements are now available for Red Hat Enterprise Linux 7.

  The httpd packages provide the Apache HTTP Server, a powerful, efficient, and extensible web server.

  This update fixes the following bugs:

  * The httpd daemon did not reset an internal array for storing variables defined using the "Define" directive. Consequently, variables could be undefined after a graceful restart. httpd has been fixed to reset this internal array during a graceful restart, and variables are now correctly defined in this scenario. (BZ#1227219)

  * The SSL_CLIENT_VERIFY environment variable was incorrectly handled when the "SSLVerifyClient optional_no_ca" and "SSLSessionCache" options were used. Consequently, when an SSL session was resumed, the SSL_CLIENT_VERIFY value was set to "SUCCESS" instead of the previously set "GENEROUS". SSL_CLIENT_VERIFY is now correctly set to GENEROUS in this scenario. (BZ#1170206)

  * The mod_ssl module did not call the ERR_free_strings method during its cleanup. Consequently, during the httpd daemon's reload, mod_ssl leaked memory. Now, ERR_free_strings is called by mod_ssl during the httpd reload, and mod_ssl no longer leaks memory. (BZ#1181690)

  * The status line of an HTTP response message from a server did not include the HTTP Reason-Phrase if the original response from the mod_proxy back-end server contained only a Status Code. Consequently, the server displayed only the Status Code to an HTTP client. HTTP clients now receive both the Status Code and Reason-Phrase. (BZ#1162159)

  * The mod_authz_dbm module requires the mod_authz_owner module but this dependency was not reflected in the mod_authz_dbm code. Consequently, when the "Require dbm-file-group" directive was used and mod_authz_dbm was loaded before mod_authz_owner, the httpd daemon terminated unexpectedly with a segmentation fault. The mod_authz_dbm code now allows loading before the mod_authz_owner module, and httpd no loner crashes in this scenario. (BZ#1221575)

  * The mod_proxy_fcgi module had a hardcoded 30-second timeout for a request. Consequently, it was impossible to change the timeout. mod_proxy_fcgi has been fixed to honor the Timeout or ProxyTimeout directives, and users are now able to configure the timeout of mod_proxy_fcgi. (BZ#1222328)

  * The mod_ssl method used for enabling Next Protocol Negotiation (NPN) support returned incorrect exit status when NPN was disabled. Consequently, although NPN was disabled by the configuration, mod_ssl continued to send it. The mod_ssl method now returns the correct value in this scenario, and mod_ssl no longer sends NPN unless configured to do so. (BZ#1226015)

  The update adds these enhancements:

  * The default configuration of the mod_ssl module in the Apache HTTP Server no longer enables support for SSL cipher suites using the single IDEA or SEED encryption algorithms, which are known to be easily exploitable. (BZ#1118476)

  * The mod_proxy_wstunnel module is now enabled by default and it includes support for SSL connections in the "wss://" scheme. Additionally, it is possible to use the "ws://" scheme in the "mod_rewrite" directives. This allows for using WebSockets as a target to "mod_rewrite" and enabling WebSockets in the proxy module. (BZ#1180745)

  * Apache HTTP Server now supports Microsoft User Principal Name (UPN) in the SSLUserName directive. Users can now authenticate with their Common Access Card (CAC) or certificate with a UPN in it, and have their UPN used as authenticated user information, consumed by both the access control in Apache and using the REMOTE_USER environment variable or a similar mechanism in applications. As a result, users can now set "SSLUserName SSL_CLIENT_SAN_OTHER_msUPN_0" for authentication using UPN. (BZ#1242503)

  Users of httpd are advised to upgrade to these updated packages, which fix these bugs and add these enhancements. After installing the updated packages, the httpd daemon will be restarted automatically.
impacted_packages:
  - purl: pkg:rpm/redhat/httpd?arch=src
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-tools?arch=x86_64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ssl?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd?arch=x86_64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-devel?arch=x86_64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ldap?arch=x86_64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_proxy_html?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_session?arch=x86_64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-manual?arch=noarch
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ssl?arch=aarch64&epoch=1
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-devel?arch=aarch64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-debuginfo?arch=aarch64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-tools?arch=aarch64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd?arch=aarch64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_proxy_html?arch=aarch64&epoch=1
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_session?arch=aarch64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ldap?arch=aarch64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-tools?arch=ppc64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-debuginfo?arch=ppc64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-devel?arch=ppc64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ssl?arch=ppc64&epoch=1
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd?arch=ppc64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_proxy_html?arch=ppc64&epoch=1
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_session?arch=ppc64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ldap?arch=ppc64
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-tools?arch=s390x
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ssl?arch=s390x&epoch=1
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-devel?arch=s390x
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd?arch=s390x
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-debuginfo?arch=s390x
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_session?arch=s390x
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_proxy_html?arch=s390x&epoch=1
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ldap?arch=s390x
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ssl?arch=ppc64le&epoch=1
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-tools?arch=ppc64le
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-debuginfo?arch=ppc64le
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-devel?arch=ppc64le
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd?arch=ppc64le
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_proxy_html?arch=ppc64le&epoch=1
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_session?arch=ppc64le
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ldap?arch=ppc64le
    affected_versions: vers:rpm/<2.4.6-40.el7
    fixed_versions: vers:rpm/2.4.6-40.el7
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2015/rhba-2015_2194.json
weaknesses: []
references:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2015/rhba-2015_2194.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1125276
    reference_type: bug
    reference_id: 1125276
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1160625
    reference_type: bug
    reference_id: 1160625
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1162159
    reference_type: bug
    reference_id: 1162159
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1169081
    reference_type: bug
    reference_id: 1169081
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1170206
    reference_type: bug
    reference_id: 1170206
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1170214
    reference_type: bug
    reference_id: 1170214
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1170215
    reference_type: bug
    reference_id: 1170215
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1170220
    reference_type: bug
    reference_id: 1170220
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1176449
    reference_type: bug
    reference_id: 1176449
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1179306
    reference_type: bug
    reference_id: 1179306
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1180745
    reference_type: bug
    reference_id: 1180745
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1184118
    reference_type: bug
    reference_id: 1184118
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1188779
    reference_type: bug
    reference_id: 1188779
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1210091
    reference_type: bug
    reference_id: 1210091
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1214398
    reference_type: bug
    reference_id: 1214398
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1214401
    reference_type: bug
    reference_id: 1214401
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1214430
    reference_type: bug
    reference_id: 1214430
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1221575
    reference_type: bug
    reference_id: 1221575
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1222328
    reference_type: bug
    reference_id: 1222328
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1225820
    reference_type: bug
    reference_id: 1225820
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1226015
    reference_type: bug
    reference_id: 1226015
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1227219
    reference_type: bug
    reference_id: 1227219
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1231924
    reference_type: bug
    reference_id: 1231924
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1235383
    reference_type: bug
    reference_id: 1235383
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1239164
    reference_type: bug
    reference_id: 1239164
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1242416
    reference_type: bug
    reference_id: 1242416
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1242503
    reference_type: bug
    reference_id: 1242503
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1255480
    reference_type: bug
    reference_id: 1255480
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1263975
    reference_type: bug
    reference_id: 1263975
  - url: https://access.redhat.com/errata/RHBA-2015:2194
    reference_type:
    reference_id: RHBA-2015:2194
