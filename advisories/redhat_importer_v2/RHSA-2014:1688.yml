advisory_id: RHSA-2014:1688
datasource_id: redhat_importer_v2/RHSA-2014:1688
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2014/rhsa-2014_1688.json
aliases:
  - CVE-2014-2828
  - CVE-2014-3621
summary: |
  Updated openstack-keystone packages that fix two security issues and
  multiple bugs are now available for Red Hat Enterprise Linux OpenStack
  Platform 4.0.

  Red Hat Product Security has rated this update as having Important security
  impact. Common Vulnerability Scoring System (CVSS) base scores, which give
  detailed severity ratings, are available for each vulnerability from the
  CVE links in the References section.

  The OpenStack Identity service (keystone) authenticates and authorizes
  OpenStack users by keeping track of users and their permitted activities.
  The Identity service supports multiple forms of authentication, including
  user name and password credentials, token-based systems, and AWS-style
  logins.

  A flaw was found in the keystone V3 API. An attacker could send a single
  request with the same authentication method multiple times, possibly
  leading to a denial of service due to generating excessive load with
  minimal requests. Only keystone setups with the V3 API enabled were
  affected by this issue. (CVE-2014-2828)

  A flaw was found in the keystone catalog URL replacement. A user with
  permissions to register an endpoint could use this flaw to leak
  configuration data, including the master admin_token. Only keystone setups
  that allow non-cloud-admin users to create endpoints were affected by this
  issue. (CVE-2014-3621)

  Red Hat would like to thank the OpenStack project for reporting
  CVE-2014-3621. Upstream acknowledges Brant Knudson from IBM as the original
  reporter of this issue.

  The openstack-keystone packages have been upgraded to upstream version
  2013.2.4, which provides a number of bug fixes over the previous version.
  (BZ#1146083)

  This update fixes the following bugs:

  * When using an LDAP back end, the Identity service failed with a 'Bad
  search filter' error whenever a token request was made for a user whose ID
  contained a comma (for example, 'Doe, John'). However, if the user's ID
  contained no comma ('John Doe'), the Identity service grants token requests
  as expected. This was because the LDAP back end code of the Identity server
  did not properly escape special characters when creating search filters.
  This update adds the necessary escaping, thereby allowing the Identity
  server to perform LDAP search operations correctly. (BZ#1099628)

  * Previously, if the Identity service encountered a failed connection to a
  message broker, re-connection attempts kept failing as well. This was
  because the Identity service tried to reconnect to the same failing message
  broker, even if there were multiple hosts configured. This has been fixed
  by making the reconnect() implementation select the next broker in the
  list. As a result, when multiple broker hosts are provided, the Identity
  service will try the next one in the list at every connection attempt.
  This means that non-failure reconnect attempts will also switch from the
  current broker to the next in the list. Hence, users should not rely on any
  particular order when using brokers from the list. (BZ#1082669)

  * The Identity service now logs successful authentications of users.
  In previous releases, only authentication failures were logged.
  (BZ#1098635)

  * When using the LDAP back end and connecting to Active Directory
  anonymously, trying to use the top-level suffix as the user_tree_dn (or
  tenant/role_tree_dn) failed with a communication error. This is because the
  Identity service attempted to chase returned referrals, which is not
  allowed by default in Active Directory for security reasons. This update
  adds a new configuration option to disable referral chasing for LDAP search
  operations, namely chase_referrals. When this option is disabled, the
  Identity service will skip over any returned referrals without chasing
  them. (BZ#1093833)

  All openstack-keystone users are advised to upgrade to these updated
  packages, which correct these issues.
impacted_packages:
  - purl: pkg:rpm/redhat/openstack-keystone-doc?arch=noarch
    affected_versions: vers:rpm/<2013.2.4-1.el6ost
    fixed_versions: vers:rpm/2013.2.4-1.el6ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-keystone?arch=noarch
    affected_versions: vers:rpm/<2013.2.4-1.el6ost
    fixed_versions: vers:rpm/2013.2.4-1.el6ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-keystone?arch=noarch
    affected_versions: vers:rpm/<2013.2.4-1.el6ost
    fixed_versions: vers:rpm/2013.2.4-1.el6ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-keystone?arch=src
    affected_versions: vers:rpm/<2013.2.4-1.el6ost
    fixed_versions: vers:rpm/2013.2.4-1.el6ost
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Important
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2014/rhsa-2014_1688.json
weaknesses: []
references:
  - url: https://access.redhat.com/security/updates/classification/#important
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2014/rhsa-2014_1688.json
    reference_type:
    reference_id:
  - url: https://wiki.openstack.org/wiki/ReleaseNotes/2013.2.4
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1082669
    reference_type: bug
    reference_id: 1082669
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1086211
    reference_type: bug
    reference_id: 1086211
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1099628
    reference_type: bug
    reference_id: 1099628
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1139937
    reference_type: bug
    reference_id: 1139937
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1146083
    reference_type: bug
    reference_id: 1146083
  - url: https://access.redhat.com/errata/RHSA-2014:1688
    reference_type:
    reference_id: RHSA-2014:1688
