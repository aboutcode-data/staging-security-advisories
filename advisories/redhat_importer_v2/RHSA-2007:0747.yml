advisory_id: RHSA-2007:0747
datasource_id: redhat_importer_v2/RHSA-2007:0747
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2007/rhsa-2007_0747.json
aliases:
  - CVE-2007-3847
summary: |
  Updated httpd packages that fix a security issue, various bugs, and add
  enhancements are now available for Red Hat Enterprise Linux 4.

  This update has been rated as having moderate security impact by the Red
  Hat Security Response Team.

  The Apache HTTP Server is a popular and freely-available Web server.

  A flaw was found in the Apache HTTP Server mod_proxy module. On sites where
  a reverse proxy is configured, a remote attacker could send a carefully
  crafted request that would cause the Apache child process handling that
  request to crash. On sites where a forward proxy is configured, an attacker
  could cause a similar crash if a user could be persuaded to visit a
  malicious site using the proxy. This could lead to a denial of service if
  using a threaded Multi-Processing Module. (CVE-2007-3847)

  As well, these updated packages fix the following bugs:

  * the default "/etc/logrotate.d/httpd" script incorrectly invoked the kill
  command, instead of using the "/sbin/service httpd restart" command. If you
  configured the httpd PID to be in a location other than
  "/var/run/httpd.pid", the httpd logs failed to be rotated. This has been
  resolved in these updated packages.

  * Set-Cookie headers with a status code of 3xx are not forwarded to
  clients when the "ProxyErrorOverride" directive is enabled. These
  responses are overridden at the proxy. Only the responses with status
  codes of 4xx and 5xx are overridden in these updated packages.

  * mod_proxy did not correctly handle percent-encoded characters (ie %20)
  when configured as a reverse proxy.

  * invalid HTTP status codes could be logged if output filters returned
  errors.

  * the "ProxyTimeout" directive was not inherited across virtual host
  definitions.

  * in some cases the Content-Length header was dropped from HEAD responses.
  This resulted in certain sites not working correctly with mod_proxy, such
  as www.windowsupdate.com.

  This update adds the following enhancements:

  * a new configuration option has been added, "ServerTokens Full-Release",
  which adds the package release to the server version string, which is
  returned in the "Server" response header.

  * a new module has been added, mod_version, which allows configuration
  files to be written containing sections, which are evaluated only if the
  version of httpd used matches a specified condition.

  Users of httpd are advised to upgrade to these updated packages, which
  resolve these issues and add these enhancements.
impacted_packages:
  - purl: pkg:rpm/redhat/httpd?arch=ia64
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-devel?arch=ia64
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ssl?arch=ia64&epoch=1
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-debuginfo?arch=ia64
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-manual?arch=ia64
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-suexec?arch=ia64
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd?arch=src
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd?arch=x86_64
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-devel?arch=x86_64
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ssl?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-manual?arch=x86_64
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-suexec?arch=x86_64
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd?arch=i386
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-devel?arch=i386
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ssl?arch=i386&epoch=1
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-debuginfo?arch=i386
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-manual?arch=i386
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-suexec?arch=i386
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd?arch=ppc
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-devel?arch=ppc
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ssl?arch=ppc&epoch=1
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-debuginfo?arch=ppc
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-manual?arch=ppc
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-suexec?arch=ppc
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd?arch=s390
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-devel?arch=s390
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ssl?arch=s390&epoch=1
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-debuginfo?arch=s390
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-manual?arch=s390
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-suexec?arch=s390
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd?arch=s390x
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-devel?arch=s390x
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/mod_ssl?arch=s390x&epoch=1
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-debuginfo?arch=s390x
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-manual?arch=s390x
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/httpd-suexec?arch=s390x
    affected_versions: vers:rpm/<2.0.52-38.ent
    fixed_versions: vers:rpm/2.0.52-38.ent
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2007/rhsa-2007_0747.json
weaknesses: []
references:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2007/rhsa-2007_0747.json
    reference_type:
    reference_id:
  - url: http://www.redhat.com/security/updates/classification/#moderate
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=173467
    reference_type: bug
    reference_id: 173467
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=197915
    reference_type: bug
    reference_id: '197915'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=233254
    reference_type: bug
    reference_id: 233254
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=240022
    reference_type: bug
    reference_id: 240022
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=241407
    reference_type: bug
    reference_id: 241407
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=242920
    reference_type: bug
    reference_id: 242920
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=248696
    reference_type: bug
    reference_id: 248696
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=250731
    reference_type: bug
    reference_id: 250731
  - url: https://access.redhat.com/errata/RHSA-2007:0747
    reference_type:
    reference_id: RHSA-2007:0747
