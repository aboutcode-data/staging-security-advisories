advisory_id: RHSA-2017:1244
datasource_id: redhat_importer_v2/RHSA-2017:1244
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2017/rhsa-2017_1244.json
aliases:
  - CVE-2017-7466
  - CVE-2017-7481
summary: "An update for ansible and openshift-ansible is now available for Red Hat OpenShift\
  \ Container Platform 3.2, Red Hat OpenShift Container Platform 3.3, Red Hat OpenShift Container\
  \ Platform 3.4, and Red Hat OpenShift Container Platform 3.5.\n\nRed Hat Product Security\
  \ has rated this update as having a security impact of Important. A Common Vulnerability Scoring\
  \ System (CVSS) base score, which gives a detailed severity rating, is available for each\
  \ vulnerability from the CVE link(s) in the References section.\n\nAnsible is a simple model-driven\
  \ configuration management, multi-node deployment, and remote task execution system. Ansible\
  \ works over SSH and does not require any software or daemons to be installed on remote nodes.\
  \ \n\nThe openshift-ansible packages contain Ansible code and playbooks for installing and\
  \ upgrading OpenShift Container Platform 3.\n\nSecurity Fix(es):\n\n* An input validation\
  \ vulnerability was found in Ansible's handling of data sent from client systems. An attacker\
  \ with control over a client system being managed by Ansible, and the ability to send facts\
  \ back to the Ansible server, could use this flaw to execute arbitrary code on the Ansible\
  \ server using the Ansible server privileges. (CVE-2017-7466)\n\n* An input validation flaw\
  \ was found in Ansible, where it fails to properly mark lookup-plugin results as unsafe. If\
  \ an attacker could control the results of lookup() calls, they could inject Unicode strings\
  \ to be parsed by the jinja2 templating system, resulting in code execution. By default, the\
  \ jinja2 templating language is now marked as 'unsafe' and is not evaluated. (CVE-2017-7481)\n\
  \nThese issues were discovered by Evgeni Golov (Red Hat).\n\nBug Fix(es):\n\n* The installer\
  \ could fail to add iptables rules if other iptables rules were updated at the same time.\
  \ The installer now waits to obtain a lock, ensuring that rules are properly created. (BZ#1445194,\
  \ BZ#1445282)\n\n* In multi-master environments, if `ansible_host` and `openshift_hostname`\
  \ values differ and Ansible sorts one of the lists differently from the other, the CA host\
  \ may be the first master but it was still signing the initial certificates with the host\
  \ names of the first master. By ensuring that the host names of the CA host are used when\
  \ creating the certificate authority, this bug fix ensures that certificates are signed with\
  \ correct host names. (BZ#1447399, BZ#1440309, BZ#1447398)\n\n* Running Ansible via `batch`\
  \ systems like the `nohup` command caused Ansible to leak file descriptors and abort playbooks\
  \ whenever the maximum number of open file descriptors was reached. Ansible 2.2.3.0 includes\
  \ a fix for this problem, and OCP channels have been updated to include this version. (BZ#1439277)\n\
  \n* The OCP 3.4 logging stack upgraded the schema to use the common standard logging data\
  \ model. However, some of the Elasticsearch and Kibana configuration using this schema was\
  \ missing, causing Kibana to show an error message upon startup. The correct Elasticsearch\
  \ and Kibana configuration is now added to the logging stack, including for upgrades from\
  \ OCP 3.3 to 3.4, and from 3.4.x to 3.4.y. As a result, Kibana works correctly with the new\
  \ logging data schema. (BZ#1444106)\n\n* Because the upgrade playbooks upgraded packages in\
  \ a serial manner rather than all at once, yum dependency resolution installed the latest\
  \ version available in the enabled repositories rather than the requested version. This bug\
  \ fix updates the playbooks to upgrade all packages to the requested version at once, which\
  \ prevents yum from potentially upgrading to the latest version. (BZ#1391325, BZ#1449220,\
  \ BZ#1449221) \n\n* In an environment utilizing mixed containerized and RPM-based installation\
  \ methods, the installer failed to gather facts when a master and node used different installation\
  \ methods. This bug fix updates the installer to ensure mixed installations work properly.\
  \ (BZ#1408663)\n\n* Previously, if `enable_excluders=false` was set, playbooks still installed\
  \ and upgraded the excluders during the config.yml playbook even if the excluders were never\
  \ previously installed. With this bug fix, if the excluders were not previously installed,\
  \ playbooks avoid installing them. (BZ#1434679)\n\n* Previously, playbooks aborted if a namespace\
  \ had non-ASCII characters in their descriptions. This bug fix updates playbooks to properly\
  \ decode Unicode characters, ensuring that upgrades to OCP 3.5 work as expected. (BZ#1444806)"
impacted_packages:
  - purl: pkg:rpm/redhat/openshift-ansible-docs?arch=noarch
    affected_versions: vers:rpm/<3.2.56-1.git.0.b844ab7.el7
    fixed_versions: vers:rpm/3.2.56-1.git.0.b844ab7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-lookup-plugins?arch=noarch
    affected_versions: vers:rpm/<3.2.56-1.git.0.b844ab7.el7
    fixed_versions: vers:rpm/3.2.56-1.git.0.b844ab7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible?arch=noarch
    affected_versions: vers:rpm/<3.2.56-1.git.0.b844ab7.el7
    fixed_versions: vers:rpm/3.2.56-1.git.0.b844ab7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-filter-plugins?arch=noarch
    affected_versions: vers:rpm/<3.2.56-1.git.0.b844ab7.el7
    fixed_versions: vers:rpm/3.2.56-1.git.0.b844ab7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-playbooks?arch=noarch
    affected_versions: vers:rpm/<3.2.56-1.git.0.b844ab7.el7
    fixed_versions: vers:rpm/3.2.56-1.git.0.b844ab7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-utils?arch=noarch
    affected_versions: vers:rpm/<3.2.56-1.git.0.b844ab7.el7
    fixed_versions: vers:rpm/3.2.56-1.git.0.b844ab7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-roles?arch=noarch
    affected_versions: vers:rpm/<3.2.56-1.git.0.b844ab7.el7
    fixed_versions: vers:rpm/3.2.56-1.git.0.b844ab7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ansible?arch=noarch
    affected_versions: vers:rpm/<2.2.3.0-1.el7
    fixed_versions: vers:rpm/2.2.3.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible?arch=noarch
    affected_versions: vers:rpm/<3.3.82-1.git.0.af0c922.el7
    fixed_versions: vers:rpm/3.3.82-1.git.0.af0c922.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-roles?arch=noarch
    affected_versions: vers:rpm/<3.3.82-1.git.0.af0c922.el7
    fixed_versions: vers:rpm/3.3.82-1.git.0.af0c922.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-filter-plugins?arch=noarch
    affected_versions: vers:rpm/<3.3.82-1.git.0.af0c922.el7
    fixed_versions: vers:rpm/3.3.82-1.git.0.af0c922.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-utils?arch=noarch
    affected_versions: vers:rpm/<3.3.82-1.git.0.af0c922.el7
    fixed_versions: vers:rpm/3.3.82-1.git.0.af0c922.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-lookup-plugins?arch=noarch
    affected_versions: vers:rpm/<3.3.82-1.git.0.af0c922.el7
    fixed_versions: vers:rpm/3.3.82-1.git.0.af0c922.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-playbooks?arch=noarch
    affected_versions: vers:rpm/<3.3.82-1.git.0.af0c922.el7
    fixed_versions: vers:rpm/3.3.82-1.git.0.af0c922.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-docs?arch=noarch
    affected_versions: vers:rpm/<3.3.82-1.git.0.af0c922.el7
    fixed_versions: vers:rpm/3.3.82-1.git.0.af0c922.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-callback-plugins?arch=noarch
    affected_versions: vers:rpm/<3.3.82-1.git.0.af0c922.el7
    fixed_versions: vers:rpm/3.3.82-1.git.0.af0c922.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-utils?arch=noarch
    affected_versions: vers:rpm/<3.4.89-1.git.0.ac29ce8.el7
    fixed_versions: vers:rpm/3.4.89-1.git.0.ac29ce8.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-callback-plugins?arch=noarch
    affected_versions: vers:rpm/<3.4.89-1.git.0.ac29ce8.el7
    fixed_versions: vers:rpm/3.4.89-1.git.0.ac29ce8.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-playbooks?arch=noarch
    affected_versions: vers:rpm/<3.4.89-1.git.0.ac29ce8.el7
    fixed_versions: vers:rpm/3.4.89-1.git.0.ac29ce8.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-roles?arch=noarch
    affected_versions: vers:rpm/<3.4.89-1.git.0.ac29ce8.el7
    fixed_versions: vers:rpm/3.4.89-1.git.0.ac29ce8.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-docs?arch=noarch
    affected_versions: vers:rpm/<3.4.89-1.git.0.ac29ce8.el7
    fixed_versions: vers:rpm/3.4.89-1.git.0.ac29ce8.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-filter-plugins?arch=noarch
    affected_versions: vers:rpm/<3.4.89-1.git.0.ac29ce8.el7
    fixed_versions: vers:rpm/3.4.89-1.git.0.ac29ce8.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible?arch=noarch
    affected_versions: vers:rpm/<3.4.89-1.git.0.ac29ce8.el7
    fixed_versions: vers:rpm/3.4.89-1.git.0.ac29ce8.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-lookup-plugins?arch=noarch
    affected_versions: vers:rpm/<3.4.89-1.git.0.ac29ce8.el7
    fixed_versions: vers:rpm/3.4.89-1.git.0.ac29ce8.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible?arch=noarch
    affected_versions: vers:rpm/<3.5.71-1.git.0.128c2db.el7
    fixed_versions: vers:rpm/3.5.71-1.git.0.128c2db.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-filter-plugins?arch=noarch
    affected_versions: vers:rpm/<3.5.71-1.git.0.128c2db.el7
    fixed_versions: vers:rpm/3.5.71-1.git.0.128c2db.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-callback-plugins?arch=noarch
    affected_versions: vers:rpm/<3.5.71-1.git.0.128c2db.el7
    fixed_versions: vers:rpm/3.5.71-1.git.0.128c2db.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-playbooks?arch=noarch
    affected_versions: vers:rpm/<3.5.71-1.git.0.128c2db.el7
    fixed_versions: vers:rpm/3.5.71-1.git.0.128c2db.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-utils?arch=noarch
    affected_versions: vers:rpm/<3.5.71-1.git.0.128c2db.el7
    fixed_versions: vers:rpm/3.5.71-1.git.0.128c2db.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-docs?arch=noarch
    affected_versions: vers:rpm/<3.5.71-1.git.0.128c2db.el7
    fixed_versions: vers:rpm/3.5.71-1.git.0.128c2db.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-roles?arch=noarch
    affected_versions: vers:rpm/<3.5.71-1.git.0.128c2db.el7
    fixed_versions: vers:rpm/3.5.71-1.git.0.128c2db.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible-lookup-plugins?arch=noarch
    affected_versions: vers:rpm/<3.5.71-1.git.0.128c2db.el7
    fixed_versions: vers:rpm/3.5.71-1.git.0.128c2db.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible?arch=src
    affected_versions: vers:rpm/<3.2.56-1.git.0.b844ab7.el7
    fixed_versions: vers:rpm/3.2.56-1.git.0.b844ab7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ansible?arch=src
    affected_versions: vers:rpm/<2.2.3.0-1.el7
    fixed_versions: vers:rpm/2.2.3.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible?arch=src
    affected_versions: vers:rpm/<3.3.82-1.git.0.af0c922.el7
    fixed_versions: vers:rpm/3.3.82-1.git.0.af0c922.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible?arch=src
    affected_versions: vers:rpm/<3.4.89-1.git.0.ac29ce8.el7
    fixed_versions: vers:rpm/3.4.89-1.git.0.ac29ce8.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openshift-ansible?arch=src
    affected_versions: vers:rpm/<3.5.71-1.git.0.128c2db.el7
    fixed_versions: vers:rpm/3.5.71-1.git.0.128c2db.el7
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Important
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2017/rhsa-2017_1244.json
weaknesses: []
references:
  - url: https://access.redhat.com/errata/RHSA-2017:1244
    reference_type:
    reference_id:
  - url: https://access.redhat.com/security/updates/classification/#important
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2017/rhsa-2017_1244.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1391325
    reference_type: bug
    reference_id: 1391325
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1408663
    reference_type: bug
    reference_id: 1408663
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1418032
    reference_type: bug
    reference_id: 1418032
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1422541
    reference_type: bug
    reference_id: 1422541
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1434679
    reference_type: bug
    reference_id: 1434679
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1439212
    reference_type: bug
    reference_id: 1439212
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1439277
    reference_type: bug
    reference_id: 1439277
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1440309
    reference_type: bug
    reference_id: 1440309
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1444106
    reference_type: bug
    reference_id: 1444106
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1444806
    reference_type: bug
    reference_id: 1444806
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1445194
    reference_type: bug
    reference_id: 1445194
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1445282
    reference_type: bug
    reference_id: 1445282
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1446741
    reference_type: bug
    reference_id: 1446741
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1446745
    reference_type: bug
    reference_id: 1446745
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1447398
    reference_type: bug
    reference_id: 1447398
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1447399
    reference_type: bug
    reference_id: 1447399
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1448842
    reference_type: bug
    reference_id: 1448842
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1449220
    reference_type: bug
    reference_id: 1449220
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1449221
    reference_type: bug
    reference_id: 1449221
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1450018
    reference_type: bug
    reference_id: 1450018
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1450412
    reference_type: bug
    reference_id: 1450412
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1450415
    reference_type: bug
    reference_id: 1450415
