advisory_id: RHSA-2017:0217
datasource_id: redhat_importer_v2/RHSA-2017:0217
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2017/rhsa-2017_0217.json
aliases:
  - CVE-2016-2847
  - CVE-2016-7117
summary: |
  An update for kernel is now available for Red Hat Enterprise Linux 7.2 Extended Update Support.

  Red Hat Product Security has rated this update as having a security impact of Important. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

  The kernel packages contain the Linux kernel, the core of any Linux operating system.

  Security Fix(es):

  * A use-after-free vulnerability was found in the kernel's socket recvmmsg subsystem. This may allow remote attackers to corrupt memory and may allow execution of arbitrary code. This corruption takes place during the error handling routines within __sys_recvmmsg() function. (CVE-2016-7117, Important)

  * It is possible for a single process to cause an OOM condition by filling large pipes with data that are never read. A typical process filling 4096 pipes with 1 MB of data will use 4 GB of memory and there can be multiple such processes, up to a per-user-limit. (CVE-2016-2847, Moderate)

  Red Hat would like to thank Tetsuo Handa for reporting CVE-2016-2847.

  Bug Fix(es):

  * Previously, an XFS corruption in some cases occurred on Seagate 8TB drive based volumes after a planned system shutdown or reboot, when a disk write back cache was used. With this update, the megaraid_sas driver has been fixed and the XFS corruption no longer occurs in the described scenario. (BZ#1398178)

  * This update applies a set of patches for the resizable hash table (rhashtable). This set contains backported bug fixes and enhancements from upstream. (BZ#1382630)

  * Previously, a kernel panic in some cases occurred during the boot with the Nonvolatile Memory Express (NVMe) kernel module, because the NVMe driver did not receive legacy PCI interrupts. This update fixes the NVMe driver to always use the Message Signaled Interrupts (MSI/MSI-X) interrupts. As a result, the operating system now boots without panic under the described circumstances. (BZ#1396558)

  * Previously, the Advanced Error Reporting (AER) correct error in some cases caused a kernel panic. This update fixes the _scsih_pci_mmio_enabled() function in the mpt3sas driver to not incorrectly return PCI_ERS_RESULT_NEED_RESET return value in the situation when PCI_ERS_RESULT_RECOVERED return value is expected. As a result, the kernel no longer panics due to _scsih_pci_mmio_enabled(). (BZ#1395220)

  * When resizing the Transmit (TX) and Receive (RX) rings in the sfc driver with the "ethtool -G" command, a kernel protection fault in the napi_hash_add() function occurred on systems with a large number of queues. With this update, the efx_copy_channel()function in the sfc driver has been fixed to correctly clear the napi_hash state. As a result, the sfc kernel module now unloads successfully without the mentioned kernel protection fault. (BZ#1401460)

  * When a virtual machine (VM) with 2 PCI-Passthrough Ethernet interfaces attached was created, deleted and recreated, the operating system terminated unexpectedly and rebooted during the recreation. This update fixes the race condition between the eventfd and virqfd signaling mechanisms in the vfio driver. As a result, the operating system now boots without crashing in the described situation. (BZ#1391610)

  * Previously, when two NFS shares with different security settings were mounted, the I/O operations to the kerberos-authenticated mount caused the RPC_CRED_KEY_EXPIRE_SOON parameter to be set, but the parameter was not unset when performing the I/O operations on the sec=sys mount. Consequently, writes to both NFS shares had the same parameters, regardless of their security settings. This update fixes this problem by moving the NO_CRKEY_TIMEOUT parameter to the auth->au_flags field. As a result, NFS shares with different security settings are now handled as expected. (BZ#1388603)

  * Previously, memory corruption by copying data into the wrong memory locations sometimes occurred, because the __copy_tofrom_user() function was returning incorrect values. This update fixes the __copy_tofrom_user() function so that it no longer returns larger values than the number of bytes it was asked to copy. As a result, memory corruption no longer occurs in he described scenario. (BZ#1398588)
impacted_packages:
  - purl: pkg:rpm/redhat/kernel-tools?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/perf-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-devel?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-devel?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/perf?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-headers?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-perf?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-libs?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-perf-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo-common-x86_64?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-libs-devel?arch=x86_64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-abi-whitelists?arch=noarch
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-doc?arch=noarch
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel?arch=src
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-perf-debuginfo?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-debuginfo?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-libs-devel?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-debuginfo?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/perf-debuginfo?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo-common-ppc64?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-devel?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/perf?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-perf?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-headers?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-bootwrapper?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-devel?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-libs?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel?arch=ppc64
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-perf-debuginfo?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-devel?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-debuginfo?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-libs-devel?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-debuginfo?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/perf-debuginfo?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo-common-ppc64le?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/perf?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-perf?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-headers?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-bootwrapper?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-devel?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-libs?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel?arch=ppc64le
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-devel?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/perf?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-kdump-devel?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-kdump?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-perf?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo-common-s390x?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-headers?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-debuginfo?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-devel?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-perf-debuginfo?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/perf-debuginfo?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-kdump-debuginfo?arch=s390x
    affected_versions: vers:rpm/<3.10.0-327.46.1.el7
    fixed_versions: vers:rpm/3.10.0-327.46.1.el7
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Important
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2017/rhsa-2017_0217.json
weaknesses: []
references:
  - url: https://access.redhat.com/security/updates/classification/#important
    reference_type:
    reference_id:
  - url: https://access.redhat.com/security/vulnerabilities/2706661
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2017/rhsa-2017_0217.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1313428
    reference_type: bug
    reference_id: 1313428
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1382268
    reference_type: bug
    reference_id: 1382268
  - url: https://access.redhat.com/errata/RHSA-2017:0217
    reference_type:
    reference_id: RHSA-2017:0217
