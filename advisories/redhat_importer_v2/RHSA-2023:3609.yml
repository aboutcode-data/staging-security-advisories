advisory_id: RHSA-2023:3609
datasource_id: redhat_importer_v2/RHSA-2023:3609
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2023/rhsa-2023_3609.json
aliases:
  - CVE-2022-3172
summary: "Updated images that fix several bugs are now available for Red Hat OpenShift Data\
  \ Foundation 4.12.4 on Red Hat Enterprise Linux 8 from Red Hat Container Registry.\n\nRed\
  \ Hat Product Security has rated this update as having a security impact of Moderate. A Common\
  \ Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating,\
  \ is available for each vulnerability from the CVE link(s) in the References section.\n\n\
  Red Hat OpenShift Data Foundation is software-defined storage integrated with and optimized\
  \ for the Red Hat OpenShift Data Foundation. Red Hat OpenShift Data Foundation is a highly\
  \ scalable, production-grade persistent storage for stateful applications running in the Red\
  \ Hat OpenShift Container Platform. In addition to persistent storage, Red Hat OpenShift Data\
  \ Foundation provisions a multi-cloud data management service with an S3-compatible API.\n\
  \nSecurity Fix(es):\n\n* kube-apiserver: Aggregated API server can cause clients to be redirected\
  \ (SSRF) (CVE-2022-3172)\n\nFor more details about the security issue(s), including the impact,\
  \ a CVSS score, acknowledgments, and other related information, refer to the CVE page(s) listed\
  \ in the References section.\n\nBug fixes:\n\n* Previously, when a sub-directory was created,\
  \ it would always use its parentâ€™s non-projected `gid`/`uid` metadata to set up its own `gid`/`uid`\
  \ metadata. If the journal logs were not flushed, it would always retrieve the old `gid`/`uid`\
  \ metadata. \n\nWith this fix, sub-directory uses the projected `gid`/`uid` metadata and as\
  \ a result, the sub-directories inherit the correct `gid`/`uid` metadata from its parent.\
  \ (BZ#2182943)\n\n* Previously, stale RADOS block device (RBD) images were left in the cluster\
  \ as there was some trouble deleting the the RBD image due to \"numerical result is out of\
  \ range\" error. With this fix, the number of trash entries list is increased in go-ceph.\
  \ So, stale RBD images are not found in the Ceph cluster. (BZ#2195989)\n\n* Previously, Multicloud\
  \ Object Gateway (MCG) Key Management Service (KMS) encryption was enabled even when the clusterwide\
  \ encryption was not enabled and only with the KMS encryption enabled. This was because MCG\
  \ encryption was set to enable when one of these conditions was true:\n* storagecluster.Spec.Encryption.Enable\n\
  * storagecluster.Spec.Encryption.ClusterWide\n* storagecluster.Spec.Encryption.KeyManagementService.Enable.\
  \ \n\nWith this fix, MCG encryption is enabled only when the storagecluster spec has KMS enabled\
  \ and any one of the following conditions is true:\n* Encryption.Enabled OR\n* Encryption.ClusterWide\
  \ is true OR\n* MCG is in Standalone mode\nAs a result, MCG is encrypted appropriately. (BZ#2192596)\n\
  \nAll users of Red Hat OpenShift Data Foundation are advised to upgrade to\nthese updated\
  \ images, which provide these bug fixes."
impacted_packages: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2023/rhsa-2023_3609.json
weaknesses: []
references:
  - url: https://access.redhat.com/security/updates/classification/#moderate
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2023/rhsa-2023_3609.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2127804
    reference_type: bug
    reference_id: 2127804
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2182943
    reference_type: bug
    reference_id: 2182943
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2188331
    reference_type: bug
    reference_id: 2188331
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2192596
    reference_type: bug
    reference_id: 2192596
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2195989
    reference_type: bug
    reference_id: 2195989
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2208477
    reference_type: bug
    reference_id: 2208477
  - url: https://access.redhat.com/errata/RHSA-2023:3609
    reference_type:
    reference_id: RHSA-2023:3609
