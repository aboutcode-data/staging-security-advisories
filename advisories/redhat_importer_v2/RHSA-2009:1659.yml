advisory_id: RHSA-2009:1659
datasource_id: redhat_importer_v2/RHSA-2009:1659
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2009/rhsa-2009_1659.json
aliases:
  - CVE-2009-4031
summary: |
  Updated kvm packages that fix one security issue and several bugs are now
  available for Red Hat Enterprise Linux 5.

  This update has been rated as having moderate security impact by the Red
  Hat Security Response Team.

  KVM (Kernel-based Virtual Machine) is a full virtualization solution for
  Linux on AMD64 and Intel 64 systems. KVM is a Linux kernel module built for
  the standard Red Hat Enterprise Linux kernel.

  On x86 platforms, the do_insn_fetch() function did not limit the amount of
  instruction bytes fetched per instruction. Users in guest operating systems
  could leverage this flaw to cause large latencies on SMP hosts that could
  lead to a local denial of service on the host operating system. This
  update fixes this issue by imposing the architecturally-defined 15 byte
  length limit for instructions. (CVE-2009-4031)

  This update also fixes the following bugs:

  * performance problems occurred when using the qcow2 image format with the
  qemu-kvm -drive "cache=none" option (the default setting when not specified
  otherwise). This could cause guest operating system installations to take
  hours. With this update, performance patches have been backported so that
  using the qcow2 image format with the "cache=none" option no longer causes
  performance issues. (BZ#520693)

  * when using the virtual vm8086 mode, bugs in the emulated hardware task
  switching implementation may have, in some situations, caused older guest
  operating systems to malfunction. (BZ#532031)

  * Windows Server 2003 guests (32-bit) with more than 4GB of memory may have
  crashed during reboot when using the default qemu-kvm CPU settings.
  (BZ#532043)

  * with Red Hat Enterprise Virtualization, guests continued to run after
  encountering disk read errors. This could have led to their file systems
  becoming corrupted (but not the host's), notably in environments that use
  networked storage. With this update, the qemu-kvm -drive "werror=stop"
  option now applies not only to write errors but also to read errors: When
  using this option, guests will pause on disk read and write errors.

  By default, guests managed by Red Hat Enterprise Virtualization use the
  "werror=stop" option. This option is not used by default for guests managed
  by libvirt. (BZ#537334, BZ#540406)

  * the para-virtualized block driver (virtio-blk) silently ignored read
  errors when accessing disk images. With this update, the driver correctly
  signals the read error to the guest. (BZ#537334)

  All KVM users should upgrade to these updated packages, which contain
  backported patches to resolve these issues. Note: The procedure in the
  Solution section must be performed before this update will take effect.
impacted_packages:
  - purl: pkg:rpm/redhat/kvm-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<83-105.el5_4.13
    fixed_versions: vers:rpm/83-105.el5_4.13
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kmod-kvm?arch=x86_64
    affected_versions: vers:rpm/<83-105.el5_4.13
    fixed_versions: vers:rpm/83-105.el5_4.13
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kvm?arch=x86_64
    affected_versions: vers:rpm/<83-105.el5_4.13
    fixed_versions: vers:rpm/83-105.el5_4.13
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kvm-qemu-img?arch=x86_64
    affected_versions: vers:rpm/<83-105.el5_4.13
    fixed_versions: vers:rpm/83-105.el5_4.13
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kvm-tools?arch=x86_64
    affected_versions: vers:rpm/<83-105.el5_4.13
    fixed_versions: vers:rpm/83-105.el5_4.13
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kvm?arch=src
    affected_versions: vers:rpm/<83-105.el5_4.13
    fixed_versions: vers:rpm/83-105.el5_4.13
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2009/rhsa-2009_1659.json
weaknesses: []
references:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=541160
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2009/rhsa-2009_1659.json
    reference_type:
    reference_id:
  - url: http://www.redhat.com/security/updates/classification/#moderate
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=532031
    reference_type: bug
    reference_id: 532031
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=532043
    reference_type: bug
    reference_id: 532043
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=537334
    reference_type: bug
    reference_id: 537334
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=540406
    reference_type: bug
    reference_id: 540406
  - url: https://access.redhat.com/errata/RHSA-2009:1659
    reference_type:
    reference_id: RHSA-2009:1659
