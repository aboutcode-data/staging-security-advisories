advisory_id: RHSA-2022:5602
datasource_id: redhat_importer_v2/RHSA-2022:5602
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2022/rhsa-2022_5602.json
aliases:
  - CVE-2022-28346
  - CVE-2022-28347
summary: |
  An updated version of Red Hat Update Infrastructure (RHUI) is now available. RHUI 4.1.1 introduces important enhancements and fixes several security bugs.

  Red Hat Update Infrastructure (RHUI) offers a highly scalable, highly redundant framework that enables you to manage repositories and content. It also enables cloud providers to deliver content and updates to Red Hat Enterprise Linux (RHEL) instances.

  Security Fix(es):
  * Django: SQL injection via QuerySet's annotate, aggregate, and extra functions (CVE-2022-28346)
  * Django: SQL injection via QuerySet's explain function on PostgreSQL (CVE-2022-28347)

  This update fixes the following bugs:

  * Previously, when a path for a non-RHUI repository was used in the entitlement certificate, RHUI Manager logged the following error message in the `/var/log/messages` file:
  ...
  Invalid entitlement path %s found
  ...

  With this update, the error message has been clarified and reworded to the following message:
  ...
  Invalid repository download URL: %s provided
  ...

  In addition, this RHUI update introduces the following enhancements:

  * With this update, containers are now supported on RHUI. You can perform the following operations:
  ** Add containers to RHUI
  ** Synchronize these containers regularly along with containers from `registry.redhat.io` or any other registry of your choice
  ** Offer the containers to client virtual machines using a special client configuration RPM. You can create the configuration RPM using the `rhui-manager` text user interface.

  * With this update, the repository synchronization status, the validity status of the RHUI CA certificate, and the statuses of services running on the RHUA, CDS, and HAProxy nodes are now available. In the case of services running on the nodes, you can view the statuses by running the `rhui-manager status` command on the RHUA node.(BZ#1636435)

  * With this update, you can specify the following certificates and keys during RHUI installation:
  ** Custom CA certificates and keys on the RHUA node
  ** Custom CA certificate and key that will be used to generate client entitlement certificates
  ** Custom CA certificate and key that will be used to generate client SSL certificates
  ** Custom SSL certificate and key for the web server when adding a CDS node. Note that this certificate must be usable for all the load balancers and CDS host names that you are using with your RHUI installation(BZ#2010343)

  * Previously, you could only access repositories by using paths with the `/pulp/content` prefix. With this update, you can now access repositories using paths containing other predefined prefixes. In addition, you can also configure protected and unprotected custom repositories to use custom prefixes.(BZ#2079376)

  Users of RHUI are advised to upgrade to these updated packages that fix
  these bugs and add these enhancements.
impacted_packages:
  - purl: pkg:rpm/redhat/rhui-installer?arch=src
    affected_versions: vers:rpm/<4.1.1.8-1.el8ui
    fixed_versions: vers:rpm/4.1.1.8-1.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rhui-cds-plugin-authorizer-cert?arch=src
    affected_versions: vers:rpm/<1.0.5-1.el8ui
    fixed_versions: vers:rpm/1.0.5-1.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-django?arch=src
    affected_versions: vers:rpm/<3.2.13-2.el8ui
    fixed_versions: vers:rpm/3.2.13-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rhui-cds-plugin-fetcher?arch=src
    affected_versions: vers:rpm/<1.0.5-1.el8ui
    fixed_versions: vers:rpm/1.0.5-1.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-pulpcore?arch=src
    affected_versions: vers:rpm/<3.17.6-3.el8ui
    fixed_versions: vers:rpm/3.17.6-3.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ansible-collection-community-crypto?arch=src
    affected_versions: vers:rpm/<1.7.0-4.el8ui
    fixed_versions: vers:rpm/1.7.0-4.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-pulp-rpm?arch=src
    affected_versions: vers:rpm/<3.17.5-2.el8ui
    fixed_versions: vers:rpm/3.17.5-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/createrepo_c?arch=src
    affected_versions: vers:rpm/<0.20.0-2.el8ui
    fixed_versions: vers:rpm/0.20.0-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-future?arch=src
    affected_versions: vers:rpm/<0.18.2-5.el8ui
    fixed_versions: vers:rpm/0.18.2-5.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-pulp-container?arch=src
    affected_versions: vers:rpm/<2.10.3-2.el8ui
    fixed_versions: vers:rpm/2.10.3-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-pycryptodomex?arch=src
    affected_versions: vers:rpm/<3.14.1-2.el8ui
    fixed_versions: vers:rpm/3.14.1-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-url-normalize?arch=src
    affected_versions: vers:rpm/<1.4.3-4.el8ui
    fixed_versions: vers:rpm/1.4.3-4.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-ecdsa?arch=src
    affected_versions: vers:rpm/<0.14.1-2.el8ui
    fixed_versions: vers:rpm/0.14.1-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-pyjwt?arch=src
    affected_versions: vers:rpm/<1.7.1-8.el8ui
    fixed_versions: vers:rpm/1.7.1-8.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-pyjwkest?arch=src
    affected_versions: vers:rpm/<1.4.2-6.el8ui
    fixed_versions: vers:rpm/1.4.2-6.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-pulp-container-client?arch=src
    affected_versions: vers:rpm/<2.7.1-6.el8ui
    fixed_versions: vers:rpm/2.7.1-6.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-requests?arch=src
    affected_versions: vers:rpm/<2.27.1-2.el8ui
    fixed_versions: vers:rpm/2.27.1-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-cryptography?arch=src
    affected_versions: vers:rpm/<3.1.1-2.el8ui
    fixed_versions: vers:rpm/3.1.1-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-pyOpenSSL?arch=src
    affected_versions: vers:rpm/<19.1.0-3.el8ui
    fixed_versions: vers:rpm/19.1.0-3.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/pulpcore-selinux?arch=src
    affected_versions: vers:rpm/<1.3.0-1.el8ui
    fixed_versions: vers:rpm/1.3.0-1.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rhui-tools?arch=src
    affected_versions: vers:rpm/<4.1.1.16-1.el8ui
    fixed_versions: vers:rpm/4.1.1.16-1.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rhui-installer?arch=noarch
    affected_versions: vers:rpm/<4.1.1.8-1.el8ui
    fixed_versions: vers:rpm/4.1.1.8-1.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rhui-cds-plugin-authorizer-cert?arch=noarch
    affected_versions: vers:rpm/<1.0.5-1.el8ui
    fixed_versions: vers:rpm/1.0.5-1.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-django?arch=noarch
    affected_versions: vers:rpm/<3.2.13-2.el8ui
    fixed_versions: vers:rpm/3.2.13-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rhui-cds-plugin-fetcher?arch=noarch
    affected_versions: vers:rpm/<1.0.5-1.el8ui
    fixed_versions: vers:rpm/1.0.5-1.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-pulpcore?arch=noarch
    affected_versions: vers:rpm/<3.17.6-3.el8ui
    fixed_versions: vers:rpm/3.17.6-3.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/ansible-collection-community-crypto?arch=noarch
    affected_versions: vers:rpm/<1.7.0-4.el8ui
    fixed_versions: vers:rpm/1.7.0-4.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-pulp-rpm?arch=noarch
    affected_versions: vers:rpm/<3.17.5-2.el8ui
    fixed_versions: vers:rpm/3.17.5-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-future?arch=noarch
    affected_versions: vers:rpm/<0.18.2-5.el8ui
    fixed_versions: vers:rpm/0.18.2-5.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-pulp-container?arch=noarch
    affected_versions: vers:rpm/<2.10.3-2.el8ui
    fixed_versions: vers:rpm/2.10.3-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-url-normalize?arch=noarch
    affected_versions: vers:rpm/<1.4.3-4.el8ui
    fixed_versions: vers:rpm/1.4.3-4.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-ecdsa?arch=noarch
    affected_versions: vers:rpm/<0.14.1-2.el8ui
    fixed_versions: vers:rpm/0.14.1-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-pyjwt?arch=noarch
    affected_versions: vers:rpm/<1.7.1-8.el8ui
    fixed_versions: vers:rpm/1.7.1-8.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-pyjwkest?arch=noarch
    affected_versions: vers:rpm/<1.4.2-6.el8ui
    fixed_versions: vers:rpm/1.4.2-6.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python3-pulp-container-client?arch=noarch
    affected_versions: vers:rpm/<2.7.1-6.el8ui
    fixed_versions: vers:rpm/2.7.1-6.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-requests?arch=noarch
    affected_versions: vers:rpm/<2.27.1-2.el8ui
    fixed_versions: vers:rpm/2.27.1-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-pyOpenSSL?arch=noarch
    affected_versions: vers:rpm/<19.1.0-3.el8ui
    fixed_versions: vers:rpm/19.1.0-3.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rhui-tools?arch=noarch
    affected_versions: vers:rpm/<4.1.1.16-1.el8ui
    fixed_versions: vers:rpm/4.1.1.16-1.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rhui-tools-libs?arch=noarch
    affected_versions: vers:rpm/<4.1.1.16-1.el8ui
    fixed_versions: vers:rpm/4.1.1.16-1.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/createrepo_c-libs?arch=x86_64
    affected_versions: vers:rpm/<0.20.0-2.el8ui
    fixed_versions: vers:rpm/0.20.0-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python3-createrepo_c?arch=x86_64
    affected_versions: vers:rpm/<0.20.0-2.el8ui
    fixed_versions: vers:rpm/0.20.0-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-createrepo_c?arch=x86_64
    affected_versions: vers:rpm/<0.20.0-2.el8ui
    fixed_versions: vers:rpm/0.20.0-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/createrepo_c-debugsource?arch=x86_64
    affected_versions: vers:rpm/<0.20.0-2.el8ui
    fixed_versions: vers:rpm/0.20.0-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/createrepo_c-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<0.20.0-2.el8ui
    fixed_versions: vers:rpm/0.20.0-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/createrepo_c-libs-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<0.20.0-2.el8ui
    fixed_versions: vers:rpm/0.20.0-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python3-createrepo_c-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<0.20.0-2.el8ui
    fixed_versions: vers:rpm/0.20.0-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-createrepo_c-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<0.20.0-2.el8ui
    fixed_versions: vers:rpm/0.20.0-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-pycryptodomex?arch=x86_64
    affected_versions: vers:rpm/<3.14.1-2.el8ui
    fixed_versions: vers:rpm/3.14.1-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-pycryptodomex-debugsource?arch=x86_64
    affected_versions: vers:rpm/<3.14.1-2.el8ui
    fixed_versions: vers:rpm/3.14.1-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-pycryptodomex-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<3.14.1-2.el8ui
    fixed_versions: vers:rpm/3.14.1-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-cryptography?arch=x86_64
    affected_versions: vers:rpm/<3.1.1-2.el8ui
    fixed_versions: vers:rpm/3.1.1-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-cryptography-debugsource?arch=x86_64
    affected_versions: vers:rpm/<3.1.1-2.el8ui
    fixed_versions: vers:rpm/3.1.1-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python38-cryptography-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<3.1.1-2.el8ui
    fixed_versions: vers:rpm/3.1.1-2.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/pulpcore-selinux?arch=x86_64
    affected_versions: vers:rpm/<1.3.0-1.el8ui
    fixed_versions: vers:rpm/1.3.0-1.el8ui
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Important
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2022/rhsa-2022_5602.json
weaknesses: []
references:
  - url: https://access.redhat.com/security/updates/classification/#important
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2022/rhsa-2022_5602.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1636435
    reference_type: bug
    reference_id: 1636435
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1890389
    reference_type: bug
    reference_id: 1890389
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2010343
    reference_type: bug
    reference_id: 2010343
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2072447
    reference_type: bug
    reference_id: 2072447
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2072459
    reference_type: bug
    reference_id: 2072459
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2079376
    reference_type: bug
    reference_id: 2079376
  - url: https://access.redhat.com/errata/RHSA-2022:5602
    reference_type:
    reference_id: RHSA-2022:5602
