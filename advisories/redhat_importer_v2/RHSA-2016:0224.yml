advisory_id: RHSA-2016:0224
datasource_id: redhat_importer_v2/RHSA-2016:0224
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2016/rhsa-2016_0224.json
aliases:
  - CVE-2015-5157
  - CVE-2015-7872
summary: "Updated kernel-rt packages that fix two security issues, several bugs, and\nadd various\
  \ enhancements are now available for Red Hat Enterprise MRG 2.5.\n\nRed Hat Product Security\
  \ has rated this update as having Important security\nimpact. Common Vulnerability Scoring\
  \ System (CVSS) base scores, which give\ndetailed severity ratings, are available for each\
  \ vulnerability from the\nCVE links in the References section.\n\nThe kernel-rt packages contain\
  \ the Linux kernel, the core of any Linux\noperating system.\n\n* It was found that the Linux\
  \ kernel's keys subsystem did not correctly\ngarbage collect uninstantiated keyrings. A local\
  \ attacker could use this\nflaw to crash the system or, potentially, escalate their privileges\
  \ on the\nsystem. (CVE-2015-7872, Important)\n\n* A flaw was found in the way the Linux kernel\
  \ handled IRET faults during\nthe processing of NMIs. An unprivileged, local user could use\
  \ this flaw to\ncrash the system or, potentially (although highly unlikely), escalate their\n\
  privileges on the system. (CVE-2015-5157, Moderate)\n\nThis update provides a build of the\
  \ kernel-rt package for Red Hat\nEnterprise MRG 2.5 that is layered on Red Hat Enterprise\
  \ Linux 6, and\nprovides a number of bug fixes and enhancements, including:\n\n* [md] dm:\
  \ fix AB-BA deadlock in __dm_destroy() \n\n* [md] revert \"dm-mpath: fix stalls when handling\
  \ invalid ioctl\n\n* [cpufreq] intel_pstate: Fix limits->max_perf and limits->max_policy_pct\n\
  rounding errors\n\n* [cpufreq] revert \"intel_pstate: fix rounding error in max_freq_pct\"\
  \n\n* [crypto] nx: 842 - Add CRC and validation support\n\n* [of] return NUMA_NO_NODE from\
  \ fallback of_node_to_nid()\n\n(BZ#1277670)\n\nThe HP Smart Array (hpsa) SCSI driver has been\
  \ updated to the latest\nversion included in a Red Hat release. (BZ#1224096)\n\nThis update\
  \ also fixes the following bugs:\n\n* A heavy load of incoming packets on a fast networking\
  \ driver (like the\ni40e) will both stress the softirq mechanism on the realtime kernel (as\n\
  described in BZ#1293229) and exercise the possible livelock in the netpoll\nNAPI/busy polling\
  \ routines (as described in BZ#1293230). The fixes applied\nto both BZ#1293229 and BZ#1293230\
  \ will address these issues by hardening\nthe locking mechanism for the netpoll NAPI/busy\
  \ polling and by enhancing\nthe way softirqs are serviced. These fixes also create a failsafe\
  \ to\navoiding RCU stalls on a heavily loaded system and allows the networking\ndriver to\
  \ work as expected. (BZ#1200766)\n\n* The nohz_full code in older versions of the MRG-Realtime\
  \ kernels was\nincomplete and known to be problematic due to the way the old\nimplementation\
  \ interacted with the real time features in the kernel.\nThe nohz_full kernel code has been\
  \ updated enabling this feature to\nfunction as expected and allowing this feature to be enabled\
  \ in the\nrealtime kernel. (BZ#1278511)\n\n* Because the realtime kernel replaces most of\
  \ the spinlocks with\nrtmutexes, the locking scheme used in both NAPI polling and busy polling\n\
  could become out of synchronization with the State Machine they protected.\nThis could cause\
  \ system performance degradation or even a livelock\nsituation when a machine with faster\
  \ NICs (10g or 40g) was subject to a\nheavy pressure receiving network packets. The locking\
  \ schemes on NAPI\npolling and busy polling routines were hardened to enforce the State\n\
  machine sanity to help ensure the system continues to function properly\nunder pressure. (BZ#1295884)\n\
  \n* A possible livelock in the NAPI polling and busy polling routines could\nlead the system\
  \ to a livelock on threads running at high, realtime,\npriorities. The threads running at\
  \ priorities lower than the ones of the\nthreads involved in the livelock would be prevented\
  \ from running on the\nCPUs affected by the livelock. Among those lower priority threads are\
  \ the\nrcuc/ threads. Right before (4 jiffies) a RCU stall is detected, the rcuc/\nthreads\
  \ on the CPUs facing the livelock have their priorities boosted above\nthe priority of the\
  \ threads involved in the livelock. The softirq code was\nalso updated to be more robust.\
  \ These modifications allowed the rcuc/\nthreads to execute even under system pressure, mitigating\
  \ the RCU stalls.\n(BZ#1295885)\n\nAll kernel-rt users are advised to upgrade to these updated\
  \ packages, which\ncorrect these issues and add these enhancements. The system must be\nrebooted\
  \ for this update to take effect."
impacted_packages:
  - purl: pkg:rpm/redhat/kernel-rt-trace-debuginfo?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-vanilla?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-debuginfo?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-debug-devel?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-vanilla-debuginfo?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-trace-devel?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-debug-debuginfo?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-devel?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-trace?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-debuginfo-common-x86_64?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-vanilla-devel?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-debug?arch=x86_64&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-firmware?arch=noarch&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt-doc?arch=noarch&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-rt?arch=src&epoch=1
    affected_versions: vers:rpm/<3.10.0-327.rt56.171.el6rt
    fixed_versions: vers:rpm/3.10.0-327.rt56.171.el6rt
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Important
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2016/rhsa-2016_0224.json
weaknesses: []
references:
  - url: https://access.redhat.com/security/updates/classification/#important
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2016/rhsa-2016_0224.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1259577
    reference_type: bug
    reference_id: 1259577
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1272371
    reference_type: bug
    reference_id: 1272371
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1277670
    reference_type: bug
    reference_id: 1277670
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1278511
    reference_type: bug
    reference_id: 1278511
  - url: https://access.redhat.com/errata/RHSA-2016:0224
    reference_type:
    reference_id: RHSA-2016:0224
