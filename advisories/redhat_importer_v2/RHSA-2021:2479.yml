advisory_id: RHSA-2021:2479
datasource_id: redhat_importer_v2/RHSA-2021:2479
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2021/rhsa-2021_2479.json
aliases:
  - CVE-2021-3528
summary: "Updated images that fix one security issue and several bugs are now available for\
  \ Red Hat OpenShift Container Storage 4.6.5 on Red Hat Enterprise Linux 8 from Red Hat Container\
  \ Registry.\n\nRed Hat Product Security has rated this update as having a security impact\
  \ of Moderate. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed\
  \ severity rating, is available for each vulnerability from the CVE link(s) in the References\
  \ section.\n\nRed Hat OpenShift Container Storage is software-defined storage integrated with\
  \ and optimized for the Red Hat OpenShift Container Platform. Red Hat OpenShift Container\
  \ Storage is a highly scalable, production-grade persistent storage for stateful applications\
  \ running in the Red Hat OpenShift Container Platform. In addition to persistent storage,\
  \ Red Hat OpenShift Container Storage provisions a multicloud data management service\nwith\
  \ an S3 compatible API.\n\nSecurity Fix(es):\n\n* NooBaa: noobaa-operator leaking RPC AuthToken\
  \ into log files (CVE-2021-3528)\n\nFor more details about the security issue(s), including\
  \ the impact, a CVSS score, and other related information, refer to the CVE page(s) listed\
  \ in the References section.\n\nBug Fix(es):\n\n* Currently, a newly restored PVC cannot be\
  \ mounted if some of the OpenShift Container Platform nodes are running on a version of Red\
  \ Hat Enterprise Linux which is less than 8.2, and the snapshot from which the PVC was restored\
  \ is deleted. \nWorkaround: Do not delete the snapshot from which the PVC was restored until\
  \ the restored PVC is deleted. (BZ#1962483)\n\n* Previously, the default backingstore was\
  \ not created on AWS S3 when OpenShift Container Storage was deployed, due to incorrect identification\
  \ of AWS S3. With this update, the default backingstore gets created when OpenShift Container\
  \ Storage is deployed on AWS S3. (BZ#1927307)\n\n* Previously, log messages were printed to\
  \ the endpoint pod log even if the debug option was not set. With this update, the log messages\
  \ are printed to the endpoint pod log only when the debug option is set. (BZ#1938106)\n\n\
  * Previously, the PVCs could not be provisioned as the `rook-ceph-mds` did not register the\
  \ pod IP on the monitor servers, and hence every mount on the filesystem timed out, resulting\
  \ in CephFS volume provisioning failure. With this update, an argument `--public-addr=podIP`\
  \ is added to the MDS pod when the host network is not enabled, and hence the CephFS volume\
  \ provisioning does not fail. (BZ#1949558)\n\n* Previously, OpenShift Container Storage 4.2\
  \ clusters were not updated with the correct cache value, and hence MDSs in standby-replay\
  \ might report an oversized cache, as rook did not apply the `mds_cache_memory_limit` argument\
  \ during upgrades. With this update, the `mds_cache_memory_limit` argument is applied during\
  \ upgrades and the mds daemon operates normally. (BZ#1951348)\n\n* Previously, the coredumps\
  \ were not generated in the correct location as rook was setting the config option `log_file`\
  \ to an empty string since logging happened on stdout and not on the files, and hence Ceph\
  \ read the value of the `log_file` to build the dump path. With this update, rook does not\
  \ set the `log_file` and keeps Ceph's internal default, and hence the coredumps are generated\
  \ in the correct location and are accessible under `/var/log/ceph/`. (BZ#1938049)\n\n* Previously,\
  \ Ceph became inaccessible, as the mons lose quorum if a mon pod was drained while another\
  \ mon was failing over. With this update, voluntary mon drains are prevented while a mon is\
  \ failing over, and hence Ceph does not become inaccessible. (BZ#1946573)\n\n* Previously,\
  \ the mon quorum was at risk, as the operator could erroneously remove the new mon if the\
  \ operator was restarted during a mon failover. With this update, the operator completes the\
  \ same mon failover after the operator is restarted, and hence the mon quorum is more reliable\
  \ in the node drains and mon failover scenarios. (BZ#1959983)\n\nAll users of Red Hat OpenShift\
  \ Container Storage are advised to pull these\nnew images from the Red Hat Container Registry."
impacted_packages: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2021/rhsa-2021_2479.json
weaknesses: []
references:
  - url: https://access.redhat.com/security/updates/classification/#moderate
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2021/rhsa-2021_2479.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1938106
    reference_type: bug
    reference_id: '1938106'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1950915
    reference_type: bug
    reference_id: '1950915'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1951348
    reference_type: bug
    reference_id: '1951348'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1951600
    reference_type: bug
    reference_id: '1951600'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1955601
    reference_type: bug
    reference_id: '1955601'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1957189
    reference_type: bug
    reference_id: '1957189'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1959980
    reference_type: bug
    reference_id: '1959980'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1959983
    reference_type: bug
    reference_id: '1959983'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1962483
    reference_type: bug
    reference_id: '1962483'
  - url: https://access.redhat.com/errata/RHSA-2021:2479
    reference_type:
    reference_id: RHSA-2021:2479
