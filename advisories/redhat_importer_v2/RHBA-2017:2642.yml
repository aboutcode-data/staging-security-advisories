advisory_id: RHBA-2017:2642
datasource_id: redhat_importer_v2/RHBA-2017:2642
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2017/rhba-2017_2642.json
aliases:
  - CVE-2017-1000085
  - CVE-2017-1000089
  - CVE-2017-1000092
  - CVE-2017-1000096
summary: |
  Red Hat OpenShift Container Platform releases 3.6.1 are now available with updates to packages and images that fix several bugs and add various enhancements.

  Red Hat OpenShift Container Platform is the company's cloud computing Platform-as-a-Service (PaaS) solution designed for on-premise or private cloud deployments.

  This advisory contains the RPM packages for Red Hat OpenShift Container Platform 3.6.1. See the following advisory for the container images for this release:

  https://access.redhat.com/errata/RHEA-2017:2644

  This update fixes the following bugs:

  * When the atomic-openshift-node service got restarted, all processes in its control group are terminated, including the glusterfs-mounted points. Each glusterfs volume in OpenShift corresponds to one mounted point. If all mounting points are lost, so are all of the volumes. Set the control group mode to terminate only the main process and leave the remaining glusterfs mounting points untouched. When the atomic-openshift-node service is restarted, no glusterfs mounting point is terminated.
  (BZ#1423640)

  * A route can front up to four services that handle the requests. The load balancing strategy governs which endpoint gets each request. When round-robin is chosen, the portion of the requests that each
  service handles is governed by the weight assigned to the service. Each endpoint in the service gets a fraction of the service's requests. (BZ#1473736)

  * When fluentd was reading from the journald and the output buffer queue wass full, the fluentd log was filled up with KubeClient messages. This is a bug in the fluentd filter_kubernetes_metadata plug-in. Ignore fluentd log messages from Kubeclient::Common::WatchNotice. (BZ#1476731)

  * Previously, the Copy Service Labels link in the Create Route form did not correctly copy the labels from the service to the new route. It has been fixed to copy the selected service's labels.
  (BZ#1477933)

  * Permissions on directories injected as a build input via the image source input mechanism have user-only access permissions. Therefore, the resulting application image cannot access the content when run as a random user ID. With this bug fix, the directories will be injected with group permissions, which will allow the user access to the container. (BZ#1479130)

  * Kibana nodejs runtime was not the same as the version distributed by Elastic. With this bug fix, the versioning is updated. (BZ#1479928)

  * Previously, the ScaleIO volume plug-in was missing in OpenShift Container Platform. With this bug fix, it is now fully enabled. (BZ#1482273)

  * Namespaces that use reserved names and were not created by infrastructure components should be blocked, as they will cause the upgrade to fail. (BZ#1484958)

  This update includes the following enhancement:

  * There is now the ability to set reference policy with `oc import-image`. Set reference policy using the `--reference-policy` flag when invoking `oc import-image`. When importing all tags (using the `--all` flag), all tags will get passed to reference policy, including overwriting the already present one. (BZ#1420976)

  All OpenShift Container Platform 3.6 users are advised to upgrade to these updated packages and images.
impacted_packages:
  - purl: pkg:rpm/redhat/rubygem-i18n?arch=noarch
    affected_versions: vers:rpm/<0.8.6-1.el7
    fixed_versions: vers:rpm/0.8.6-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-federation-services?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-master?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/tuned-profiles-atomic-openshift-node?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-dockerregistry?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-service-catalog?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-pod?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-node?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-sdn-ovs?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-clients-redistributable?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-tests?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-cluster-capacity?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-clients?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift?arch=x86_64
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kibana?arch=x86_64
    affected_versions: vers:rpm/<4.6.4-3.el7
    fixed_versions: vers:rpm/4.6.4-3.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kibana-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<4.6.4-3.el7
    fixed_versions: vers:rpm/4.6.4-3.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-cool.io?arch=x86_64
    affected_versions: vers:rpm/<1.5.1-1.el7
    fixed_versions: vers:rpm/1.5.1-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-cool.io-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<1.5.1-1.el7
    fixed_versions: vers:rpm/1.5.1-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-excluder?arch=noarch
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift-docker-excluder?arch=noarch
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/fluentd?arch=noarch
    affected_versions: vers:rpm/<0.12.39-2.el7
    fixed_versions: vers:rpm/0.12.39-2.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/fluentd-doc?arch=noarch
    affected_versions: vers:rpm/<0.12.39-2.el7
    fixed_versions: vers:rpm/0.12.39-2.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/jenkins-2-plugins?arch=noarch
    affected_versions: vers:rpm/<3.7.1502412812-1.el7
    fixed_versions: vers:rpm/3.7.1502412812-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-cool.io-doc?arch=noarch
    affected_versions: vers:rpm/<1.5.1-1.el7
    fixed_versions: vers:rpm/1.5.1-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-excon?arch=noarch
    affected_versions: vers:rpm/<0.58.0-1.el7
    fixed_versions: vers:rpm/0.58.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-excon-doc?arch=noarch
    affected_versions: vers:rpm/<0.58.0-1.el7
    fixed_versions: vers:rpm/0.58.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-faraday-doc?arch=noarch
    affected_versions: vers:rpm/<0.13.0-1.el7
    fixed_versions: vers:rpm/0.13.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-faraday?arch=noarch
    affected_versions: vers:rpm/<0.13.0-1.el7
    fixed_versions: vers:rpm/0.13.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-fluent-plugin-kubernetes_metadata_filter?arch=noarch
    affected_versions: vers:rpm/<0.29.0-1.el7
    fixed_versions: vers:rpm/0.29.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-fluent-plugin-kubernetes_metadata_filter-doc?arch=noarch
    affected_versions: vers:rpm/<0.29.0-1.el7
    fixed_versions: vers:rpm/0.29.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-fluent-plugin-viaq_data_model?arch=noarch
    affected_versions: vers:rpm/<0.0.5-1.el7
    fixed_versions: vers:rpm/0.0.5-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-fluent-plugin-viaq_data_model-doc?arch=noarch
    affected_versions: vers:rpm/<0.0.5-1.el7
    fixed_versions: vers:rpm/0.0.5-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-i18n-doc?arch=noarch
    affected_versions: vers:rpm/<0.8.6-1.el7
    fixed_versions: vers:rpm/0.8.6-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-systemd-journal-doc?arch=noarch
    affected_versions: vers:rpm/<1.3.0-1.el7
    fixed_versions: vers:rpm/1.3.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-systemd-journal?arch=noarch
    affected_versions: vers:rpm/<1.3.0-1.el7
    fixed_versions: vers:rpm/1.3.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/atomic-openshift?arch=src
    affected_versions: vers:rpm/<3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_versions: vers:rpm/3.6.173.0.21-1.git.0.f95b0e7.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/fluentd?arch=src
    affected_versions: vers:rpm/<0.12.39-2.el7
    fixed_versions: vers:rpm/0.12.39-2.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/jenkins-2-plugins?arch=src
    affected_versions: vers:rpm/<3.7.1502412812-1.el7
    fixed_versions: vers:rpm/3.7.1502412812-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kibana?arch=src
    affected_versions: vers:rpm/<4.6.4-3.el7
    fixed_versions: vers:rpm/4.6.4-3.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-cool.io?arch=src
    affected_versions: vers:rpm/<1.5.1-1.el7
    fixed_versions: vers:rpm/1.5.1-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-excon?arch=src
    affected_versions: vers:rpm/<0.58.0-1.el7
    fixed_versions: vers:rpm/0.58.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-faraday?arch=src
    affected_versions: vers:rpm/<0.13.0-1.el7
    fixed_versions: vers:rpm/0.13.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-fluent-plugin-kubernetes_metadata_filter?arch=src
    affected_versions: vers:rpm/<0.29.0-1.el7
    fixed_versions: vers:rpm/0.29.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-fluent-plugin-viaq_data_model?arch=src
    affected_versions: vers:rpm/<0.0.5-1.el7
    fixed_versions: vers:rpm/0.0.5-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-i18n?arch=src
    affected_versions: vers:rpm/<0.8.6-1.el7
    fixed_versions: vers:rpm/0.8.6-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/rubygem-systemd-journal?arch=src
    affected_versions: vers:rpm/<1.3.0-1.el7
    fixed_versions: vers:rpm/1.3.0-1.el7
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Important
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2017/rhba-2017_2642.json
weaknesses: []
references:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2017/rhba-2017_2642.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1420976
    reference_type: bug
    reference_id: 1420976
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1423640
    reference_type: bug
    reference_id: 1423640
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1473736
    reference_type: bug
    reference_id: 1473736
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1476731
    reference_type: bug
    reference_id: 1476731
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1477223
    reference_type: bug
    reference_id: 1477223
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1477933
    reference_type: bug
    reference_id: 1477933
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1479130
    reference_type: bug
    reference_id: 1479130
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1479928
    reference_type: bug
    reference_id: 1479928
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1481251
    reference_type: bug
    reference_id: 1481251
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1482273
    reference_type: bug
    reference_id: 1482273
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1484958
    reference_type: bug
    reference_id: 1484958
  - url: https://access.redhat.com/errata/RHBA-2017:2642
    reference_type:
    reference_id: RHBA-2017:2642
