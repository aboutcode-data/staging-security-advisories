advisory_id: RHSA-2022:8796
datasource_id: redhat_importer_v2/RHSA-2022:8796
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2022/rhsa-2022_8796.json
aliases:
  - CVE-2021-4180
summary: |
  An update for openstack-tripleo-heat-templates is now available for Red Hat OpenStack Platform 16.1.9 (Train) for Red Hat Enterprise Linux (RHEL) 8.2.

  Red Hat Product Security has rated this update as having a security impact of Moderate. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

  Heat templates for TripleO

  Security Fix(es):

  * data leak of internal URL through keystone_authtoken (CVE-2021-4180)

  Other fixes:

  * Before this update, NTP validation did not occur during deployments. Some users reported issues with cloud authentication failing with invalid tokens due to time not being synchronized between nodes. With this update, NTP synchronization validation during deployment has been re-enabled. Hosts must be able to connect to the defined NTP server list. If you previously performed a deployment with invalid or unreachable NTP servers, after update, the deployment might fail when NTP is validated. Ensure that you have valid and reachable NTP servers before updating. (BZ#2034095)

  * With this update, director supports specifying overrides for NVSv4 ID mapping when using a CephFS-NFS back end with the Shared File Systems service (manila). Ceph-NFS with the Shared File Systems service only allows client access through NFSv4.1+. With NFSv4.1, usernames and group names are sent over the wire and translated by both the server and the client. Deployers might want to customize their domain settings to better represent organization users who can access Shared File Systems service shares from multiple clients. Director supports customizing NFS ID mapping settings through these parameters:
  - ManilaCephFSNFSIdmapOverrides: Allows specifying configuration objects for override with the default idmapd.conf file used by the NFS service
  - ManilaCephFSNFSIdmapConf: Allows specifying a custom idmapd.conf file for the NFS service (BZ#1917356)

  * Before this update, the ceilometer-agent-compute container could not read the /var/run/libvirt directory because of an improper volume mount to /var/run/libvirt in the ceilometer-agent-compute container, resulting in the inability to poll for CPU metrics on Compute nodes. With this update, the appropriate global permissions have been applied to the /var/run/libvirt directory, and you can poll for CPU telemetry with the ceilometer-agent-compute container on the Compute nodes. CPU telemetry data is available through the Compute service (nova). (BZ#2103971)

  * Before this update, the libvirt service started after the ceilometer-agent-compute service and the ceilometer-agent-compute service did not communicate with libvirt, resulting in missing libvirt metrics. With this update, the ceilometer-agent-compute service starts after the libvirt service and can poll libvirt metrics without "Permission denied" errors. (BZ#2130078)

  * Before this update, a Telemetry service (ceilometer) user had insufficient privileges to poll objects from the Object Storage service (swift). The Object Storage service client did not allow the Telemetry service user to fetch object details. With this update, the Telemetry service user is associated with the ResellerAdmin role.
  +
  Execute the following command to workaround this issue manually:
  +
  ----
  $ openstack role add --user ceilometer --project service ResellerAdmin
  ----
  +
  The associated Telemetry service user can poll Object Storage service object metrics successfully. (BZ#2130849)

  * Before this update, systemd stopped the Load-balancing services (octavia) during shutdown, leaving resources in the PENDING_UPDATE status. With this update, the graceful shutdown duration of the Load-balancing services is increased, preventing the services from being stopped by systemd. (BZ#2063031)

  * In Red Hat OpenStack Platform (RHOSP) 16.1.9, the collectd processes plugin is removed from the default list of plugins. Loading the plugin can cause flooding issues and does not provide value when running in a containerized environment because it only recognizes the collectd and sensubility processes rather than the expected system processes. Bug fixes and support will be provided through the end of the 16.1.9 lifecycle but no new feature enhancements will be made. (BZ#2101949)
impacted_packages:
  - purl: pkg:rpm/redhat/openstack-tripleo-heat-templates?arch=src
    affected_versions: vers:rpm/<11.3.2-1.20221013153262.el8ost
    fixed_versions: vers:rpm/11.3.2-1.20221013153262.el8ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-tripleo-heat-templates?arch=noarch
    affected_versions: vers:rpm/<11.3.2-1.20221013153262.el8ost
    fixed_versions: vers:rpm/11.3.2-1.20221013153262.el8ost
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2022/rhsa-2022_8796.json
weaknesses: []
references:
  - url: https://access.redhat.com/security/updates/classification/#moderate
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2035793
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2022/rhsa-2022_8796.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1851467
    reference_type: bug
    reference_id: 1851467
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1910115
    reference_type: bug
    reference_id: '1910115'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1917356
    reference_type: bug
    reference_id: '1917356'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1936278
    reference_type: bug
    reference_id: '1936278'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2032295
    reference_type: bug
    reference_id: 2032295
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2032518
    reference_type: bug
    reference_id: 2032518
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2034095
    reference_type: bug
    reference_id: 2034095
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2036195
    reference_type: bug
    reference_id: 2036195
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2039412
    reference_type: bug
    reference_id: 2039412
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2049452
    reference_type: bug
    reference_id: 2049452
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2061845
    reference_type: bug
    reference_id: 2061845
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2062764
    reference_type: bug
    reference_id: 2062764
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2063031
    reference_type: bug
    reference_id: 2063031
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2064383
    reference_type: bug
    reference_id: 2064383
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2065736
    reference_type: bug
    reference_id: 2065736
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2066852
    reference_type: bug
    reference_id: 2066852
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2069755
    reference_type: bug
    reference_id: 2069755
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2073607
    reference_type: bug
    reference_id: 2073607
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2100907
    reference_type: bug
    reference_id: 2100907
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2101949
    reference_type: bug
    reference_id: 2101949
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2103971
    reference_type: bug
    reference_id: 2103971
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2109931
    reference_type: bug
    reference_id: 2109931
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2129031
    reference_type: bug
    reference_id: 2129031
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2129882
    reference_type: bug
    reference_id: 2129882
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2130078
    reference_type: bug
    reference_id: 2130078
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2130140
    reference_type: bug
    reference_id: 2130140
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2130849
    reference_type: bug
    reference_id: 2130849
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2131961
    reference_type: bug
    reference_id: 2131961
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2136171
    reference_type: bug
    reference_id: 2136171
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2136393
    reference_type: bug
    reference_id: 2136393
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=2141835
    reference_type: bug
    reference_id: 2141835
  - url: https://access.redhat.com/errata/RHSA-2022:8796
    reference_type:
    reference_id: RHSA-2022:8796
