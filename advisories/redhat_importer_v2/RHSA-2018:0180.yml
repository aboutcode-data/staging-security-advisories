advisory_id: RHSA-2018:0180
datasource_id: redhat_importer_v2/RHSA-2018:0180
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2018/rhsa-2018_0180.json
aliases:
  - CVE-2017-1000405
summary: |
  An update for kernel-alt is now available for Red Hat Enterprise Linux 7.

  Red Hat Product Security has rated this update as having a security impact of Important. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

  The kernel-alt packages provide the Linux kernel version 4.x.

  Security Fix(es):

  * A flaw was found in the patches used to fix the 'dirtycow' vulnerability (CVE-2016-5195). An attacker, able to run local code, can exploit a race condition in transparent huge pages to modify usually read-only huge pages. (CVE-2017-1000405)

  Red Hat would like to thank Eylon Ben Yaakov and Daniel Shapiro for reporting this issue.

  Bug Fix(es):

  * Previously, Red Hat Enterprise Linux 7.4 with the kernel version provided by the kernel-alt package, did not support turning off transactional memory (TM) on the POWER9 systems. With this update it is now possible to turn off TM on the POWER9 systems. (BZ#1509974)

  * Due to a bug in the ixgbe and i40e drivers, the socket buffer list (skb list) in some cases got corrupted when running Red Hat Enterprise Linux 7.4 with the kernel version provided by the kernel-alt package on the POWER9 systems. Consequently, a kernel panic occurred. This update fixes ixgbe and i40e, and the kernel no longer panics due to this behavior. (BZ#1518412)

  * Users can lower the max_sectors_kb setting in the sysfs file system to accommodate certain workloads. Previously, users needed to set the maximum I/O size to either the block layer default or the optional preferred I/O size reported by the device. This update fixes the scsi driver to keep the current heuristic function for the initial setting of max_sectors_kb. As a result, for subsequent invocations, the driver now only updates the current queue limit if it exceeds the capabilities of the hardware. (BZ#1518432)

  * When performing full-bootme tests on Boston ESS systems running Red Hat Enterprise Linux 7.4 with the kernel version provided in the kernel-alt package, a kernel panic occurred and the operating system dropped into the XMON software. This update fixes the Multi-Queue Block IO Queueing Mechanism (blk-mq), and the kernel no longer panics in these circumstances. (BZ#1518433)

  * When running the stress test on the file system with the gssstress command, and pulling one disk from one recovery group, "kernel I/O error" was reported, and gssstress became unresponsive. Gssstress now works as expected under the described circumstances. (BZ#1522645)

  * When using the fwupdate_xl710 utility to apply updates for NVM Intel Ethernet Converged Network Adapter XL710 on machines running Red Hat Enterpise Linux 7.4 with the kernel version provided in the kernel-alt package, a deadlock sometimes occurred when the i40e driver was acquiring access to the Non-Volatile Memory (NVM) of the device. Consequently, NVM acquire timeouts occurred, the firmware update failed with the following error message: "Failed Acquiring NVM resource for read err=-53 status=0xa", and left the device's memory in a corrupted state. This update fixes the i40e driver, and the firmware updates no longer fail due to this behavior. (BZ#1522843)

  * Previously, on POWER9 systems with more than 100 Pstates, the cpufreq driver did not handle the cases when the NxN matrix denominated transition table (trans_table) overflowed beyond the PAGE_SIZE boundary correctly. Consequently, reading trans_table for any of the CPUs failed with the following error:

  "fill_read_buffer: show+0x0/0xa0 returned bad count"

  With this update reading trans_table for any of the CPUs now proceeds as expected under the described circumstances. (BZ#1522844)

  * Previously, the /sys/firmware/opal/exports directory did not contain an export node. Consequently, a range of memory in the Open Power Abstraction Layer (OPAL) that the operating system attempted to export to user space for debugging purposes was not available. With this update the sysfs file under /sys/firmware/opal/exports is now available for each property found there, and this file can be used for debugging purposes. (BZ#1522845)
impacted_packages:
  - purl: pkg:rpm/redhat/kernel-debuginfo?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo-common-aarch64?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-perf-debuginfo?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-debuginfo?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/perf-debuginfo?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-libs-devel?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-debuginfo?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-libs?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-perf?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-devel?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-devel?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/perf?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-headers?arch=aarch64
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debuginfo-common-ppc64le?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-perf-debuginfo?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-debuginfo?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/perf-debuginfo?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-libs-devel?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-debuginfo?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools-libs?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-perf?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-devel?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-debug-devel?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/perf?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-bootwrapper?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-tools?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-headers?arch=ppc64le
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-doc?arch=noarch
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-abi-whitelists?arch=noarch
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/kernel-alt?arch=src
    affected_versions: vers:rpm/<4.11.0-44.4.1.el7a
    fixed_versions: vers:rpm/4.11.0-44.4.1.el7a
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Important
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2018/rhsa-2018_0180.json
weaknesses: []
references:
  - url: https://access.redhat.com/errata/RHSA-2018:0180
    reference_type:
    reference_id:
  - url: https://access.redhat.com/security/updates/classification/#important
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2018/rhsa-2018_0180.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1516514
    reference_type: bug
    reference_id: 1516514
  - url: https://github.com/bindecy/HugeDirtyCowPOC/blob/ee7476d9a2049d7ac2e0d05b5d1e68930305c8ae/main.c
    reference_type: exploit
    reference_id: CVE-2017-1000405
  - url: https://github.com/hardenedlinux/offensive_poc/blob/99c6b0b540d5550d757315aa0cb8f8edf0c41e2f/CVE-2017-1000405/huge_dirty_cow.c
    reference_type: exploit
    reference_id: CVE-2017-1000405
  - url: https://gitlab.com/exploit-database/exploitdb/-/blob/main/exploits/linux/dos/43199.c
    reference_type: exploit
    reference_id: CVE-2017-1000405
  - url: https://gitlab.com/exploit-database/exploitdb/-/blob/main/exploits/linux/dos/44305.c
    reference_type: exploit
    reference_id: CVE-2017-1000405
