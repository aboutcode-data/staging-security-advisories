advisory_id: RHSA-2018:0369
datasource_id: redhat_importer_v2/RHSA-2018:0369
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2018/rhsa-2018_0369.json
aliases:
  - CVE-2017-16239
summary: |
  An update for openstack-nova and python-novaclient is now available for Red Hat OpenStack Platform 10.0 (Newton).

  Red Hat Product Security has rated this update as having a security impact of Moderate. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

  OpenStack Compute (nova) launches and schedules large networks of virtual machines, creating a redundant and scalable cloud computing platform. Compute provides the software, control panels, and APIs required to orchestrate a cloud, including running virtual machine instances and controlling access through users and projects.

  python-novaclient is the python client for the OpenStack Nova API. The client's Python API (the novaclient module) and command-line script (nova) both implement 100% of the OpenStack Nova API.

  The following packages have been upgraded to a later upstream version: openstack-nova (14.1.0), python-novaclient (6.0.2). (BZ#1501736)

  Security Fix(es):

  * By rebuilding an instance using a new image, an authenticated user may be able to circumvent the Filter Scheduler, bypassing imposed filters (for example, the ImagePropertiesFilter or the IsolatedHostsFilter). (CVE-2017-16239)

  Red Hat would like to thank the OpenStack project for reporting this issue. Upstream acknowledges George Shuklin (Servers.com) as the original reporter.

  Bug Fix(es):

  * Prior to this update, QEMU (also known as TCG) guests had an issue where the `guest.get_vcpu_info` method was throwing an exception indicating that 0 were vCPUs used on the host, regardless of how many guests were running. Consequently, this caused the 'get_available_resources' method to report incorrect vCPUs used values for the Compute node. This meant it was overcounting resource consumption for plain QEMU guests, as they can only ever consume 1 pCPU of time, regardless of vCPU count. With this update, if a host does not report detailed vCPU usage from libvirt, then it should default to reporting 1 vCPU per guest, so that the 'vcpus_used' field reports some reasonably meaningful data on host CPU usage. As a result, libvirt does not report that 'cpu affinity is not supported' when guests are running in TCG. (BZ#1515165)

  * With this enhancement, the act of evacuating instances with pinned CPUs can result in these instances being hosted on a hypervisor which already handles instances with the same pinning configuration. This was added because the resource tracker does not track CPU pinning for instances on hosts. As a result, a condition has been added to the NUMATopologyFilter filter, which passes on hosts which already manage an instance with same CPU pinning configuration as the instance being evacuated. (BZ#1517272)

  * Previously, the `request_spec.spec` column's TEXT type was too small, with the result that large request_specs may not have fit successfully. Consequently, running the online data migration as part of an OSP9 to OSP10 upgrade could have resulted in failure if an instance created before the upgrade had a large request_spec (for example, by having many members in its affinity/anti-affinity group). With this update, the request_spec.spec column has been increased to `MEDIUMTEXT`. As a result, online data migration should no longer fail during a OSP9 to OSP10 upgrade. (BZ#1526082)

  * Previously, when detaching a Ceph volume connected to guest as a PCI device, the volume was not detached and libvirt reported an invalid PCI address. This arose because the PCI address of the device was not properly formatted due to a missing method in the guest XML formatter. To address this issue, this update adds a proper `format_dom` method for `LibvirtConfigGuestDeviceAddressPCI`. As a result, it is now possible to detach a Ceph volume. (BZ#1527345)
impacted_packages:
  - purl: pkg:rpm/redhat/python-nova?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-novncproxy?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-migration?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-scheduler?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-api?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-compute?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-network?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-spicehtml5proxy?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-nova-tests?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-cells?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-serialproxy?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-placement-api?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-conductor?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-common?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-console?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova-cert?arch=noarch&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-novaclient?arch=noarch&epoch=1
    affected_versions: vers:rpm/<6.0.2-2.el7ost
    fixed_versions: vers:rpm/6.0.2-2.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/openstack-nova?arch=src&epoch=1
    affected_versions: vers:rpm/<14.1.0-3.el7ost
    fixed_versions: vers:rpm/14.1.0-3.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-novaclient?arch=src&epoch=1
    affected_versions: vers:rpm/<6.0.2-2.el7ost
    fixed_versions: vers:rpm/6.0.2-2.el7ost
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2018/rhsa-2018_0369.json
weaknesses: []
references:
  - url: https://access.redhat.com/errata/RHSA-2018:0369
    reference_type:
    reference_id:
  - url: https://access.redhat.com/security/updates/classification/#moderate
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2018/rhsa-2018_0369.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1508539
    reference_type: bug
    reference_id: 1508539
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1515165
    reference_type: bug
    reference_id: 1515165
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1519054
    reference_type: bug
    reference_id: 1519054
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1525427
    reference_type: bug
    reference_id: 1525427
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1526082
    reference_type: bug
    reference_id: 1526082
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1527345
    reference_type: bug
    reference_id: 1527345
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1530330
    reference_type: bug
    reference_id: 1530330
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1534665
    reference_type: bug
    reference_id: 1534665
