advisory_id: RHSA-2019:3255
datasource_id: redhat_importer_v2/RHSA-2019:3255
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2019/rhsa-2019_3255.json
aliases:
  - CVE-2019-3899
summary: |
  Updated heketi packages that fix one security issue, multiple bugs, and adds various enhancements is now available for OpenShift Container Storage 3.11 Batch 4 Update.

  Red Hat Product Security has rated this update as having a security impact of Moderate. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

  Heketi provides a RESTful management interface that can be used to manage the life cycle of GlusterFS volumes. With Heketi, cloud services like OpenStack Manila, Kubernetes, and OpenShift can dynamically provision GlusterFS volumes with any of the supported durability types. Heketi will automatically determine the location for bricks across the cluster, making sure to place bricks and its replicas across different failure domains. Heketi also supports any number of GlusterFS clusters, allowing cloud services to provide network file storage without being limited to a single GlusterFS cluster.

  The following packages have been upgraded to a later upstream version: heketi (9.0.0). (BZ#1710080)

  Security Fix(es):

  * heketi: heketi can be installed using insecure defaults (CVE-2019-3899)

  For more details about the security issue(s), including the impact, a CVSS score, acknowledgments, and other related information, refer to the CVE page(s) listed in the References section.

  Bug Fix(es):

  * Previously, it was easy to inadvertently set Heketi up in an unsecured way which increased the risk of unauthorized users to make changes to the storage managed by Heketi. The default settings have changed to require users to configure authentication and to make disabling authentication unintentionally more difficult. (BZ#1701838)

  * Previously, when Heketi executed commands within OpenShift/Kubernetes pods, the commands were executed without a timeout specified. Hence, some commands never returned which differed from the SSH executor which always executes commands with a timeout. With this update, the commands that are executed in the gluster containers have a timeout specified. The timeout values are the same regardless of what connection type is used. (BZ#1636912)

  * Previously, if Heketi managed multiple clusters and it failed to create volumes on any of the clusters it would return a generic "No space" error message. With this update, error messages produced when heketi manages multiple gluster clusters have been improved. Heketi now displays specific errors for when the cluster has no nodes or none of the nodes have usable devices and also reports on each cluster's error by prefixing cluster errors with the cluster ID. (BZ#1577803)

  * Previously, if operation cleanup was requested from the server simultaneously, the server would try to initiate cleanup for the same operation twice. This triggered panic in the server. With this update, the server no longer panics if two operation cleanups are requested at the same time. (BZ#1702162)

  Enhancement(s):

  * When a node is removed or added to a gluster trusted storage pool using heketi, the existing endpoints do not get updated automatically. With this update, to update the endpoints after node addition/removal, users can now execute the following commands:
  1. heketi-cli volume endpoint patch <volume-id>
  2. oc patch ep <heketi-db-endpoint-name> -p <changes> (BZ#1660681)

  * With this update, Heketi tracks additional metadata associated with disk devices even if the path of the device changes. The outputs of some commands have been updated to reflect the additional metadata. (BZ#1609553)

  Users of Heketi are advised to upgrade to these updated packages, which adds these enhancements and fix these bugs.
impacted_packages:
  - purl: pkg:rpm/redhat/heketi?arch=x86_64
    affected_versions: vers:rpm/<9.0.0-7.el7rhgs
    fixed_versions: vers:rpm/9.0.0-7.el7rhgs
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/heketi-client?arch=x86_64
    affected_versions: vers:rpm/<9.0.0-7.el7rhgs
    fixed_versions: vers:rpm/9.0.0-7.el7rhgs
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/python-heketi?arch=x86_64
    affected_versions: vers:rpm/<9.0.0-7.el7rhgs
    fixed_versions: vers:rpm/9.0.0-7.el7rhgs
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/heketi?arch=src
    affected_versions: vers:rpm/<9.0.0-7.el7rhgs
    fixed_versions: vers:rpm/9.0.0-7.el7rhgs
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2019/rhsa-2019_3255.json
weaknesses: []
references:
  - url: https://access.redhat.com/errata/RHSA-2019:3255
    reference_type:
    reference_id:
  - url: https://access.redhat.com/security/updates/classification/#moderate
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2019/rhsa-2019_3255.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1577803
    reference_type: bug
    reference_id: 1577803
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1609553
    reference_type: bug
    reference_id: 1609553
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1636912
    reference_type: bug
    reference_id: 1636912
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1660681
    reference_type: bug
    reference_id: 1660681
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1701091
    reference_type: bug
    reference_id: 1701091
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1702162
    reference_type: bug
    reference_id: 1702162
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1710080
    reference_type: bug
    reference_id: 1710080
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1710996
    reference_type: bug
    reference_id: 1710996
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1725798
    reference_type: bug
    reference_id: 1725798
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1740884
    reference_type: bug
    reference_id: 1740884
