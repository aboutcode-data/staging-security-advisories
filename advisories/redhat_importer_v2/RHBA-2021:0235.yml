advisory_id: RHBA-2021:0235
datasource_id: redhat_importer_v2/RHBA-2021:0235
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2021/rhba-2021_0235.json
aliases:
  - CVE-2021-20182
summary: |
  Red Hat OpenShift Container Platform release 4.6.15 is now available with
  updates to packages and images that fix several bugs.

  Red Hat OpenShift Container Platform is Red Hat's cloud computing
  Kubernetes application platform solution designed for on-premise or private
  cloud deployments.

  This advisory contains the container images for Red Hat OpenShift Container
  Platform 4.6.15. See the following advisory for the RPM packages for this
  release:

  https://access.redhat.com/errata/RHBA-2021:0237

  Space precludes documenting all of the container images in this advisory.
  See the following Release Notes documentation, which will be updated
  shortly for this release, for details about these changes:

  https://docs.openshift.com/container-platform/4.6/release_notes/ocp-4-6-release-notes.html

  This update fixes the following bugs among others:

  * When installing on AWS previously, the Cloud Credential Operator automatically created an OpenID discovery endpoint that could be used to externally authenticate service account tokens obtained with the TokenRequest API. This involved changing the `serviceAccountIssuer` on the kube-apiserver, which invalidated any previously minted tokens. This functionality has been removed. Creation and configuration of the OpenID discovery endpoint and `serviceAccountIssuer` now must be done by the cluster admin at cluster installation time. The `serviceAccountIssuer` can no longer be changed after cluster installation begins. (BZ#1907613)

  * Previously, the log level for the kube-rbac-proxy was set to level 10. This caused excessive detail in the log messages for the kube-rbac-proxy. The log level for the kube-rbac-proxy has been decreased to 3 to match other components, resulting in more appropriate logging detail for most scenarios. (BZ#1908316)

  * Previously, a missing guard in the Red Hat OpenStack Platform (RHOSP) validations could have led to fetching the list of subnets with an empty subnet ID, and caused some non-RHOSP clouds to return unexpected values. The unexpected error code would fail validation and prevent a cluster installation on these non-RHOSP clouds. This has been fixed by adding the missing guard against empty subnet ID. This validation now returns the expected result, allowing a cluster to be installed on more clouds. (BZ#1913813)

  You may download the oc tool and use it to inspect release image metadata as follows:

  (For x86_64 architecture)

  $ oc adm release info quay.io/openshift-release-dev/ocp-release:4.6.15-x86_64

  The image digest is sha256:b70f550e3fa94af2f7d60a3437ec0275194db36f2dc49991da2336fe21e2824c

  (For s390x architecture)

  $ oc adm release info quay.io/openshift-release-dev/ocp-release:4.6.15-s390x

  The image digest is sha256:4f113aa813f96701ea62474bcaa5545451a9cbfbdf3437fa9c24f8a8ac288010

  (For ppc64le architecture)

  $ oc adm release info quay.io/openshift-release-dev/ocp-release:4.6.15-ppc64le

  The image digest is sha256:ef0937ce67e3cc8eafbb613a90ea4434330ae2b2546d0291c164242ef87d67a8

  All OpenShift Container Platform 4.6 users are advised to upgrade to these
  updated packages and images when they are available in the appropriate
  release channel. To check for available updates, use the OpenShift Console
  or the CLI oc command. Instructions for upgrading a cluster are available
  at
  https://docs.openshift.com/container-platform/4.6/updating/updating-cluster-between-minor.html#understanding-upgrade-channels_updating-cluster-between-minor.
impacted_packages: []
severities:
  - score: Important
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2021/rhba-2021_0235.json
weaknesses: []
references:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2021/rhba-2021_0235.json
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1886062
    reference_type: bug
    reference_id: 1886062
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1898160
    reference_type: bug
    reference_id: 1898160
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1907461
    reference_type: bug
    reference_id: '1907461'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1907613
    reference_type: bug
    reference_id: '1907613'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1908316
    reference_type: bug
    reference_id: '1908316'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1908463
    reference_type: bug
    reference_id: '1908463'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1913099
    reference_type: bug
    reference_id: '1913099'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1913813
    reference_type: bug
    reference_id: '1913813'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1914910
    reference_type: bug
    reference_id: '1914910'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1915247
    reference_type: bug
    reference_id: '1915247'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1915583
    reference_type: bug
    reference_id: '1915583'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1915905
    reference_type: bug
    reference_id: '1915905'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1916112
    reference_type: bug
    reference_id: '1916112'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1916335
    reference_type: bug
    reference_id: '1916335'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1917411
    reference_type: bug
    reference_id: '1917411'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1917937
    reference_type: bug
    reference_id: '1917937'
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=1918371
    reference_type: bug
    reference_id: '1918371'
  - url: https://access.redhat.com/errata/RHBA-2021:0235
    reference_type:
    reference_id: RHBA-2021:0235
