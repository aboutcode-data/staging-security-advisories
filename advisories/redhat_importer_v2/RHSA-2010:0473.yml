advisory_id: RHSA-2010:0473
datasource_id: redhat_importer_v2/RHSA-2010:0473
datasource_url: https://security.access.redhat.com/data/csaf/v2/advisories/2010/rhsa-2010_0473.json
aliases:
  - CVE-2010-2223
summary: |
  Updated vdsm packages that fix one security issue, various bugs, and add
  two enhancements are now available for Red Hat Enterprise Linux 5.

  The Red Hat Security Response Team has rated this update as having moderate
  security impact. A Common Vulnerability Scoring System (CVSS) base score,
  which gives a detailed severity rating, is available from the CVE link in
  the References section.

  The Virtual Desktop Server Manager (VDSM) is a management module that
  serves as a Red Hat Enterprise Virtualization Manager (RHEV-M) agent on Red
  Hat Enterprise Virtualization Hypervisor (RHEV-H) or Red Hat Enterprise
  Linux hosts. VDSM allows RHEV-M to manage virtual machines and storage
  pools, and retrieve statistics from both hosts and guests.

  A flaw was found in the way VDSM handled the removal of a virtual machine's
  (VM) data back end (such as an image or a volume). When removing an image
  or a volume, it was not securely deleted from its corresponding data domain
  as expected. A guest user in a new, raw VM, created in a data domain that
  has had VMs deleted from it, could use this flaw to read limited data from
  those deleted VMs, potentially disclosing sensitive information.
  (CVE-2010-2223)

  These updated vdsm packages also fix the following bugs:

  * Kernel Samepage Merging (KSM) did not use all the available memory (due
  to the memory not being zero-filled) if the memory did not belong to the
  Linux guest. Thus, KSM was not effective in distributing the memory to the
  Linux guests with the result of shared memory being unavailable for Linux
  guests. With this update, KSM allows multiple Linux guests to share the
  memory. (BZ#527405)

  * the vds_bootstrap script failed when the host's temporary directory was
  located on a different partition, with the following error:

  [Errno 18] Invalid cross-device link using os.rename

  With this update, vds_bootstrap no longer fails. (BZ#530322)

  * vds_bootstrap failed to add a host to RHEV-M when the 'cpuspeed' and the
  'libvirt' services were not found. With this update, the host is added to
  RHEV-M even when the aforementioned services are not present in the system.
  (BZ#538751)

  * previously, vds_bootstrap attempted to parse blank lines present in
  network scripts (for example, /etc/sysconfig/network-scripts/ifcfg-eth0).
  As a consequence, if a network script contained blank lines, vds_bootstrap
  failed and an error such as follows was written to /var/vdsm/vdsm.log (the
  error example below is consequent to the blank line being present in
  ifcfg-eth0):

  getBridgeParams: failed to read params of file
  /etc/sysconfig/network-scripts/ifcfg-eth0
  Error:list index out of range

  With this update, vds_bootstrap filters blank lines in network
  configuration files, ensuring it does not fail if they are present.
  (BZ#540479)

  * the 'pool connect' utility did not save the master domain's information
  to the disk. If VDSM was restarted, auto-reconnect searched for a master
  domain with the highest version. If the master domain was not available at
  that time, an incorrect domain was chosen as the master. With this update,
  the correct domain is chosen as the master. (BZ#543432)

  * when using the RHEV-M interface to manage high-availability VMs, power
  down requests were not honored. Consequently, some high-availability
  virtual machines automatically rebooted instead of shutting down after they
  received a command to shut down. High-availability VMs now correctly
  process requests to shut down, with the result that no VMs incorrectly
  reboot instead. (BZ#547112)

  * after a host installation, the 'multipathd' service would restart when
  the host was started from a multipath device. With this update, the
  'multipathd' service no longer restarts. (BZ#547305)

  These updated vdsm packages also add the following enhancements:

  * previously, import/export of VMs was not supported. With this update
  import/export have been implemented. (BZ#482608)

  * previously, the ISO image domain could not be shared with multiple Data
  Centers. The user had to define an independent ISO domain for each Data
  Center. With this update, the ISO image domain can be shared between
  multiple Data Centers. (BZ#496448)

  All vdsm users should upgrade to these updated packages, which resolve
  these issues and add these enhancements.
impacted_packages:
  - purl: pkg:rpm/redhat/vdsm22-cli?arch=x86_64
    affected_versions: vers:rpm/<4.5-62.el5rhev
    fixed_versions: vers:rpm/4.5-62.el5rhev
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/vdsm22?arch=x86_64
    affected_versions: vers:rpm/<4.5-62.el5rhev
    fixed_versions: vers:rpm/4.5-62.el5rhev
    fixed_in_commits: []
    introduced_in_commits: []
  - purl: pkg:rpm/redhat/vdsm22-debuginfo?arch=x86_64
    affected_versions: vers:rpm/<4.5-62.el5rhev
    fixed_versions: vers:rpm/4.5-62.el5rhev
    fixed_in_commits: []
    introduced_in_commits: []
severities:
  - score: Moderate
    scoring_system: rhas
    scoring_elements:
    published_at: None
    url: https://security.access.redhat.com/data/csaf/v2/advisories/2010/rhsa-2010_0473.json
weaknesses: []
references:
  - url: https://access.redhat.com/security/updates/classification/#moderate
    reference_type:
    reference_id:
  - url: https://bugzilla.redhat.com/show_bug.cgi?id=604752
    reference_type:
    reference_id:
  - url: https://security.access.redhat.com/data/csaf/v2/advisories/2010/rhsa-2010_0473.json
    reference_type:
    reference_id:
  - url: https://access.redhat.com/errata/RHSA-2010:0473
    reference_type:
    reference_id: RHSA-2010:0473
