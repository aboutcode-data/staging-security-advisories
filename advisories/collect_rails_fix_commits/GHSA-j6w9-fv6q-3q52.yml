advisory_id: GHSA-j6w9-fv6q-3q52
datasource_id: collect_rails_fix_commits/GHSA-j6w9-fv6q-3q52
datasource_url: https://github.com/rails/rails
aliases: []
summary: |
  f7f79480d65f0ffbb7053c24fa091212b8a64fcb:Don't try to set invalid cookies.

  In Rack 3.1, using invalid cookie keys was deprecated and in Rack 3.2,
  using an invalid cookie key will raise an exception.

  Escaping cookie keys is non-standard behaviour and is not understood by
  clients, e.g. `document.cookies` will contain escaped keys. It also
  doesn't round-trip correctly, as in, setting a header with a given name
  won't have the same name in subsequent requests. In addition, the
  escaping / unescaping behaviour in previous versions of Rack
  [caused a security issue](https://github.com/advisories/GHSA-j6w9-fv6q-3q52).
impacted_packages:
  - purl: pkg:github/rails/rails
    affected_versions:
    fixed_versions:
    fixed_in_commits:
      - vcs_url: https://github.com/rails/rails
        commit: f7f79480d65f0ffbb7053c24fa091212b8a64fcb
    introduced_in_commits: []
severities: []
weaknesses: []
references:
  - url: https://github.com/rails/rails/tree/f7f79480d65f0ffbb7053c24fa091212b8a64fcb
    reference_type: commit
    reference_id: f7f79480d65f0ffbb7053c24fa091212b8a64fcb
